!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";function isScope(node){return"FunctionExpression"===node.type||"FunctionDeclaration"===node.type||"ArrowFunctionExpression"===node.type||"Program"===node.type}function isBlockScope(node){return"BlockStatement"===node.type||isScope(node)}function declaresArguments(node){return"FunctionExpression"===node.type||"FunctionDeclaration"===node.type}function declaresThis(node){return"FunctionExpression"===node.type||"FunctionDeclaration"===node.type}function reallyParse(source){return acorn.parse(source,{allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,allowHashBang:!0})}function findGlobals(source){function identifier(node,parents){var name=node.name;if("undefined"!==name){for(var i=0;i<parents.length;i++){if("arguments"===name&&declaresArguments(parents[i]))return;if(parents[i].locals&&name in parents[i].locals)return}node.parents=parents,globals.push(node)}}var ast,globals=[];if(!(ast="string"==typeof source?reallyParse(source):source)||"object"!=typeof ast||"Program"!==ast.type)throw new TypeError("Source must be either a string of JavaScript or an acorn AST");var declareFunction=function(node){var fn=node;fn.locals=fn.locals||{},node.params.forEach(function(node){declarePattern(node,fn)}),node.id&&(fn.locals[node.id.name]=!0)},declarePattern=function(node,parent){switch(node.type){case"Identifier":parent.locals[node.name]=!0;break;case"ObjectPattern":node.properties.forEach(function(node){declarePattern(node.value,parent)});break;case"ArrayPattern":node.elements.forEach(function(node){node&&declarePattern(node,parent)});break;case"RestElement":declarePattern(node.argument,parent);break;case"AssignmentPattern":declarePattern(node.left,parent);break;default:throw new Error("Unrecognized pattern type: "+node.type)}},declareModuleSpecifier=function(node,parents){ast.locals=ast.locals||{},ast.locals[node.local.name]=!0};walk.ancestor(ast,{VariableDeclaration:function(node,parents){for(var parent=null,i=parents.length-1;i>=0&&null===parent;i--)("var"===node.kind?isScope(parents[i]):isBlockScope(parents[i]))&&(parent=parents[i]);parent.locals=parent.locals||{},node.declarations.forEach(function(declaration){declarePattern(declaration.id,parent)})},FunctionDeclaration:function(node,parents){for(var parent=null,i=parents.length-2;i>=0&&null===parent;i--)isScope(parents[i])&&(parent=parents[i]);parent.locals=parent.locals||{},parent.locals[node.id.name]=!0,declareFunction(node)},Function:declareFunction,ClassDeclaration:function(node,parents){for(var parent=null,i=parents.length-2;i>=0&&null===parent;i--)isScope(parents[i])&&(parent=parents[i]);parent.locals=parent.locals||{},parent.locals[node.id.name]=!0},TryStatement:function(node){null!==node.handler&&(node.handler.locals=node.handler.locals||{},node.handler.locals[node.handler.param.name]=!0)},ImportDefaultSpecifier:declareModuleSpecifier,ImportSpecifier:declareModuleSpecifier,ImportNamespaceSpecifier:declareModuleSpecifier}),walk.ancestor(ast,{VariablePattern:identifier,Identifier:identifier,ThisExpression:function(node,parents){for(var i=0;i<parents.length;i++)if(declaresThis(parents[i]))return;node.parents=parents,globals.push(node)}});var groupedGlobals={};return globals.forEach(function(node){var name="ThisExpression"===node.type?"this":node.name;groupedGlobals[name]=groupedGlobals[name]||[],groupedGlobals[name].push(node)}),Object.keys(groupedGlobals).sort().map(function(name){return{name:name,nodes:groupedGlobals[name]}})}var acorn=require("acorn"),walk=require("acorn/dist/walk");module.exports=findGlobals,module.exports.parse=reallyParse},{acorn:2,"acorn/dist/walk":3}],2:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.acorn=global.acorn||{})}(this,function(exports){"use strict";function isInAstralSet(code,set){for(var pos=65536,i=0;i<set.length;i+=2){if((pos+=set[i])>code)return!1;if((pos+=set[i+1])>=code)return!0}}function isIdentifierStart(code,astral){return code<65?36===code:code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)):!1!==astral&&isInAstralSet(code,astralIdentifierStartCodes)))}function isIdentifierChar(code,astral){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifier.test(String.fromCharCode(code)):!1!==astral&&(isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)))))}function binop(name,prec){return new TokenType(name,{beforeExpr:!0,binop:prec})}function kw(name,options){return void 0===options&&(options={}),options.keyword=name,keywordTypes[name]=new TokenType(name,options)}function isNewLine(code){return 10===code||13===code||8232===code||8233===code}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}function getLineInfo(input,offset){for(var line=1,cur=0;;){lineBreakG.lastIndex=cur;var match=lineBreakG.exec(input);if(!(match&&match.index<offset))return new Position(line,offset-cur);++line,cur=match.index+match[0].length}}function getOptions(opts){var options={};for(var opt in defaultOptions)options[opt]=opts&&has(opts,opt)?opts[opt]:defaultOptions[opt];if(options.ecmaVersion>=2015&&(options.ecmaVersion-=2009),null==options.allowReserved&&(options.allowReserved=options.ecmaVersion<5),isArray(options.onToken)){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}}return isArray(options.onComment)&&(options.onComment=pushComment(options,options.onComment)),options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};options.locations&&(comment.loc=new SourceLocation(this,startLoc,endLoc)),options.ranges&&(comment.range=[start,end]),array.push(comment)}}function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}function finishNodeAt(node,type,pos,loc){return node.type=type,node.end=pos,this.options.locations&&(node.loc.end=loc),this.options.ranges&&(node.range[1]=pos),node}function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(void 0!==throwErrorAt)throw e instanceof SyntaxError&&parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message),e}}function codePointToString(code){return code<=65535?String.fromCharCode(code):(code-=65536,String.fromCharCode(55296+(code>>10),56320+(1023&code)))}function parse(input,options){return new Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new Parser(options,input,pos);return p.nextToken(),p.parseExpression()}function tokenizer(input,options){return new Parser(options,input)}function addLooseExports(parse,Parser,plugins){exports.parse_dammit=parse,exports.LooseParser=Parser,exports.pluginsLoose=plugins}var reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"},nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],TokenType=function(label,conf){void 0===conf&&(conf={}),this.label=label,this.keyword=conf.keyword,this.beforeExpr=!!conf.beforeExpr,this.startsExpr=!!conf.startsExpr,this.isLoop=!!conf.isLoop,this.isAssign=!!conf.isAssign,this.prefix=!!conf.prefix,this.postfix=!!conf.postfix,this.binop=conf.binop||null,this.updateContext=null},beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywordTypes={},tt={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class"),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import"),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g"),nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Position=function(line,col){this.line=line,this.column=col};Position.prototype.offset=function(n){return new Position(this.line,this.column+n)};var SourceLocation=function(p,start,end){this.start=start,this.end=end,null!==p.sourceFile&&(this.source=p.sourceFile)},defaultOptions={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},plugins={},Parser=function(options,input,startPos){this.options=options=getOptions(options),this.sourceFile=options.sourceFile,this.keywords=keywordRegexp(keywords[options.ecmaVersion>=6?6:5]);var reserved="";if(!options.allowReserved){for(var v=options.ecmaVersion;!(reserved=reservedWords[v]);v--);"module"==options.sourceType&&(reserved+=" await")}this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict),this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+reservedWords.strictBind),this.input=String(input),this.containsEsc=!1,this.loadPlugins(options.plugins),startPos?(this.pos=startPos,this.lineStart=this.input.lastIndexOf("\n",startPos-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=tt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===options.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)};Parser.prototype.isKeyword=function(word){return this.keywords.test(word)},Parser.prototype.isReservedWord=function(word){return this.reservedWords.test(word)},Parser.prototype.extend=function(name,f){this[name]=f(this[name])},Parser.prototype.loadPlugins=function(pluginConfigs){var this$1=this;for(var name in pluginConfigs){var plugin=plugins[name];if(!plugin)throw new Error("Plugin '"+name+"' not found");plugin(this$1,pluginConfigs[name])}},Parser.prototype.parse=function(){var node=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(node)};var pp=Parser.prototype,literal=/^(?:'((?:[^\']|\.)*)'|"((?:[^\"]|\.)*)"|;)/;pp.strictDirective=function(start){for(var this$1=this;;){skipWhiteSpace.lastIndex=start,start+=skipWhiteSpace.exec(this$1.input)[0].length;var match=literal.exec(this$1.input.slice(start));if(!match)return!1;if("use strict"==(match[1]||match[2]))return!0;start+=match[0].length}},pp.eat=function(type){return this.type===type&&(this.next(),!0)},pp.isContextual=function(name){return this.type===tt.name&&this.value===name},pp.eatContextual=function(name){return this.value===name&&this.eat(tt.name)},pp.expectContextual=function(name){this.eatContextual(name)||this.unexpected()},pp.canInsertSemicolon=function(){return this.type===tt.eof||this.type===tt.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp.semicolon=function(){this.eat(tt.semi)||this.insertSemicolon()||this.unexpected()},pp.afterTrailingComma=function(tokType,notNext){if(this.type==tokType)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),notNext||this.next(),!0},pp.expect=function(type){this.eat(type)||this.unexpected()},pp.unexpected=function(pos){this.raise(null!=pos?pos:this.start,"Unexpected token")};var DestructuringErrors=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=-1};pp.checkPatternErrors=function(refDestructuringErrors,isAssign){if(refDestructuringErrors){refDestructuringErrors.trailingComma>-1&&this.raiseRecoverable(refDestructuringErrors.trailingComma,"Comma is not permitted after the rest element");var parens=isAssign?refDestructuringErrors.parenthesizedAssign:refDestructuringErrors.parenthesizedBind;parens>-1&&this.raiseRecoverable(parens,"Parenthesized pattern")}},pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors?refDestructuringErrors.shorthandAssign:-1;if(!andThrow)return pos>=0;pos>-1&&this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")},pp.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pp.isSimpleAssignTarget=function(expr){return"ParenthesizedExpression"===expr.type?this.isSimpleAssignTarget(expr.expression):"Identifier"===expr.type||"MemberExpression"===expr.type};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(node){var this$1=this,exports={};for(node.body||(node.body=[]);this.type!==tt.eof;){var stmt=this$1.parseStatement(!0,!0,exports);node.body.push(stmt)}return this.next(),this.options.ecmaVersion>=6&&(node.sourceType=this.options.sourceType),this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(){if(this.type!==tt.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input),next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(91===nextCh||123==nextCh)return!0;if(isIdentifierStart(nextCh,!0)){for(var pos=next+1;isIdentifierChar(this.input.charCodeAt(pos),!0);++pos);var ident=this.input.slice(next,pos);if(!this.isKeyword(ident))return!0}return!1},pp$1.isAsyncFunction=function(){if(this.type!==tt.name||this.options.ecmaVersion<8||"async"!=this.value)return!1;skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input),next=this.pos+skip[0].length;return!(lineBreak.test(this.input.slice(this.pos,next))||"function"!==this.input.slice(next,next+8)||next+8!=this.input.length&&isIdentifierChar(this.input.charAt(next+8)))},pp$1.parseStatement=function(declaration,topLevel,exports){var kind,starttype=this.type,node=this.startNode();switch(this.isLet()&&(starttype=tt._var,kind="let"),starttype){case tt._break:case tt._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case tt._debugger:return this.parseDebuggerStatement(node);case tt._do:return this.parseDoStatement(node);case tt._for:return this.parseForStatement(node);case tt._function:return!declaration&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(node,!1);case tt._class:return declaration||this.unexpected(),this.parseClass(node,!0);case tt._if:return this.parseIfStatement(node);case tt._return:return this.parseReturnStatement(node);case tt._switch:return this.parseSwitchStatement(node);case tt._throw:return this.parseThrowStatement(node);case tt._try:return this.parseTryStatement(node);case tt._const:case tt._var:return kind=kind||this.value,declaration||"var"==kind||this.unexpected(),this.parseVarStatement(node,kind);case tt._while:return this.parseWhileStatement(node);case tt._with:return this.parseWithStatement(node);case tt.braceL:return this.parseBlock();case tt.semi:return this.parseEmptyStatement(node);case tt._export:case tt._import:return this.options.allowImportExportEverywhere||(topLevel||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),starttype===tt._import?this.parseImport(node):this.parseExport(node,exports);default:if(this.isAsyncFunction()&&declaration)return this.next(),this.parseFunctionStatement(node,!0);var maybeName=this.value,expr=this.parseExpression();return starttype===tt.name&&"Identifier"===expr.type&&this.eat(tt.colon)?this.parseLabeledStatement(node,maybeName,expr):this.parseExpressionStatement(node,expr)}},pp$1.parseBreakContinueStatement=function(node,keyword){var this$1=this,isBreak="break"==keyword;this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.label=null:this.type!==tt.name?this.unexpected():(node.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var lab=this$1.labels[i];if(null==node.label||lab.name===node.label.name){if(null!=lab.kind&&(isBreak||"loop"===lab.kind))break;if(node.label&&isBreak)break}}return i===this.labels.length&&this.raise(node.start,"Unsyntactic "+keyword),this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")},pp$1.parseDebuggerStatement=function(node){return this.next(),this.semicolon(),this.finishNode(node,"DebuggerStatement")},pp$1.parseDoStatement=function(node){return this.next(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.expect(tt._while),node.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(tt.semi):this.semicolon(),this.finishNode(node,"DoWhileStatement")},pp$1.parseForStatement=function(node){if(this.next(),this.labels.push(loopLabel),this.expect(tt.parenL),this.type===tt.semi)return this.parseFor(node,null);var isLet=this.isLet();if(this.type===tt._var||this.type===tt._const||isLet){var init$1=this.startNode(),kind=isLet?"let":this.value;return this.next(),this.parseVar(init$1,!0,kind),this.finishNode(init$1,"VariableDeclaration"),!(this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==init$1.declarations.length||"var"!==kind&&init$1.declarations[0].init?this.parseFor(node,init$1):this.parseForIn(node,init$1)}var refDestructuringErrors=new DestructuringErrors,init=this.parseExpression(!0,refDestructuringErrors);return this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(init),this.checkLVal(init),this.checkPatternErrors(refDestructuringErrors,!0),this.parseForIn(node,init)):(this.checkExpressionErrors(refDestructuringErrors,!0),this.parseFor(node,init))},pp$1.parseFunctionStatement=function(node,isAsync){return this.next(),this.parseFunction(node,!0,!1,isAsync)},pp$1.isFunction=function(){return this.type===tt._function||this.isAsyncFunction()},pp$1.parseIfStatement=function(node){return this.next(),node.test=this.parseParenExpression(),node.consequent=this.parseStatement(!this.strict&&this.isFunction()),node.alternate=this.eat(tt._else)?this.parseStatement(!this.strict&&this.isFunction()):null,this.finishNode(node,"IfStatement")},pp$1.parseReturnStatement=function(node){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.argument=null:(node.argument=this.parseExpression(),this.semicolon()),this.finishNode(node,"ReturnStatement")},pp$1.parseSwitchStatement=function(node){var this$1=this;this.next(),node.discriminant=this.parseParenExpression(),node.cases=[],this.expect(tt.braceL),this.labels.push(switchLabel);for(var cur,sawDefault=!1;this.type!=tt.braceR;)if(this$1.type===tt._case||this$1.type===tt._default){var isCase=this$1.type===tt._case;cur&&this$1.finishNode(cur,"SwitchCase"),node.cases.push(cur=this$1.startNode()),cur.consequent=[],this$1.next(),isCase?cur.test=this$1.parseExpression():(sawDefault&&this$1.raiseRecoverable(this$1.lastTokStart,"Multiple default clauses"),sawDefault=!0,cur.test=null),this$1.expect(tt.colon)}else cur||this$1.unexpected(),cur.consequent.push(this$1.parseStatement(!0));return cur&&this.finishNode(cur,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(node,"SwitchStatement")},pp$1.parseThrowStatement=function(node){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),node.argument=this.parseExpression(),this.semicolon(),this.finishNode(node,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(node){if(this.next(),node.block=this.parseBlock(),node.handler=null,this.type===tt._catch){var clause=this.startNode();this.next(),this.expect(tt.parenL),clause.param=this.parseBindingAtom(),this.checkLVal(clause.param,!0),this.expect(tt.parenR),clause.body=this.parseBlock(),node.handler=this.finishNode(clause,"CatchClause")}return node.finalizer=this.eat(tt._finally)?this.parseBlock():null,node.handler||node.finalizer||this.raise(node.start,"Missing catch or finally clause"),this.finishNode(node,"TryStatement")},pp$1.parseVarStatement=function(node,kind){return this.next(),this.parseVar(node,!1,kind),this.semicolon(),this.finishNode(node,"VariableDeclaration")},pp$1.parseWhileStatement=function(node){return this.next(),node.test=this.parseParenExpression(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"WhileStatement")},pp$1.parseWithStatement=function(node){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),node.object=this.parseParenExpression(),node.body=this.parseStatement(!1),this.finishNode(node,"WithStatement")},pp$1.parseEmptyStatement=function(node){return this.next(),this.finishNode(node,"EmptyStatement")},pp$1.parseLabeledStatement=function(node,maybeName,expr){for(var this$1=this,i=0;i<this.labels.length;++i)this$1.labels[i].name===maybeName&&this$1.raise(expr.start,"Label '"+maybeName+"' is already declared");for(var kind=this.type.isLoop?"loop":this.type===tt._switch?"switch":null,i$1=this.labels.length-1;i$1>=0;i$1--){var label=this$1.labels[i$1];if(label.statementStart!=node.start)break;label.statementStart=this$1.start,label.kind=kind}return this.labels.push({name:maybeName,kind:kind,statementStart:this.start}),node.body=this.parseStatement(!0),("ClassDeclaration"==node.body.type||"VariableDeclaration"==node.body.type&&(this.strict||"var"!=node.body.kind)||"FunctionDeclaration"==node.body.type&&(this.strict||node.body.generator))&&this.raiseRecoverable(node.body.start,"Invalid labeled declaration"),this.labels.pop(),node.label=expr,this.finishNode(node,"LabeledStatement")},pp$1.parseExpressionStatement=function(node,expr){return node.expression=expr,this.semicolon(),this.finishNode(node,"ExpressionStatement")},pp$1.parseBlock=function(){var this$1=this,node=this.startNode();for(node.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);){var stmt=this$1.parseStatement(!0);node.body.push(stmt)}return this.finishNode(node,"BlockStatement")},pp$1.parseFor=function(node,init){return node.init=init,this.expect(tt.semi),node.test=this.type===tt.semi?null:this.parseExpression(),this.expect(tt.semi),node.update=this.type===tt.parenR?null:this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"ForStatement")},pp$1.parseForIn=function(node,init){var type=this.type===tt._in?"ForInStatement":"ForOfStatement";return this.next(),node.left=init,node.right=this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,type)},pp$1.parseVar=function(node,isFor,kind){var this$1=this;for(node.declarations=[],node.kind=kind;;){var decl=this$1.startNode();if(this$1.parseVarId(decl),this$1.eat(tt.eq)?decl.init=this$1.parseMaybeAssign(isFor):"const"!==kind||this$1.type===tt._in||this$1.options.ecmaVersion>=6&&this$1.isContextual("of")?"Identifier"==decl.id.type||isFor&&(this$1.type===tt._in||this$1.isContextual("of"))?decl.init=null:this$1.raise(this$1.lastTokEnd,"Complex binding patterns require an initialization value"):this$1.unexpected(),node.declarations.push(this$1.finishNode(decl,"VariableDeclarator")),!this$1.eat(tt.comma))break}return node},pp$1.parseVarId=function(decl){decl.id=this.parseBindingAtom(),this.checkLVal(decl.id,!0)},pp$1.parseFunction=function(node,isStatement,allowExpressionBody,isAsync){this.initFunction(node),this.options.ecmaVersion>=6&&!isAsync&&(node.generator=this.eat(tt.star)),this.options.ecmaVersion>=8&&(node.async=!!isAsync),null==isStatement&&(isStatement=this.type==tt.name),isStatement&&(node.id=this.parseIdent());var oldInGen=this.inGenerator,oldInAsync=this.inAsync,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldInFunc=this.inFunction;return this.inGenerator=node.generator,this.inAsync=node.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,isStatement||this.type!==tt.name||(node.id=this.parseIdent()),this.parseFunctionParams(node),this.parseFunctionBody(node,allowExpressionBody),this.inGenerator=oldInGen,this.inAsync=oldInAsync,this.yieldPos=oldYieldPos,this.awaitPos=oldAwaitPos,this.inFunction=oldInFunc,this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")},pp$1.parseFunctionParams=function(node){this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,this.options.ecmaVersion>=8,!0),this.checkYieldAwaitInDefaultParams()},pp$1.parseClass=function(node,isStatement){var this$1=this;this.next(),null==isStatement&&(isStatement=this.type===tt.name),
this.parseClassId(node,isStatement),this.parseClassSuper(node);var classBody=this.startNode(),hadConstructor=!1;for(classBody.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);)if(!this$1.eat(tt.semi)){var method=this$1.startNode(),isGenerator=this$1.eat(tt.star),isAsync=!1,isMaybeStatic=this$1.type===tt.name&&"static"===this$1.value;this$1.parsePropertyName(method),method.static=isMaybeStatic&&this$1.type!==tt.parenL,method.static&&(isGenerator&&this$1.unexpected(),isGenerator=this$1.eat(tt.star),this$1.parsePropertyName(method)),this$1.options.ecmaVersion>=8&&!isGenerator&&!method.computed&&"Identifier"===method.key.type&&"async"===method.key.name&&this$1.type!==tt.parenL&&!this$1.canInsertSemicolon()&&(isAsync=!0,this$1.parsePropertyName(method)),method.kind="method";var isGetSet=!1;if(!method.computed){var key=method.key;isGenerator||isAsync||"Identifier"!==key.type||this$1.type===tt.parenL||"get"!==key.name&&"set"!==key.name||(isGetSet=!0,method.kind=key.name,key=this$1.parsePropertyName(method)),!method.static&&("Identifier"===key.type&&"constructor"===key.name||"Literal"===key.type&&"constructor"===key.value)&&(hadConstructor&&this$1.raise(key.start,"Duplicate constructor in the same class"),isGetSet&&this$1.raise(key.start,"Constructor can't have get/set modifier"),isGenerator&&this$1.raise(key.start,"Constructor can't be a generator"),isAsync&&this$1.raise(key.start,"Constructor can't be an async method"),method.kind="constructor",hadConstructor=!0)}if(this$1.parseClassMethod(classBody,method,isGenerator,isAsync),isGetSet){var paramCount="get"===method.kind?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;"get"===method.kind?this$1.raiseRecoverable(start,"getter should have no params"):this$1.raiseRecoverable(start,"setter should have exactly one param")}else"set"===method.kind&&"RestElement"===method.value.params[0].type&&this$1.raiseRecoverable(method.value.params[0].start,"Setter cannot use rest params")}}return node.body=this.finishNode(classBody,"ClassBody"),this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")},pp$1.parseClassMethod=function(classBody,method,isGenerator,isAsync){method.value=this.parseMethod(isGenerator,isAsync),classBody.body.push(this.finishNode(method,"MethodDefinition"))},pp$1.parseClassId=function(node,isStatement){node.id=this.type===tt.name?this.parseIdent():isStatement?this.unexpected():null},pp$1.parseClassSuper=function(node){node.superClass=this.eat(tt._extends)?this.parseExprSubscripts():null},pp$1.parseExport=function(node,exports){var this$1=this;if(this.next(),this.eat(tt.star))return this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(node,"ExportAllDeclaration");if(this.eat(tt._default)){this.checkExport(exports,"default",this.lastTokStart);var isAsync;if(this.type===tt._function||(isAsync=this.isAsyncFunction())){var fNode=this.startNode();this.next(),isAsync&&this.next(),node.declaration=this.parseFunction(fNode,null,!1,isAsync)}else if(this.type===tt._class){var cNode=this.startNode();node.declaration=this.parseClass(cNode,null)}else node.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())node.declaration=this.parseStatement(!0),"VariableDeclaration"===node.declaration.type?this.checkVariableExport(exports,node.declaration.declarations):this.checkExport(exports,node.declaration.id.name,node.declaration.id.start),node.specifiers=[],node.source=null;else{if(node.declaration=null,node.specifiers=this.parseExportSpecifiers(exports),this.eatContextual("from"))node.source=this.type===tt.string?this.parseExprAtom():this.unexpected();else{for(var i=0;i<node.specifiers.length;i++)(this$1.keywords.test(node.specifiers[i].local.name)||this$1.reservedWords.test(node.specifiers[i].local.name))&&this$1.unexpected(node.specifiers[i].local.start);node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")},pp$1.checkExport=function(exports,name,pos){exports&&(Object.prototype.hasOwnProperty.call(exports,name)&&this.raiseRecoverable(pos,"Duplicate export '"+name+"'"),exports[name]=!0)},pp$1.checkPatternExport=function(exports,pat){var this$1=this,type=pat.type;if("Identifier"==type)this.checkExport(exports,pat.name,pat.start);else if("ObjectPattern"==type)for(var i=0;i<pat.properties.length;++i)this$1.checkPatternExport(exports,pat.properties[i].value);else if("ArrayPattern"==type)for(var i$1=0;i$1<pat.elements.length;++i$1){var elt=pat.elements[i$1];elt&&this$1.checkPatternExport(exports,elt)}else"AssignmentPattern"==type?this.checkPatternExport(exports,pat.left):"ParenthesizedExpression"==type&&this.checkPatternExport(exports,pat.expression)},pp$1.checkVariableExport=function(exports,decls){var this$1=this;if(exports)for(var i=0;i<decls.length;i++)this$1.checkPatternExport(exports,decls[i].id)},pp$1.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},pp$1.parseExportSpecifiers=function(exports){var this$1=this,nodes=[],first=!0;for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node=this$1.startNode();node.local=this$1.parseIdent(!0),node.exported=this$1.eatContextual("as")?this$1.parseIdent(!0):node.local,this$1.checkExport(exports,node.exported.name,node.exported.start),nodes.push(this$1.finishNode(node,"ExportSpecifier"))}return nodes},pp$1.parseImport=function(node){return this.next(),this.type===tt.string?(node.specifiers=empty,node.source=this.parseExprAtom()):(node.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(node,"ImportDeclaration")},pp$1.parseImportSpecifiers=function(){var this$1=this,nodes=[],first=!0;if(this.type===tt.name){var node=this.startNode();if(node.local=this.parseIdent(),this.checkLVal(node.local,!0),nodes.push(this.finishNode(node,"ImportDefaultSpecifier")),!this.eat(tt.comma))return nodes}if(this.type===tt.star){var node$1=this.startNode();return this.next(),this.expectContextual("as"),node$1.local=this.parseIdent(),this.checkLVal(node$1.local,!0),nodes.push(this.finishNode(node$1,"ImportNamespaceSpecifier")),nodes}for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node$2=this$1.startNode();node$2.imported=this$1.parseIdent(!0),this$1.eatContextual("as")?node$2.local=this$1.parseIdent():(node$2.local=node$2.imported,this$1.isKeyword(node$2.local.name)&&this$1.unexpected(node$2.local.start),this$1.reservedWordsStrict.test(node$2.local.name)&&this$1.raiseRecoverable(node$2.local.start,"The keyword '"+node$2.local.name+"' is reserved")),this$1.checkLVal(node$2.local,!0),nodes.push(this$1.finishNode(node$2,"ImportSpecifier"))}return nodes};var pp$2=Parser.prototype;pp$2.toAssignable=function(node,isBinding){var this$1=this;if(this.options.ecmaVersion>=6&&node)switch(node.type){case"Identifier":this.inAsync&&"await"===node.name&&this.raise(node.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];"init"!==prop.kind&&this$1.raise(prop.key.start,"Object pattern can't contain getter or setter"),this$1.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern",this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if("="!==node.operator){this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}node.type="AssignmentPattern",delete node.operator,this.toAssignable(node.left,isBinding);case"AssignmentPattern":break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}return node},pp$2.toAssignableList=function(exprList,isBinding){var this$1=this,end=exprList.length;if(end){var last=exprList[end-1];if(last&&"RestElement"==last.type)--end;else if(last&&"SpreadElement"==last.type){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding),"Identifier"!==arg.type&&"MemberExpression"!==arg.type&&"ArrayPattern"!==arg.type&&this.unexpected(arg.start),--end}isBinding&&last&&"RestElement"===last.type&&"Identifier"!==last.argument.type&&this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];elt&&this$1.toAssignable(elt,isBinding)}return exprList},pp$2.parseSpread=function(refDestructuringErrors){var node=this.startNode();return this.next(),node.argument=this.parseMaybeAssign(!1,refDestructuringErrors),this.finishNode(node,"SpreadElement")},pp$2.parseRest=function(allowNonIdent){var node=this.startNode();return this.next(),node.argument=allowNonIdent?this.type===tt.name?this.parseIdent():this.unexpected():this.type===tt.name||this.type===tt.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(node,"RestElement")},pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case tt.name:return this.parseIdent();case tt.bracketL:var node=this.startNode();return this.next(),node.elements=this.parseBindingList(tt.bracketR,!0,!0),this.finishNode(node,"ArrayPattern");case tt.braceL:return this.parseObj(!0);default:this.unexpected()}},pp$2.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){for(var this$1=this,elts=[],first=!0;!this.eat(close);)if(first?first=!1:this$1.expect(tt.comma),allowEmpty&&this$1.type===tt.comma)elts.push(null);else{if(allowTrailingComma&&this$1.afterTrailingComma(close))break;if(this$1.type===tt.ellipsis){var rest=this$1.parseRest(allowNonIdent);this$1.parseBindingListItem(rest),elts.push(rest),this$1.type===tt.comma&&this$1.raise(this$1.start,"Comma is not permitted after the rest element"),this$1.expect(close);break}var elem=this$1.parseMaybeDefault(this$1.start,this$1.startLoc);this$1.parseBindingListItem(elem),elts.push(elem)}return elts},pp$2.parseBindingListItem=function(param){return param},pp$2.parseMaybeDefault=function(startPos,startLoc,left){if(left=left||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(tt.eq))return left;var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.right=this.parseMaybeAssign(),this.finishNode(node,"AssignmentPattern")},pp$2.checkLVal=function(expr,isBinding,checkClashes){var this$1=this;switch(expr.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(expr.name)&&this.raiseRecoverable(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode"),checkClashes&&(has(checkClashes,expr.name)&&this.raiseRecoverable(expr.start,"Argument name clash"),checkClashes[expr.name]=!0);break;case"MemberExpression":isBinding&&this.raiseRecoverable(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++)this$1.checkLVal(expr.properties[i].value,isBinding,checkClashes);break;case"ArrayPattern":for(var i$1=0;i$1<expr.elements.length;i$1++){var elem=expr.elements[i$1];elem&&this$1.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(prop,propHash){if(!(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))){var name,key=prop.key;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===name&&"init"===kind&&(propHash.proto&&this.raiseRecoverable(key.start,"Redefinition of __proto__ property"),propHash.proto=!0));name="$"+name;var other=propHash[name];if(other){var isGetSet="init"!==kind;(!this.strict&&!isGetSet||!other[kind])&&isGetSet^other.init||this.raiseRecoverable(key.start,"Redefinition of property")}else other=propHash[name]={init:!1,get:!1,set:!1};other[kind]=!0}},pp$3.parseExpression=function(noIn,refDestructuringErrors){var this$1=this,startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===tt.comma){var node=this.startNodeAt(startPos,startLoc);for(node.expressions=[expr];this.eat(tt.comma);)node.expressions.push(this$1.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr},pp$3.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var ownDestructuringErrors=!1,oldParenAssign=-1;refDestructuringErrors?(oldParenAssign=refDestructuringErrors.parenthesizedAssign,refDestructuringErrors.parenthesizedAssign=-1):(refDestructuringErrors=new DestructuringErrors,ownDestructuringErrors=!0);var startPos=this.start,startLoc=this.startLoc;this.type!=tt.parenL&&this.type!=tt.name||(this.potentialArrowAt=this.start);var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse&&(left=afterLeftParse.call(this,left,startPos,startLoc)),this.type.isAssign){this.checkPatternErrors(refDestructuringErrors,!0),ownDestructuringErrors||DestructuringErrors.call(refDestructuringErrors);var node=this.startNodeAt(startPos,startLoc);return node.operator=this.value,node.left=this.type===tt.eq?this.toAssignable(left):left,refDestructuringErrors.shorthandAssign=-1,this.checkLVal(left),this.next(),node.right=this.parseMaybeAssign(noIn),this.finishNode(node,"AssignmentExpression")}return ownDestructuringErrors&&this.checkExpressionErrors(refDestructuringErrors,!0),oldParenAssign>-1&&(refDestructuringErrors.parenthesizedAssign=oldParenAssign),left},pp$3.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(tt.question)){var node=this.startNodeAt(startPos,startLoc);return node.test=expr,node.consequent=this.parseMaybeAssign(),this.expect(tt.colon),node.alternate=this.parseMaybeAssign(noIn),this.finishNode(node,"ConditionalExpression")}return expr},pp$3.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeUnary(refDestructuringErrors,!1);return this.checkExpressionErrors(refDestructuringErrors)?expr:this.parseExprOp(expr,startPos,startLoc,-1,noIn)},pp$3.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(null!=prec&&(!noIn||this.type!==tt._in)&&prec>minPrec){var logical=this.type===tt.logicalOR||this.type===tt.logicalAND,op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc,right=this.parseExprOp(this.parseMaybeUnary(null,!1),startPos,startLoc,prec,noIn),node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical);return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}return left},pp$3.buildBinary=function(startPos,startLoc,left,right,op,logical){var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.operator=op,node.right=right,this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")},pp$3.parseMaybeUnary=function(refDestructuringErrors,sawUnary){var expr,this$1=this,startPos=this.start,startLoc=this.startLoc;if(this.inAsync&&this.isContextual("await"))expr=this.parseAwait(refDestructuringErrors),sawUnary=!0;else if(this.type.prefix){var node=this.startNode(),update=this.type===tt.incDec;node.operator=this.value,node.prefix=!0,this.next(),node.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(refDestructuringErrors,!0),update?this.checkLVal(node.argument):this.strict&&"delete"===node.operator&&"Identifier"===node.argument.type?this.raiseRecoverable(node.start,"Deleting local variable in strict mode"):sawUnary=!0,expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else{if(expr=this.parseExprSubscripts(refDestructuringErrors),this.checkExpressionErrors(refDestructuringErrors))return expr;for(;this.type.postfix&&!this.canInsertSemicolon();){var node$1=this$1.startNodeAt(startPos,startLoc);node$1.operator=this$1.value,node$1.prefix=!1,node$1.argument=expr,this$1.checkLVal(expr),this$1.next(),expr=this$1.finishNode(node$1,"UpdateExpression")}}return!sawUnary&&this.eat(tt.starstar)?this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,!1),"**",!1):expr},pp$3.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprAtom(refDestructuringErrors),skipArrowSubscripts="ArrowFunctionExpression"===expr.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts)return expr;var result=this.parseSubscripts(expr,startPos,startLoc);return refDestructuringErrors&&"MemberExpression"===result.type&&(refDestructuringErrors.parenthesizedAssign>=result.start&&(refDestructuringErrors.parenthesizedAssign=-1),refDestructuringErrors.parenthesizedBind>=result.start&&(refDestructuringErrors.parenthesizedBind=-1)),result},pp$3.parseSubscripts=function(base,startPos,startLoc,noCalls){for(var computed,this$1=this,maybeAsyncArrow=this.options.ecmaVersion>=8&&"Identifier"===base.type&&"async"===base.name&&this.lastTokEnd==base.end&&!this.canInsertSemicolon();;)if((computed=this$1.eat(tt.bracketL))||this$1.eat(tt.dot)){var node=this$1.startNodeAt(startPos,startLoc);node.object=base,node.property=computed?this$1.parseExpression():this$1.parseIdent(!0),node.computed=!!computed,computed&&this$1.expect(tt.bracketR),base=this$1.finishNode(node,"MemberExpression")}else if(!noCalls&&this$1.eat(tt.parenL)){var refDestructuringErrors=new DestructuringErrors,oldYieldPos=this$1.yieldPos,oldAwaitPos=this$1.awaitPos;this$1.yieldPos=0,this$1.awaitPos=0;var exprList=this$1.parseExprList(tt.parenR,this$1.options.ecmaVersion>=8,!1,refDestructuringErrors);if(maybeAsyncArrow&&!this$1.canInsertSemicolon()&&this$1.eat(tt.arrow))return this$1.checkPatternErrors(refDestructuringErrors,!1),this$1.checkYieldAwaitInDefaultParams(),this$1.yieldPos=oldYieldPos,this$1.awaitPos=oldAwaitPos,this$1.parseArrowExpression(this$1.startNodeAt(startPos,startLoc),exprList,!0);this$1.checkExpressionErrors(refDestructuringErrors,!0),this$1.yieldPos=oldYieldPos||this$1.yieldPos,this$1.awaitPos=oldAwaitPos||this$1.awaitPos;var node$1=this$1.startNodeAt(startPos,startLoc);node$1.callee=base,node$1.arguments=exprList,base=this$1.finishNode(node$1,"CallExpression")}else{if(this$1.type!==tt.backQuote)return base;var node$2=this$1.startNodeAt(startPos,startLoc);node$2.tag=base,node$2.quasi=this$1.parseTemplate(),base=this$1.finishNode(node$2,"TaggedTemplateExpression")}},pp$3.parseExprAtom=function(refDestructuringErrors){var node,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case tt._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case tt._this:var type=this.type===tt._this?"ThisExpression":"Super";return node=this.startNode(),this.next(),this.finishNode(node,type);case tt.name:var startPos=this.start,startLoc=this.startLoc,id=this.parseIdent(this.type!==tt.name);if(this.options.ecmaVersion>=8&&"async"===id.name&&!this.canInsertSemicolon()&&this.eat(tt._function))return this.parseFunction(this.startNodeAt(startPos,startLoc),!1,!1,!0);if(canBeArrow&&!this.canInsertSemicolon()){if(this.eat(tt.arrow))return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id],!1);if(this.options.ecmaVersion>=8&&"async"===id.name&&this.type===tt.name)return id=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(tt.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id],!0)}return id;case tt.regexp:var value=this.value;return node=this.parseLiteral(value.value),node.regex={pattern:value.pattern,flags:value.flags},node;case tt.num:case tt.string:return this.parseLiteral(this.value);case tt._null:case tt._true:case tt._false:return node=this.startNode(),node.value=this.type===tt._null?null:this.type===tt._true,node.raw=this.type.keyword,this.next(),this.finishNode(node,"Literal");case tt.parenL:var start=this.start,expr=this.parseParenAndDistinguishExpression(canBeArrow);return refDestructuringErrors&&(refDestructuringErrors.parenthesizedAssign<0&&!this.isSimpleAssignTarget(expr)&&(refDestructuringErrors.parenthesizedAssign=start),refDestructuringErrors.parenthesizedBind<0&&(refDestructuringErrors.parenthesizedBind=start)),expr;case tt.bracketL:return node=this.startNode(),this.next(),node.elements=this.parseExprList(tt.bracketR,!0,!0,refDestructuringErrors),this.finishNode(node,"ArrayExpression");case tt.braceL:return this.parseObj(!1,refDestructuringErrors);case tt._function:return node=this.startNode(),this.next(),this.parseFunction(node,!1);case tt._class:return this.parseClass(this.startNode(),!1);case tt._new:return this.parseNew();case tt.backQuote:return this.parseTemplate();default:this.unexpected()}},pp$3.parseLiteral=function(value){var node=this.startNode();return node.value=value,node.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(node,"Literal")},pp$3.parseParenExpression=function(){this.expect(tt.parenL);var val=this.parseExpression();return this.expect(tt.parenR),val},pp$3.parseParenAndDistinguishExpression=function(canBeArrow){var val,this$1=this,startPos=this.start,startLoc=this.startLoc,allowTrailingComma=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var spreadStart,innerParenStart,innerStartPos=this.start,innerStartLoc=this.startLoc,exprList=[],first=!0,lastIsComma=!1,refDestructuringErrors=new DestructuringErrors,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==tt.parenR;){if(first?first=!1:this$1.expect(tt.comma),allowTrailingComma&&this$1.afterTrailingComma(tt.parenR,!0)){lastIsComma=!0;break}if(this$1.type===tt.ellipsis){spreadStart=this$1.start,exprList.push(this$1.parseParenItem(this$1.parseRest())),this$1.type===tt.comma&&this$1.raise(this$1.start,"Comma is not permitted after the rest element");break}this$1.type!==tt.parenL||innerParenStart||(innerParenStart=this$1.start),exprList.push(this$1.parseMaybeAssign(!1,refDestructuringErrors,this$1.parseParenItem))}var innerEndPos=this.start,innerEndLoc=this.startLoc;if(this.expect(tt.parenR),canBeArrow&&!this.canInsertSemicolon()&&this.eat(tt.arrow))return this.checkPatternErrors(refDestructuringErrors,!1),this.checkYieldAwaitInDefaultParams(),innerParenStart&&this.unexpected(innerParenStart),this.yieldPos=oldYieldPos,this.awaitPos=oldAwaitPos,this.parseParenArrowList(startPos,startLoc,exprList);exprList.length&&!lastIsComma||this.unexpected(this.lastTokStart),spreadStart&&this.unexpected(spreadStart),this.checkExpressionErrors(refDestructuringErrors,!0),this.yieldPos=oldYieldPos||this.yieldPos,this.awaitPos=oldAwaitPos||this.awaitPos,exprList.length>1?(val=this.startNodeAt(innerStartPos,innerStartLoc),val.expressions=exprList,this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)):val=exprList[0]}else val=this.parseParenExpression();if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);return par.expression=val,this.finishNode(par,"ParenthesizedExpression")}return val},pp$3.parseParenItem=function(item){return item},pp$3.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty$1=[];pp$3.parseNew=function(){var node=this.startNode(),meta=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(tt.dot))return node.meta=meta,node.property=this.parseIdent(!0),"target"!==node.property.name&&this.raiseRecoverable(node.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(node.start,"new.target can only be used in functions"),this.finishNode(node,"MetaProperty");var startPos=this.start,startLoc=this.startLoc;return node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,!0),this.eat(tt.parenL)?node.arguments=this.parseExprList(tt.parenR,this.options.ecmaVersion>=8,!1):node.arguments=empty$1,this.finishNode(node,"NewExpression")},pp$3.parseTemplateElement=function(){var elem=this.startNode();return elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),elem.tail=this.type===tt.backQuote,this.finishNode(elem,"TemplateElement")},pp$3.parseTemplate=function(){var this$1=this,node=this.startNode();this.next(),node.expressions=[];var curElt=this.parseTemplateElement();for(node.quasis=[curElt];!curElt.tail;)this$1.expect(tt.dollarBraceL),node.expressions.push(this$1.parseExpression()),this$1.expect(tt.braceR),node.quasis.push(curElt=this$1.parseTemplateElement());return this.next(),this.finishNode(node,"TemplateLiteral")},pp$3.parseObj=function(isPattern,refDestructuringErrors){var this$1=this,node=this.startNode(),first=!0,propHash={};for(node.properties=[],this.next();!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var isGenerator,isAsync,startPos,startLoc,prop=this$1.startNode();this$1.options.ecmaVersion>=6&&(prop.method=!1,prop.shorthand=!1,(isPattern||refDestructuringErrors)&&(startPos=this$1.start,startLoc=this$1.startLoc),isPattern||(isGenerator=this$1.eat(tt.star))),this$1.parsePropertyName(prop),isPattern||!(this$1.options.ecmaVersion>=8)||isGenerator||prop.computed||"Identifier"!==prop.key.type||"async"!==prop.key.name||this$1.type===tt.parenL||this$1.type===tt.colon||this$1.canInsertSemicolon()?isAsync=!1:(isAsync=!0,this$1.parsePropertyName(prop,refDestructuringErrors)),this$1.parsePropertyValue(prop,isPattern,isGenerator,isAsync,startPos,startLoc,refDestructuringErrors),this$1.checkPropClash(prop,propHash),node.properties.push(this$1.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")},pp$3.parsePropertyValue=function(prop,isPattern,isGenerator,isAsync,startPos,startLoc,refDestructuringErrors){if((isGenerator||isAsync)&&this.type===tt.colon&&this.unexpected(),this.eat(tt.colon))prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,refDestructuringErrors),prop.kind="init";else if(this.options.ecmaVersion>=6&&this.type===tt.parenL)isPattern&&this.unexpected(),prop.kind="init",prop.method=!0,prop.value=this.parseMethod(isGenerator,isAsync);else if(this.options.ecmaVersion>=5&&!prop.computed&&"Identifier"===prop.key.type&&("get"===prop.key.name||"set"===prop.key.name)&&this.type!=tt.comma&&this.type!=tt.braceR){(isGenerator||isAsync||isPattern)&&this.unexpected(),prop.kind=prop.key.name,this.parsePropertyName(prop),prop.value=this.parseMethod(!1);var paramCount="get"===prop.kind?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;"get"===prop.kind?this.raiseRecoverable(start,"getter should have no params"):this.raiseRecoverable(start,"setter should have exactly one param")}else"set"===prop.kind&&"RestElement"===prop.value.params[0].type&&this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!prop.computed&&"Identifier"===prop.key.type?((this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrict:this.reservedWords).test(prop.key.name)||this.inGenerator&&"yield"==prop.key.name||this.inAsync&&"await"==prop.key.name)&&this.raiseRecoverable(prop.key.start,"'"+prop.key.name+"' can not be used as shorthand property"),prop.kind="init",isPattern?prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key):this.type===tt.eq&&refDestructuringErrors?(refDestructuringErrors.shorthandAssign<0&&(refDestructuringErrors.shorthandAssign=this.start),prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)):prop.value=prop.key,prop.shorthand=!0):this.unexpected()},pp$3.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(tt.bracketL))return prop.computed=!0,prop.key=this.parseMaybeAssign(),this.expect(tt.bracketR),prop.key;prop.computed=!1}return prop.key=this.type===tt.num||this.type===tt.string?this.parseExprAtom():this.parseIdent(!0)},pp$3.initFunction=function(node){node.id=null,this.options.ecmaVersion>=6&&(node.generator=!1,node.expression=!1),this.options.ecmaVersion>=8&&(node.async=!1)},pp$3.parseMethod=function(isGenerator,isAsync){var node=this.startNode(),oldInGen=this.inGenerator,oldInAsync=this.inAsync,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldInFunc=this.inFunction;return this.initFunction(node),this.options.ecmaVersion>=6&&(node.generator=isGenerator),this.options.ecmaVersion>=8&&(node.async=!!isAsync),this.inGenerator=node.generator,this.inAsync=node.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(node,!1),this.inGenerator=oldInGen,this.inAsync=oldInAsync,this.yieldPos=oldYieldPos,this.awaitPos=oldAwaitPos,this.inFunction=oldInFunc,this.finishNode(node,"FunctionExpression")},pp$3.parseArrowExpression=function(node,params,isAsync){var oldInGen=this.inGenerator,oldInAsync=this.inAsync,oldYieldPos=this.yieldPos,oldAwaitPos=this.awaitPos,oldInFunc=this.inFunction;return this.initFunction(node),this.options.ecmaVersion>=8&&(node.async=!!isAsync),this.inGenerator=!1,this.inAsync=node.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,node.params=this.toAssignableList(params,!0),this.parseFunctionBody(node,!0),this.inGenerator=oldInGen,this.inAsync=oldInAsync,this.yieldPos=oldYieldPos,this.awaitPos=oldAwaitPos,this.inFunction=oldInFunc,this.finishNode(node,"ArrowFunctionExpression")},pp$3.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==tt.braceL,oldStrict=this.strict,useStrict=!1;if(isExpression)node.body=this.parseMaybeAssign(),node.expression=!0;else{var nonSimple=this.options.ecmaVersion>=7&&!this.isSimpleParamList(node.params);oldStrict&&!nonSimple||(useStrict=this.strictDirective(this.end))&&nonSimple&&this.raiseRecoverable(node.start,"Illegal 'use strict' directive in function with non-simple parameter list");var oldLabels=this.labels;this.labels=[],useStrict&&(this.strict=!0),node.body=this.parseBlock(!0),node.expression=!1,this.labels=oldLabels}oldStrict||useStrict?(this.strict=!0,node.id&&this.checkLVal(node.id,!0),this.checkParams(node),this.strict=oldStrict):!isArrowFunction&&this.isSimpleParamList(node.params)||this.checkParams(node)},pp$3.isSimpleParamList=function(params){for(var i=0;i<params.length;i++)if("Identifier"!==params[i].type)return!1;return!0},pp$3.checkParams=function(node){for(var this$1=this,nameHash={},i=0;i<node.params.length;i++)this$1.checkLVal(node.params[i],!0,nameHash)},pp$3.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){for(var this$1=this,elts=[],first=!0;!this.eat(close);){if(first)first=!1;else if(this$1.expect(tt.comma),allowTrailingComma&&this$1.afterTrailingComma(close))break;var elt
;allowEmpty&&this$1.type===tt.comma?elt=null:this$1.type===tt.ellipsis?(elt=this$1.parseSpread(refDestructuringErrors),refDestructuringErrors&&this$1.type===tt.comma&&refDestructuringErrors.trailingComma<0&&(refDestructuringErrors.trailingComma=this$1.start)):elt=this$1.parseMaybeAssign(!1,refDestructuringErrors),elts.push(elt)}return elts},pp$3.parseIdent=function(liberal){var node=this.startNode();return liberal&&"never"==this.options.allowReserved&&(liberal=!1),this.type===tt.name?(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\"))&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===this.value&&this.raiseRecoverable(this.start,"Can not use 'await' as identifier inside an async function"),node.name=this.value):liberal&&this.type.keyword?node.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(node,"Identifier")},pp$3.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var node=this.startNode();return this.next(),this.type==tt.semi||this.canInsertSemicolon()||this.type!=tt.star&&!this.type.startsExpr?(node.delegate=!1,node.argument=null):(node.delegate=this.eat(tt.star),node.argument=this.parseMaybeAssign()),this.finishNode(node,"YieldExpression")},pp$3.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var node=this.startNode();return this.next(),node.argument=this.parseMaybeUnary(null,!0),this.finishNode(node,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(pos,message){var loc=getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);throw err.pos=pos,err.loc=loc,err.raisedAt=this.pos,err},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var Node=function(parser,pos,loc){this.type="",this.start=pos,this.end=0,parser.options.locations&&(this.loc=new SourceLocation(parser,loc)),parser.options.directSourceFile&&(this.sourceFile=parser.options.directSourceFile),parser.options.ranges&&(this.range=[pos,0])},pp$5=Parser.prototype;pp$5.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$5.startNodeAt=function(pos,loc){return new Node(this,pos,loc)},pp$5.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)},pp$5.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)};var TokContext=function(token,isExpr,preserveSpace,override){this.token=token,this.isExpr=!!isExpr,this.preserveSpace=!!preserveSpace,this.override=override},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!0),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]},pp$6.braceIsBlock=function(prevType){if(prevType===tt.colon){var parent=this.curContext();if(parent===types.b_stat||parent===types.b_expr)return!parent.isExpr}return prevType===tt._return?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):prevType===tt._else||prevType===tt.semi||prevType===tt.eof||prevType===tt.parenR||(prevType==tt.braceL?this.curContext()===types.b_stat:!this.exprAllowed)},pp$6.updateContext=function(prevType){var update,type=this.type;type.keyword&&prevType==tt.dot?this.exprAllowed=!1:(update=type.updateContext)?update.call(this,prevType):this.exprAllowed=type.beforeExpr},tt.parenR.updateContext=tt.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var out=this.context.pop();out===types.b_stat&&this.curContext()===types.f_expr?(this.context.pop(),this.exprAllowed=!1):this.exprAllowed=out===types.b_tmpl||!out.isExpr},tt.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr),this.exprAllowed=!0},tt.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0},tt.parenL.updateContext=function(prevType){var statementParens=prevType===tt._if||prevType===tt._for||prevType===tt._with||prevType===tt._while;this.context.push(statementParens?types.p_stat:types.p_expr),this.exprAllowed=!0},tt.incDec.updateContext=function(){},tt._function.updateContext=function(prevType){prevType.beforeExpr&&prevType!==tt.semi&&prevType!==tt._else&&(prevType!==tt.colon&&prevType!==tt.braceL||this.curContext()!==types.b_stat)&&this.context.push(types.f_expr),this.exprAllowed=!1},tt.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};var Token=function(p){this.type=p.type,this.value=p.value,this.start=p.start,this.end=p.end,p.options.locations&&(this.loc=new SourceLocation(p,p.startLoc,p.endLoc)),p.options.ranges&&(this.range=[p.start,p.end])},pp$7=Parser.prototype,isRhino="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);pp$7.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp$7.getToken=function(){return this.next(),new Token(this)},"undefined"!=typeof Symbol&&(pp$7[Symbol.iterator]=function(){var self=this;return{next:function(){var token=self.getToken();return{done:token.type===tt.eof,value:token}}}}),pp$7.curContext=function(){return this.context[this.context.length-1]},pp$7.nextToken=function(){var curContext=this.curContext();return curContext&&curContext.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(tt.eof):curContext.override?curContext.override(this):void this.readToken(this.fullCharCodeAtPos())},pp$7.readToken=function(code){return isIdentifierStart(code,this.options.ecmaVersion>=6)||92===code?this.readWord():this.getTokenFromCode(code)},pp$7.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);return code<=55295||code>=57344?code:(code<<10)+this.input.charCodeAt(this.pos+1)-56613888},pp$7.skipBlockComment=function(){var this$1=this,startLoc=this.options.onComment&&this.curPosition(),start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(-1===end&&this.raise(this.pos-2,"Unterminated comment"),this.pos=end+2,this.options.locations){lineBreakG.lastIndex=start;for(var match;(match=lineBreakG.exec(this.input))&&match.index<this.pos;)++this$1.curLine,this$1.lineStart=match.index+match[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())},pp$7.skipLineComment=function(startSkip){for(var this$1=this,start=this.pos,startLoc=this.options.onComment&&this.curPosition(),ch=this.input.charCodeAt(this.pos+=startSkip);this.pos<this.input.length&&10!==ch&&13!==ch&&8232!==ch&&8233!==ch;)++this$1.pos,ch=this$1.input.charCodeAt(this$1.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())},pp$7.skipSpace=function(){var this$1=this;loop:for(;this.pos<this.input.length;){var ch=this$1.input.charCodeAt(this$1.pos);switch(ch){case 32:case 160:++this$1.pos;break;case 13:10===this$1.input.charCodeAt(this$1.pos+1)&&++this$1.pos;case 10:case 8232:case 8233:++this$1.pos,this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos);break;case 47:switch(this$1.input.charCodeAt(this$1.pos+1)){case 42:this$1.skipBlockComment();break;case 47:this$1.skipLineComment(2);break;default:break loop}break;default:if(!(ch>8&&ch<14||ch>=5760&&nonASCIIwhitespace.test(String.fromCharCode(ch))))break loop;++this$1.pos}}},pp$7.finishToken=function(type,val){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var prevType=this.type;this.type=type,this.value=val,this.updateContext(prevType)},pp$7.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(!0);var next2=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===next&&46===next2?(this.pos+=3,this.finishToken(tt.ellipsis)):(++this.pos,this.finishToken(tt.dot))},pp$7.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.slash,1)},pp$7.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1),size=1,tokentype=42===code?tt.star:tt.modulo;return this.options.ecmaVersion>=7&&42===next&&(++size,tokentype=tt.starstar,next=this.input.charCodeAt(this.pos+2)),61===next?this.finishOp(tt.assign,size+1):this.finishOp(tokentype,size)},pp$7.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?this.finishOp(124===code?tt.logicalOR:tt.logicalAND,2):61===next?this.finishOp(tt.assign,2):this.finishOp(124===code?tt.bitwiseOR:tt.bitwiseAND,1)},pp$7.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(tt.assign,2):this.finishOp(tt.bitwiseXOR,1)},pp$7.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?45==next&&62==this.input.charCodeAt(this.pos+2)&&lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(tt.incDec,2):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.plusMin,1)},pp$7.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1),size=1;return next===code?(size=62===code&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+size)?this.finishOp(tt.assign,size+1):this.finishOp(tt.bitShift,size)):33==next&&60==code&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===next&&(size=2),this.finishOp(tt.relational,size))},pp$7.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);return 61===next?this.finishOp(tt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===code&&62===next&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(tt.arrow)):this.finishOp(61===code?tt.eq:tt.prefix,1)},pp$7.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(tt.parenL);case 41:return++this.pos,this.finishToken(tt.parenR);case 59:return++this.pos,this.finishToken(tt.semi);case 44:return++this.pos,this.finishToken(tt.comma);case 91:return++this.pos,this.finishToken(tt.bracketL);case 93:return++this.pos,this.finishToken(tt.bracketR);case 123:return++this.pos,this.finishToken(tt.braceL);case 125:return++this.pos,this.finishToken(tt.braceR);case 58:return++this.pos,this.finishToken(tt.colon);case 63:return++this.pos,this.finishToken(tt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(tt.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(120===next||88===next)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===next||79===next)return this.readRadixNumber(8);if(98===next||66===next)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(tt.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")},pp$7.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);return this.pos+=size,this.finishToken(type,str)};var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp$7.readRegexp=function(){for(var escaped,inClass,this$1=this,start=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(start,"Unterminated regular expression");var ch=this$1.input.charAt(this$1.pos);if(lineBreak.test(ch)&&this$1.raise(start,"Unterminated regular expression"),escaped)escaped=!1;else{if("["===ch)inClass=!0;else if("]"===ch&&inClass)inClass=!1;else if("/"===ch&&!inClass)break;escaped="\\"===ch}++this$1.pos}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1(),tmp=content,tmpFlags="";if(mods){var validFlags=/^[gim]*$/;this.options.ecmaVersion>=6&&(validFlags=/^[gimuy]*$/),validFlags.test(mods)||this.raise(start,"Invalid regular expression flag"),mods.indexOf("u")>=0&&(regexpUnicodeSupport?tmpFlags="u":(tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){return code=Number("0x"+code),code>1114111&&this$1.raise(start+offset+3,"Code point out of bounds"),"x"}),tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),tmpFlags=tmpFlags.replace("u","")))}var value=null;return isRhino||(tryCreateRegexp(tmp,tmpFlags,start,this),value=tryCreateRegexp(content,mods)),this.finishToken(tt.regexp,{pattern:content,flags:mods,value:value})},pp$7.readInt=function(radix,len){for(var this$1=this,start=this.pos,total=0,i=0,e=null==len?1/0:len;i<e;++i){var val,code=this$1.input.charCodeAt(this$1.pos);if((val=code>=97?code-97+10:code>=65?code-65+10:code>=48&&code<=57?code-48:1/0)>=radix)break;++this$1.pos,total=total*radix+val}return this.pos===start||null!=len&&this.pos-start!==len?null:total},pp$7.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);return null==val&&this.raise(this.start+2,"Expected number in radix "+radix),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(tt.num,val)},pp$7.readNumber=function(startsWithDot){var start=this.pos,isFloat=!1,octal=48===this.input.charCodeAt(this.pos);startsWithDot||null!==this.readInt(10)||this.raise(start,"Invalid number"),octal&&this.pos==start+1&&(octal=!1);var next=this.input.charCodeAt(this.pos);46!==next||octal||(++this.pos,this.readInt(10),isFloat=!0,next=this.input.charCodeAt(this.pos)),69!==next&&101!==next||octal||(next=this.input.charCodeAt(++this.pos),43!==next&&45!==next||++this.pos,null===this.readInt(10)&&this.raise(start,"Invalid number"),isFloat=!0),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var val,str=this.input.slice(start,this.pos);return isFloat?val=parseFloat(str):octal&&1!==str.length?/[89]/.test(str)||this.strict?this.raise(start,"Invalid number"):val=parseInt(str,8):val=parseInt(str,10),this.finishToken(tt.num,val)},pp$7.readCodePoint=function(){var code,ch=this.input.charCodeAt(this.pos);if(123===ch){this.options.ecmaVersion<6&&this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,code>1114111&&this.raise(codePos,"Code point out of bounds")}else code=this.readHexChar(4);return code},pp$7.readString=function(quote){for(var this$1=this,out="",chunkStart=++this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated string constant");var ch=this$1.input.charCodeAt(this$1.pos);if(ch===quote)break;92===ch?(out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!1),chunkStart=this$1.pos):(isNewLine(ch)&&this$1.raise(this$1.start,"Unterminated string constant"),++this$1.pos)}return out+=this.input.slice(chunkStart,this.pos++),this.finishToken(tt.string,out)},pp$7.readTmplToken=function(){for(var this$1=this,out="",chunkStart=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated template");var ch=this$1.input.charCodeAt(this$1.pos);if(96===ch||36===ch&&123===this$1.input.charCodeAt(this$1.pos+1))return this$1.pos===this$1.start&&this$1.type===tt.template?36===ch?(this$1.pos+=2,this$1.finishToken(tt.dollarBraceL)):(++this$1.pos,this$1.finishToken(tt.backQuote)):(out+=this$1.input.slice(chunkStart,this$1.pos),this$1.finishToken(tt.template,out));if(92===ch)out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!0),chunkStart=this$1.pos;else if(isNewLine(ch)){switch(out+=this$1.input.slice(chunkStart,this$1.pos),++this$1.pos,ch){case 13:10===this$1.input.charCodeAt(this$1.pos)&&++this$1.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch)}this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos),chunkStart=this$1.pos}else++this$1.pos}},pp$7.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);switch(++this.pos,ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],octal=parseInt(octalStr,8);return octal>255&&(octalStr=octalStr.slice(0,-1),octal=parseInt(octalStr,8)),"0"!==octalStr&&(this.strict||inTemplate)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=octalStr.length-1,String.fromCharCode(octal)}return String.fromCharCode(ch)}},pp$7.readHexChar=function(len){var codePos=this.pos,n=this.readInt(16,len);return null===n&&this.raise(codePos,"Bad character escape sequence"),n},pp$7.readWord1=function(){var this$1=this;this.containsEsc=!1;for(var word="",first=!0,chunkStart=this.pos,astral=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ch=this$1.fullCharCodeAtPos();if(isIdentifierChar(ch,astral))this$1.pos+=ch<=65535?1:2;else{if(92!==ch)break;this$1.containsEsc=!0,word+=this$1.input.slice(chunkStart,this$1.pos);var escStart=this$1.pos;117!=this$1.input.charCodeAt(++this$1.pos)&&this$1.raise(this$1.pos,"Expecting Unicode escape sequence \\uXXXX"),++this$1.pos;var esc=this$1.readCodePoint();(first?isIdentifierStart:isIdentifierChar)(esc,astral)||this$1.raise(escStart,"Invalid Unicode escape"),word+=codePointToString(esc),chunkStart=this$1.pos}first=!1}return word+this.input.slice(chunkStart,this.pos)},pp$7.readWord=function(){var word=this.readWord1(),type=tt.name;return this.keywords.test(word)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+word),type=keywordTypes[word]),this.finishToken(type,word)};exports.version="4.0.11",exports.parse=parse,exports.parseExpressionAt=parseExpressionAt,exports.tokenizer=tokenizer,exports.addLooseExports=addLooseExports,exports.Parser=Parser,exports.plugins=plugins,exports.defaultOptions=defaultOptions,exports.Position=Position,exports.SourceLocation=SourceLocation,exports.getLineInfo=getLineInfo,exports.Node=Node,exports.TokenType=TokenType,exports.tokTypes=tt,exports.keywordTypes=keywordTypes,exports.TokContext=TokContext,exports.tokContexts=types,exports.isIdentifierChar=isIdentifierChar,exports.isIdentifierStart=isIdentifierStart,exports.Token=Token,exports.isNewLine=isNewLine,exports.lineBreak=lineBreak,exports.lineBreakG=lineBreakG,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],3:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global.acorn=global.acorn||{},global.acorn.walk=global.acorn.walk||{}))}(this,function(exports){"use strict";function simple(node,visitors,base,state,override){base||(base=exports.base),function c(node,st,override){var type=override||node.type,found=visitors[type];base[type](node,st,c),found&&found(node,st)}(node,state,override)}function ancestor(node,visitors,base,state){base||(base=exports.base);var ancestors=[];!function c(node,st,override){var type=override||node.type,found=visitors[type],isNew=node!=ancestors[ancestors.length-1];isNew&&ancestors.push(node),base[type](node,st,c),found&&found(node,st||ancestors,ancestors),isNew&&ancestors.pop()}(node,state)}function recursive(node,state,funcs,base,override){var visitor=funcs?exports.make(funcs,base):base;!function c(node,st,override){visitor[override||node.type](node,st,c)}(node,state,override)}function makeTest(test){return"string"==typeof test?function(type){return type==test}:test||function(){return!0}}function findNodeAt(node,start,end,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if((null==start||node.start<=start)&&(null==end||node.end>=end)&&base[type](node,st,c),(null==start||node.start==start)&&(null==end||node.end==end)&&test(type,node))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAround(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if(!(node.start>pos||node.end<pos)&&(base[type](node,st,c),test(type,node)))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAfter(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){if(!(node.end<pos)){var type=override||node.type;if(node.start>=pos&&test(type,node))throw new Found(node,st);base[type](node,st,c)}}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeBefore(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);var max;return function c(node,st,override){if(!(node.start>pos)){var type=override||node.type;node.end<=pos&&(!max||max.node.end<node.end)&&test(type,node)&&(max=new Found(node,st)),base[type](node,st,c)}}(node,state),max}function make(funcs,base){base||(base=exports.base);var visitor=create(base);for(var type in funcs)visitor[type]=funcs[type];return visitor}function skipThrough(node,st,c){c(node,st)}function ignore(_node,_st,_c){}var Found=function(node,state){this.node=node,this.state=state},create=Object.create||function(proto){function Ctor(){}return Ctor.prototype=proto,new Ctor},base={};base.Program=base.BlockStatement=function(node,st,c){for(var i=0;i<node.body.length;++i)c(node.body[i],st,"Statement")},base.Statement=skipThrough,base.EmptyStatement=ignore,base.ExpressionStatement=base.ParenthesizedExpression=function(node,st,c){return c(node.expression,st,"Expression")},base.IfStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Statement"),node.alternate&&c(node.alternate,st,"Statement")},base.LabeledStatement=function(node,st,c){return c(node.body,st,"Statement")},base.BreakStatement=base.ContinueStatement=ignore,base.WithStatement=function(node,st,c){c(node.object,st,"Expression"),c(node.body,st,"Statement")},base.SwitchStatement=function(node,st,c){c(node.discriminant,st,"Expression");for(var i=0;i<node.cases.length;++i){var cs=node.cases[i];cs.test&&c(cs.test,st,"Expression");for(var j=0;j<cs.consequent.length;++j)c(cs.consequent[j],st,"Statement")}},base.ReturnStatement=base.YieldExpression=base.AwaitExpression=function(node,st,c){node.argument&&c(node.argument,st,"Expression")},base.ThrowStatement=base.SpreadElement=function(node,st,c){return c(node.argument,st,"Expression")},base.TryStatement=function(node,st,c){c(node.block,st,"Statement"),node.handler&&c(node.handler,st),node.finalizer&&c(node.finalizer,st,"Statement")},base.CatchClause=function(node,st,c){c(node.param,st,"Pattern"),c(node.body,st,"ScopeBody")},base.WhileStatement=base.DoWhileStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.body,st,"Statement")},base.ForStatement=function(node,st,c){node.init&&c(node.init,st,"ForInit"),node.test&&c(node.test,st,"Expression"),node.update&&c(node.update,st,"Expression"),c(node.body,st,"Statement")},base.ForInStatement=base.ForOfStatement=function(node,st,c){c(node.left,st,"ForInit"),c(node.right,st,"Expression"),c(node.body,st,"Statement")},base.ForInit=function(node,st,c){"VariableDeclaration"==node.type?c(node,st):c(node,st,"Expression")},base.DebuggerStatement=ignore,base.FunctionDeclaration=function(node,st,c){return c(node,st,"Function")},base.VariableDeclaration=function(node,st,c){for(var i=0;i<node.declarations.length;++i)c(node.declarations[i],st)},base.VariableDeclarator=function(node,st,c){c(node.id,st,"Pattern"),node.init&&c(node.init,st,"Expression")},base.Function=function(node,st,c){node.id&&c(node.id,st,"Pattern");for(var i=0;i<node.params.length;i++)c(node.params[i],st,"Pattern");c(node.body,st,node.expression?"ScopeExpression":"ScopeBody")},base.ScopeBody=function(node,st,c){return c(node,st,"Statement")},base.ScopeExpression=function(node,st,c){return c(node,st,"Expression")},base.Pattern=function(node,st,c){"Identifier"==node.type?c(node,st,"VariablePattern"):"MemberExpression"==node.type?c(node,st,"MemberPattern"):c(node,st)},base.VariablePattern=ignore,base.MemberPattern=skipThrough,base.RestElement=function(node,st,c){return c(node.argument,st,"Pattern")},base.ArrayPattern=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Pattern")}},base.ObjectPattern=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i].value,st,"Pattern")},base.Expression=skipThrough,base.ThisExpression=base.Super=base.MetaProperty=ignore,base.ArrayExpression=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Expression")}},base.ObjectExpression=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i],st)},base.FunctionExpression=base.ArrowFunctionExpression=base.FunctionDeclaration,base.SequenceExpression=base.TemplateLiteral=function(node,st,c){for(var i=0;i<node.expressions.length;++i)c(node.expressions[i],st,"Expression")},base.UnaryExpression=base.UpdateExpression=function(node,st,c){c(node.argument,st,"Expression")},base.BinaryExpression=base.LogicalExpression=function(node,st,c){c(node.left,st,"Expression"),c(node.right,st,"Expression")},base.AssignmentExpression=base.AssignmentPattern=function(node,st,c){c(node.left,st,"Pattern"),c(node.right,st,"Expression")},base.ConditionalExpression=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Expression"),c(node.alternate,st,"Expression")},base.NewExpression=base.CallExpression=function(node,st,c){if(c(node.callee,st,"Expression"),node.arguments)for(var i=0;i<node.arguments.length;++i)c(node.arguments[i],st,"Expression")},base.MemberExpression=function(node,st,c){c(node.object,st,"Expression"),node.computed&&c(node.property,st,"Expression")},base.ExportNamedDeclaration=base.ExportDefaultDeclaration=function(node,st,c){node.declaration&&c(node.declaration,st,"ExportNamedDeclaration"==node.type||node.declaration.id?"Statement":"Expression"),node.source&&c(node.source,st,"Expression")},base.ExportAllDeclaration=function(node,st,c){c(node.source,st,"Expression")},base.ImportDeclaration=function(node,st,c){for(var i=0;i<node.specifiers.length;i++)c(node.specifiers[i],st);c(node.source,st,"Expression")},base.ImportSpecifier=base.ImportDefaultSpecifier=base.ImportNamespaceSpecifier=base.Identifier=base.Literal=ignore,base.TaggedTemplateExpression=function(node,st,c){c(node.tag,st,"Expression"),c(node.quasi,st)},base.ClassDeclaration=base.ClassExpression=function(node,st,c){return c(node,st,"Class")},base.Class=function(node,st,c){node.id&&c(node.id,st,"Pattern"),node.superClass&&c(node.superClass,st,"Expression");for(var i=0;i<node.body.body.length;i++)c(node.body.body[i],st)},base.MethodDefinition=base.Property=function(node,st,c){node.computed&&c(node.key,st,"Expression"),c(node.value,st,"Expression")},exports.simple=simple,exports.ancestor=ancestor,exports.recursive=recursive,exports.findNodeAt=findNodeAt,exports.findNodeAround=findNodeAround,exports.findNodeAfter=findNodeAfter,exports.findNodeBefore=findNodeBefore,exports.make=make,exports.base=base,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],4:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.acorn=global.acorn||{})}(this,function(exports){"use strict";function isInAstralSet(code,set){for(var pos=65536,i=0;i<set.length;i+=2){if((pos+=set[i])>code)return!1;if((pos+=set[i+1])>=code)return!0}}function isIdentifierStart(code,astral){return code<65?36===code:code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)):!1!==astral&&isInAstralSet(code,astralIdentifierStartCodes)))}function isIdentifierChar(code,astral){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifier.test(String.fromCharCode(code)):!1!==astral&&(isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes)))))}function binop(name,prec){return new TokenType(name,{beforeExpr:!0,binop:prec})}function kw(name,options){return void 0===options&&(options={}),options.keyword=name,keywordTypes[name]=new TokenType(name,options)}function isNewLine(code){return 10===code||13===code||8232===code||8233==code}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function has(obj,propName){return Object.prototype.hasOwnProperty.call(obj,propName)}function getLineInfo(input,offset){for(var line=1,cur=0;;){lineBreakG.lastIndex=cur;var match=lineBreakG.exec(input);if(!(match&&match.index<offset))return new Position(line,offset-cur);++line,cur=match.index+match[0].length}}function getOptions(opts){var options={};for(var opt in defaultOptions)options[opt]=opts&&has(opts,opt)?opts[opt]:defaultOptions[opt];if(null==options.allowReserved&&(options.allowReserved=options.ecmaVersion<5),isArray(options.onToken)){var tokens=options.onToken;options.onToken=function(token){return tokens.push(token)}}return isArray(options.onComment)&&(options.onComment=pushComment(options,options.onComment)),options}function pushComment(options,array){return function(block,text,start,end,startLoc,endLoc){var comment={type:block?"Block":"Line",value:text,start:start,end:end};options.locations&&(comment.loc=new SourceLocation(this,startLoc,endLoc)),options.ranges&&(comment.range=[start,end]),array.push(comment)}}function keywordRegexp(words){return new RegExp("^("+words.replace(/ /g,"|")+")$")}function finishNodeAt(node,type,pos,loc){return node.type=type,node.end=pos,this.options.locations&&(node.loc.end=loc),this.options.ranges&&(node.range[1]=pos),node}function tryCreateRegexp(src,flags,throwErrorAt,parser){try{return new RegExp(src,flags)}catch(e){if(void 0!==throwErrorAt)throw e instanceof SyntaxError&&parser.raise(throwErrorAt,"Error parsing regular expression: "+e.message),e}}function codePointToString(code){return code<=65535?String.fromCharCode(code):(code-=65536,String.fromCharCode(55296+(code>>10),56320+(1023&code)))}function parse(input,options){return new Parser(options,input).parse()}function parseExpressionAt(input,pos,options){var p=new Parser(options,input,pos);return p.nextToken(),p.parseExpression()}function tokenizer(input,options){return new Parser(options,input)}var reservedWords={
3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",7:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords={5:ecma5AndLessKeywords,6:ecma5AndLessKeywords+" const class extends export import super"},nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],TokenType=function(label,conf){void 0===conf&&(conf={}),this.label=label,this.keyword=conf.keyword,this.beforeExpr=!!conf.beforeExpr,this.startsExpr=!!conf.startsExpr,this.isLoop=!!conf.isLoop,this.isAssign=!!conf.isAssign,this.prefix=!!conf.prefix,this.postfix=!!conf.postfix,this.binop=conf.binop||null,this.updateContext=null},beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywordTypes={},tt={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=",6),relational:binop("</>",7),bitShift:binop("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class"),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import"),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g"),nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Position=function(line,col){this.line=line,this.column=col};Position.prototype.offset=function(n){return new Position(this.line,this.column+n)};var SourceLocation=function(p,start,end){this.start=start,this.end=end,null!==p.sourceFile&&(this.source=p.sourceFile)},defaultOptions={ecmaVersion:6,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},plugins={},Parser=function(options,input,startPos){this.options=options=getOptions(options),this.sourceFile=options.sourceFile,this.keywords=keywordRegexp(keywords[options.ecmaVersion>=6?6:5]);var reserved=options.allowReserved?"":reservedWords[options.ecmaVersion]+("module"==options.sourceType?" await":"");this.reservedWords=keywordRegexp(reserved);var reservedStrict=(reserved?reserved+" ":"")+reservedWords.strict;this.reservedWordsStrict=keywordRegexp(reservedStrict),this.reservedWordsStrictBind=keywordRegexp(reservedStrict+" "+reservedWords.strictBind),this.input=String(input),this.containsEsc=!1,this.loadPlugins(options.plugins),startPos?(this.pos=startPos,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",startPos)),this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=tt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===options.sourceType,this.potentialArrowAt=-1,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)};Parser.prototype.isKeyword=function(word){return this.keywords.test(word)},Parser.prototype.isReservedWord=function(word){return this.reservedWords.test(word)},Parser.prototype.extend=function(name,f){this[name]=f(this[name])},Parser.prototype.loadPlugins=function(pluginConfigs){var this$1=this;for(var name in pluginConfigs){var plugin=plugins[name];if(!plugin)throw new Error("Plugin '"+name+"' not found");plugin(this$1,pluginConfigs[name])}},Parser.prototype.parse=function(){var node=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(node)};var pp=Parser.prototype;pp.isUseStrict=function(stmt){return this.options.ecmaVersion>=5&&"ExpressionStatement"===stmt.type&&"Literal"===stmt.expression.type&&"use strict"===stmt.expression.raw.slice(1,-1)},pp.eat=function(type){return this.type===type&&(this.next(),!0)},pp.isContextual=function(name){return this.type===tt.name&&this.value===name},pp.eatContextual=function(name){return this.value===name&&this.eat(tt.name)},pp.expectContextual=function(name){this.eatContextual(name)||this.unexpected()},pp.canInsertSemicolon=function(){return this.type===tt.eof||this.type===tt.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp.semicolon=function(){this.eat(tt.semi)||this.insertSemicolon()||this.unexpected()},pp.afterTrailingComma=function(tokType){if(this.type==tokType)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0},pp.expect=function(type){this.eat(type)||this.unexpected()},pp.unexpected=function(pos){this.raise(null!=pos?pos:this.start,"Unexpected token")};var DestructuringErrors=function(){this.shorthandAssign=0,this.trailingComma=0};pp.checkPatternErrors=function(refDestructuringErrors,andThrow){var trailing=refDestructuringErrors&&refDestructuringErrors.trailingComma;if(!andThrow)return!!trailing;trailing&&this.raise(trailing,"Comma is not permitted after the rest element")},pp.checkExpressionErrors=function(refDestructuringErrors,andThrow){var pos=refDestructuringErrors&&refDestructuringErrors.shorthandAssign;if(!andThrow)return!!pos;pos&&this.raise(pos,"Shorthand property assignments are valid only in destructuring patterns")};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(node){var this$1=this,first=!0;for(node.body||(node.body=[]);this.type!==tt.eof;){var stmt=this$1.parseStatement(!0,!0);node.body.push(stmt),first&&(this$1.isUseStrict(stmt)&&this$1.setStrict(!0),first=!1)}return this.next(),this.options.ecmaVersion>=6&&(node.sourceType=this.options.sourceType),this.finishNode(node,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.isLet=function(){if(this.type!==tt.name||this.options.ecmaVersion<6||"let"!=this.value)return!1;skipWhiteSpace.lastIndex=this.pos;var skip=skipWhiteSpace.exec(this.input),next=this.pos+skip[0].length,nextCh=this.input.charCodeAt(next);if(91===nextCh||123==nextCh)return!0;if(isIdentifierStart(nextCh,!0)){for(var pos=next+1;isIdentifierChar(this.input.charCodeAt(pos),!0);++pos);var ident=this.input.slice(next,pos);if(!this.isKeyword(ident))return!0}return!1},pp$1.parseStatement=function(declaration,topLevel){var kind,starttype=this.type,node=this.startNode();switch(this.isLet()&&(starttype=tt._var,kind="let"),starttype){case tt._break:case tt._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case tt._debugger:return this.parseDebuggerStatement(node);case tt._do:return this.parseDoStatement(node);case tt._for:return this.parseForStatement(node);case tt._function:return!declaration&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(node);case tt._class:return declaration||this.unexpected(),this.parseClass(node,!0);case tt._if:return this.parseIfStatement(node);case tt._return:return this.parseReturnStatement(node);case tt._switch:return this.parseSwitchStatement(node);case tt._throw:return this.parseThrowStatement(node);case tt._try:return this.parseTryStatement(node);case tt._const:case tt._var:return kind=kind||this.value,declaration||"var"==kind||this.unexpected(),this.parseVarStatement(node,kind);case tt._while:return this.parseWhileStatement(node);case tt._with:return this.parseWithStatement(node);case tt.braceL:return this.parseBlock();case tt.semi:return this.parseEmptyStatement(node);case tt._export:case tt._import:return this.options.allowImportExportEverywhere||(topLevel||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),starttype===tt._import?this.parseImport(node):this.parseExport(node);default:var maybeName=this.value,expr=this.parseExpression();return starttype===tt.name&&"Identifier"===expr.type&&this.eat(tt.colon)?this.parseLabeledStatement(node,maybeName,expr):this.parseExpressionStatement(node,expr)}},pp$1.parseBreakContinueStatement=function(node,keyword){var this$1=this,isBreak="break"==keyword;this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.label=null:this.type!==tt.name?this.unexpected():(node.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var lab=this$1.labels[i];if(null==node.label||lab.name===node.label.name){if(null!=lab.kind&&(isBreak||"loop"===lab.kind))break;if(node.label&&isBreak)break}}return i===this.labels.length&&this.raise(node.start,"Unsyntactic "+keyword),this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")},pp$1.parseDebuggerStatement=function(node){return this.next(),this.semicolon(),this.finishNode(node,"DebuggerStatement")},pp$1.parseDoStatement=function(node){return this.next(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.expect(tt._while),node.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(tt.semi):this.semicolon(),this.finishNode(node,"DoWhileStatement")},pp$1.parseForStatement=function(node){if(this.next(),this.labels.push(loopLabel),this.expect(tt.parenL),this.type===tt.semi)return this.parseFor(node,null);var isLet=this.isLet();if(this.type===tt._var||this.type===tt._const||isLet){var init$1=this.startNode(),kind=isLet?"let":this.value;return this.next(),this.parseVar(init$1,!0,kind),this.finishNode(init$1,"VariableDeclaration"),!(this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==init$1.declarations.length||"var"!==kind&&init$1.declarations[0].init?this.parseFor(node,init$1):this.parseForIn(node,init$1)}var refDestructuringErrors=new DestructuringErrors,init=this.parseExpression(!0,refDestructuringErrors);return this.type===tt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.checkPatternErrors(refDestructuringErrors,!0),this.toAssignable(init),this.checkLVal(init),this.parseForIn(node,init)):(this.checkExpressionErrors(refDestructuringErrors,!0),this.parseFor(node,init))},pp$1.parseFunctionStatement=function(node){return this.next(),this.parseFunction(node,!0)},pp$1.parseIfStatement=function(node){return this.next(),node.test=this.parseParenExpression(),node.consequent=this.parseStatement(!1),node.alternate=this.eat(tt._else)?this.parseStatement(!1):null,this.finishNode(node,"IfStatement")},pp$1.parseReturnStatement=function(node){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(tt.semi)||this.insertSemicolon()?node.argument=null:(node.argument=this.parseExpression(),this.semicolon()),this.finishNode(node,"ReturnStatement")},pp$1.parseSwitchStatement=function(node){var this$1=this;this.next(),node.discriminant=this.parseParenExpression(),node.cases=[],this.expect(tt.braceL),this.labels.push(switchLabel);for(var cur,sawDefault=!1;this.type!=tt.braceR;)if(this$1.type===tt._case||this$1.type===tt._default){var isCase=this$1.type===tt._case;cur&&this$1.finishNode(cur,"SwitchCase"),node.cases.push(cur=this$1.startNode()),cur.consequent=[],this$1.next(),isCase?cur.test=this$1.parseExpression():(sawDefault&&this$1.raiseRecoverable(this$1.lastTokStart,"Multiple default clauses"),sawDefault=!0,cur.test=null),this$1.expect(tt.colon)}else cur||this$1.unexpected(),cur.consequent.push(this$1.parseStatement(!0));return cur&&this.finishNode(cur,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(node,"SwitchStatement")},pp$1.parseThrowStatement=function(node){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),node.argument=this.parseExpression(),this.semicolon(),this.finishNode(node,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(node){if(this.next(),node.block=this.parseBlock(),node.handler=null,this.type===tt._catch){var clause=this.startNode();this.next(),this.expect(tt.parenL),clause.param=this.parseBindingAtom(),this.checkLVal(clause.param,!0),this.expect(tt.parenR),clause.body=this.parseBlock(),node.handler=this.finishNode(clause,"CatchClause")}return node.finalizer=this.eat(tt._finally)?this.parseBlock():null,node.handler||node.finalizer||this.raise(node.start,"Missing catch or finally clause"),this.finishNode(node,"TryStatement")},pp$1.parseVarStatement=function(node,kind){return this.next(),this.parseVar(node,!1,kind),this.semicolon(),this.finishNode(node,"VariableDeclaration")},pp$1.parseWhileStatement=function(node){return this.next(),node.test=this.parseParenExpression(),this.labels.push(loopLabel),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"WhileStatement")},pp$1.parseWithStatement=function(node){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),node.object=this.parseParenExpression(),node.body=this.parseStatement(!1),this.finishNode(node,"WithStatement")},pp$1.parseEmptyStatement=function(node){return this.next(),this.finishNode(node,"EmptyStatement")},pp$1.parseLabeledStatement=function(node,maybeName,expr){for(var this$1=this,i=0;i<this.labels.length;++i)this$1.labels[i].name===maybeName&&this$1.raise(expr.start,"Label '"+maybeName+"' is already declared");for(var kind=this.type.isLoop?"loop":this.type===tt._switch?"switch":null,i$1=this.labels.length-1;i$1>=0;i$1--){var label=this$1.labels[i$1];if(label.statementStart!=node.start)break;label.statementStart=this$1.start,label.kind=kind}return this.labels.push({name:maybeName,kind:kind,statementStart:this.start}),node.body=this.parseStatement(!0),this.labels.pop(),node.label=expr,this.finishNode(node,"LabeledStatement")},pp$1.parseExpressionStatement=function(node,expr){return node.expression=expr,this.semicolon(),this.finishNode(node,"ExpressionStatement")},pp$1.parseBlock=function(allowStrict){var oldStrict,this$1=this,node=this.startNode(),first=!0;for(node.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);){var stmt=this$1.parseStatement(!0);node.body.push(stmt),first&&allowStrict&&this$1.isUseStrict(stmt)&&(oldStrict=this$1.strict,this$1.setStrict(this$1.strict=!0)),first=!1}return!1===oldStrict&&this.setStrict(!1),this.finishNode(node,"BlockStatement")},pp$1.parseFor=function(node,init){return node.init=init,this.expect(tt.semi),node.test=this.type===tt.semi?null:this.parseExpression(),this.expect(tt.semi),node.update=this.type===tt.parenR?null:this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,"ForStatement")},pp$1.parseForIn=function(node,init){var type=this.type===tt._in?"ForInStatement":"ForOfStatement";return this.next(),node.left=init,node.right=this.parseExpression(),this.expect(tt.parenR),node.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(node,type)},pp$1.parseVar=function(node,isFor,kind){var this$1=this;for(node.declarations=[],node.kind=kind;;){var decl=this$1.startNode();if(this$1.parseVarId(decl),this$1.eat(tt.eq)?decl.init=this$1.parseMaybeAssign(isFor):"const"!==kind||this$1.type===tt._in||this$1.options.ecmaVersion>=6&&this$1.isContextual("of")?"Identifier"==decl.id.type||isFor&&(this$1.type===tt._in||this$1.isContextual("of"))?decl.init=null:this$1.raise(this$1.lastTokEnd,"Complex binding patterns require an initialization value"):this$1.unexpected(),node.declarations.push(this$1.finishNode(decl,"VariableDeclarator")),!this$1.eat(tt.comma))break}return node},pp$1.parseVarId=function(decl){decl.id=this.parseBindingAtom(),this.checkLVal(decl.id,!0)},pp$1.parseFunction=function(node,isStatement,allowExpressionBody){this.initFunction(node),this.options.ecmaVersion>=6&&(node.generator=this.eat(tt.star));var oldInGen=this.inGenerator;return this.inGenerator=node.generator,(isStatement||this.type===tt.name)&&(node.id=this.parseIdent()),this.parseFunctionParams(node),this.parseFunctionBody(node,allowExpressionBody),this.inGenerator=oldInGen,this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")},pp$1.parseFunctionParams=function(node){this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,!1,!0)},pp$1.parseClass=function(node,isStatement){var this$1=this;this.next(),this.parseClassId(node,isStatement),this.parseClassSuper(node);var classBody=this.startNode(),hadConstructor=!1;for(classBody.body=[],this.expect(tt.braceL);!this.eat(tt.braceR);)if(!this$1.eat(tt.semi)){var method=this$1.startNode(),isGenerator=this$1.eat(tt.star),isMaybeStatic=this$1.type===tt.name&&"static"===this$1.value;this$1.parsePropertyName(method),method.static=isMaybeStatic&&this$1.type!==tt.parenL,method.static&&(isGenerator&&this$1.unexpected(),isGenerator=this$1.eat(tt.star),this$1.parsePropertyName(method)),method.kind="method";var isGetSet=!1;if(!method.computed){var key=method.key;isGenerator||"Identifier"!==key.type||this$1.type===tt.parenL||"get"!==key.name&&"set"!==key.name||(isGetSet=!0,method.kind=key.name,key=this$1.parsePropertyName(method)),!method.static&&("Identifier"===key.type&&"constructor"===key.name||"Literal"===key.type&&"constructor"===key.value)&&(hadConstructor&&this$1.raise(key.start,"Duplicate constructor in the same class"),isGetSet&&this$1.raise(key.start,"Constructor can't have get/set modifier"),isGenerator&&this$1.raise(key.start,"Constructor can't be a generator"),method.kind="constructor",hadConstructor=!0)}if(this$1.parseClassMethod(classBody,method,isGenerator),isGetSet){var paramCount="get"===method.kind?0:1;if(method.value.params.length!==paramCount){var start=method.value.start;"get"===method.kind?this$1.raiseRecoverable(start,"getter should have no params"):this$1.raiseRecoverable(start,"setter should have exactly one param")}"set"===method.kind&&"RestElement"===method.value.params[0].type&&this$1.raise(method.value.params[0].start,"Setter cannot use rest params")}}return node.body=this.finishNode(classBody,"ClassBody"),this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")},pp$1.parseClassMethod=function(classBody,method,isGenerator){method.value=this.parseMethod(isGenerator),classBody.body.push(this.finishNode(method,"MethodDefinition"))},pp$1.parseClassId=function(node,isStatement){node.id=this.type===tt.name?this.parseIdent():isStatement?this.unexpected():null},pp$1.parseClassSuper=function(node){node.superClass=this.eat(tt._extends)?this.parseExprSubscripts():null},pp$1.parseExport=function(node){var this$1=this;if(this.next(),this.eat(tt.star))return this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(node,"ExportAllDeclaration");if(this.eat(tt._default)){var parens=this.type==tt.parenL,expr=this.parseMaybeAssign(),needsSemi=!0;return parens||"FunctionExpression"!=expr.type&&"ClassExpression"!=expr.type||(needsSemi=!1,expr.id&&(expr.type="FunctionExpression"==expr.type?"FunctionDeclaration":"ClassDeclaration")),node.declaration=expr,needsSemi&&this.semicolon(),this.finishNode(node,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())node.declaration=this.parseStatement(!0),node.specifiers=[],node.source=null;else{if(node.declaration=null,node.specifiers=this.parseExportSpecifiers(),this.eatContextual("from"))node.source=this.type===tt.string?this.parseExprAtom():this.unexpected();else{for(var i=0;i<node.specifiers.length;i++)(this$1.keywords.test(node.specifiers[i].local.name)||this$1.reservedWords.test(node.specifiers[i].local.name))&&this$1.unexpected(node.specifiers[i].local.start);node.source=null}this.semicolon()}return this.finishNode(node,"ExportNamedDeclaration")},pp$1.shouldParseExportStatement=function(){return this.type.keyword||this.isLet()},pp$1.parseExportSpecifiers=function(){var this$1=this,nodes=[],first=!0;for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node=this$1.startNode();node.local=this$1.parseIdent(this$1.type===tt._default),node.exported=this$1.eatContextual("as")?this$1.parseIdent(!0):node.local,nodes.push(this$1.finishNode(node,"ExportSpecifier"))}return nodes},pp$1.parseImport=function(node){return this.next(),this.type===tt.string?(node.specifiers=empty,node.source=this.parseExprAtom()):(node.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),node.source=this.type===tt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(node,"ImportDeclaration")},pp$1.parseImportSpecifiers=function(){var this$1=this,nodes=[],first=!0;if(this.type===tt.name){var node=this.startNode();if(node.local=this.parseIdent(),this.checkLVal(node.local,!0),nodes.push(this.finishNode(node,"ImportDefaultSpecifier")),!this.eat(tt.comma))return nodes}if(this.type===tt.star){var node$1=this.startNode();return this.next(),this.expectContextual("as"),node$1.local=this.parseIdent(),this.checkLVal(node$1.local,!0),nodes.push(this.finishNode(node$1,"ImportNamespaceSpecifier")),nodes}for(this.expect(tt.braceL);!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var node$2=this$1.startNode();node$2.imported=this$1.parseIdent(!0),this$1.eatContextual("as")?node$2.local=this$1.parseIdent():(node$2.local=node$2.imported,this$1.isKeyword(node$2.local.name)&&this$1.unexpected(node$2.local.start),this$1.reservedWordsStrict.test(node$2.local.name)&&this$1.raise(node$2.local.start,"The keyword '"+node$2.local.name+"' is reserved")),this$1.checkLVal(node$2.local,!0),nodes.push(this$1.finishNode(node$2,"ImportSpecifier"))}return nodes};var pp$2=Parser.prototype;pp$2.toAssignable=function(node,isBinding){var this$1=this;if(this.options.ecmaVersion>=6&&node)switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var i=0;i<node.properties.length;i++){var prop=node.properties[i];"init"!==prop.kind&&this$1.raise(prop.key.start,"Object pattern can't contain getter or setter"),this$1.toAssignable(prop.value,isBinding)}break;case"ArrayExpression":node.type="ArrayPattern",this.toAssignableList(node.elements,isBinding);break;case"AssignmentExpression":if("="!==node.operator){this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break}node.type="AssignmentPattern",delete node.operator;case"AssignmentPattern":"YieldExpression"===node.right.type&&this.raise(node.right.start,"Yield expression cannot be a default value");break;case"ParenthesizedExpression":node.expression=this.toAssignable(node.expression,isBinding);break;case"MemberExpression":if(!isBinding)break;default:this.raise(node.start,"Assigning to rvalue")}return node},pp$2.toAssignableList=function(exprList,isBinding){var this$1=this,end=exprList.length;if(end){var last=exprList[end-1];if(last&&"RestElement"==last.type)--end;else if(last&&"SpreadElement"==last.type){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding),"Identifier"!==arg.type&&"MemberExpression"!==arg.type&&"ArrayPattern"!==arg.type&&this.unexpected(arg.start),--end}isBinding&&last&&"RestElement"===last.type&&"Identifier"!==last.argument.type&&this.unexpected(last.argument.start)}for(var i=0;i<end;i++){var elt=exprList[i];elt&&this$1.toAssignable(elt,isBinding)}return exprList},pp$2.parseSpread=function(refDestructuringErrors){var node=this.startNode();return this.next(),node.argument=this.parseMaybeAssign(!1,refDestructuringErrors),this.finishNode(node,"SpreadElement")},pp$2.parseRest=function(allowNonIdent){var node=this.startNode();return this.next(),node.argument=allowNonIdent?this.type===tt.name?this.parseIdent():this.unexpected():this.type===tt.name||this.type===tt.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(node,"RestElement")},pp$2.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case tt.name:return this.parseIdent();case tt.bracketL:var node=this.startNode();return this.next(),node.elements=this.parseBindingList(tt.bracketR,!0,!0),this.finishNode(node,"ArrayPattern");case tt.braceL:return this.parseObj(!0);default:this.unexpected()}},pp$2.parseBindingList=function(close,allowEmpty,allowTrailingComma,allowNonIdent){for(var this$1=this,elts=[],first=!0;!this.eat(close);)if(first?first=!1:this$1.expect(tt.comma),allowEmpty&&this$1.type===tt.comma)elts.push(null);else{if(allowTrailingComma&&this$1.afterTrailingComma(close))break;if(this$1.type===tt.ellipsis){var rest=this$1.parseRest(allowNonIdent);this$1.parseBindingListItem(rest),elts.push(rest),this$1.type===tt.comma&&this$1.raise(this$1.start,"Comma is not permitted after the rest element"),this$1.expect(close);break}var elem=this$1.parseMaybeDefault(this$1.start,this$1.startLoc);this$1.parseBindingListItem(elem),elts.push(elem)}return elts},pp$2.parseBindingListItem=function(param){return param},pp$2.parseMaybeDefault=function(startPos,startLoc,left){if(left=left||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(tt.eq))return left;var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.right=this.parseMaybeAssign(),this.finishNode(node,"AssignmentPattern")},pp$2.checkLVal=function(expr,isBinding,checkClashes){var this$1=this;switch(expr.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(expr.name)&&this.raiseRecoverable(expr.start,(isBinding?"Binding ":"Assigning to ")+expr.name+" in strict mode"),checkClashes&&(has(checkClashes,expr.name)&&this.raiseRecoverable(expr.start,"Argument name clash"),checkClashes[expr.name]=!0);break;case"MemberExpression":isBinding&&this.raiseRecoverable(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var i=0;i<expr.properties.length;i++)this$1.checkLVal(expr.properties[i].value,isBinding,checkClashes);break;case"ArrayPattern":for(var i$1=0;i$1<expr.elements.length;i$1++){var elem=expr.elements[i$1]
;elem&&this$1.checkLVal(elem,isBinding,checkClashes)}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes);break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes);break;case"ParenthesizedExpression":this.checkLVal(expr.expression,isBinding,checkClashes);break;default:this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" rvalue")}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(prop,propHash){if(!(this.options.ecmaVersion>=6&&(prop.computed||prop.method||prop.shorthand))){var name,key=prop.key;switch(key.type){case"Identifier":name=key.name;break;case"Literal":name=String(key.value);break;default:return}var kind=prop.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===name&&"init"===kind&&(propHash.proto&&this.raiseRecoverable(key.start,"Redefinition of __proto__ property"),propHash.proto=!0));name="$"+name;var other=propHash[name];if(other){var isGetSet="init"!==kind;(!this.strict&&!isGetSet||!other[kind])&&isGetSet^other.init||this.raiseRecoverable(key.start,"Redefinition of property")}else other=propHash[name]={init:!1,get:!1,set:!1};other[kind]=!0}},pp$3.parseExpression=function(noIn,refDestructuringErrors){var this$1=this,startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeAssign(noIn,refDestructuringErrors);if(this.type===tt.comma){var node=this.startNodeAt(startPos,startLoc);for(node.expressions=[expr];this.eat(tt.comma);)node.expressions.push(this$1.parseMaybeAssign(noIn,refDestructuringErrors));return this.finishNode(node,"SequenceExpression")}return expr},pp$3.parseMaybeAssign=function(noIn,refDestructuringErrors,afterLeftParse){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var ownDestructuringErrors=!1;refDestructuringErrors||(refDestructuringErrors=new DestructuringErrors,ownDestructuringErrors=!0);var startPos=this.start,startLoc=this.startLoc;this.type!=tt.parenL&&this.type!=tt.name||(this.potentialArrowAt=this.start);var left=this.parseMaybeConditional(noIn,refDestructuringErrors);if(afterLeftParse&&(left=afterLeftParse.call(this,left,startPos,startLoc)),this.type.isAssign){this.checkPatternErrors(refDestructuringErrors,!0),ownDestructuringErrors||DestructuringErrors.call(refDestructuringErrors);var node=this.startNodeAt(startPos,startLoc);return node.operator=this.value,node.left=this.type===tt.eq?this.toAssignable(left):left,refDestructuringErrors.shorthandAssign=0,this.checkLVal(left),this.next(),node.right=this.parseMaybeAssign(noIn),this.finishNode(node,"AssignmentExpression")}return ownDestructuringErrors&&this.checkExpressionErrors(refDestructuringErrors,!0),left},pp$3.parseMaybeConditional=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprOps(noIn,refDestructuringErrors);if(this.checkExpressionErrors(refDestructuringErrors))return expr;if(this.eat(tt.question)){var node=this.startNodeAt(startPos,startLoc);return node.test=expr,node.consequent=this.parseMaybeAssign(),this.expect(tt.colon),node.alternate=this.parseMaybeAssign(noIn),this.finishNode(node,"ConditionalExpression")}return expr},pp$3.parseExprOps=function(noIn,refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseMaybeUnary(refDestructuringErrors,!1);return this.checkExpressionErrors(refDestructuringErrors)?expr:this.parseExprOp(expr,startPos,startLoc,-1,noIn)},pp$3.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.type.binop;if(null!=prec&&(!noIn||this.type!==tt._in)&&prec>minPrec){var logical=this.type===tt.logicalOR||this.type===tt.logicalAND,op=this.value;this.next();var startPos=this.start,startLoc=this.startLoc,right=this.parseExprOp(this.parseMaybeUnary(null,!1),startPos,startLoc,prec,noIn),node=this.buildBinary(leftStartPos,leftStartLoc,left,right,op,logical);return this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}return left},pp$3.buildBinary=function(startPos,startLoc,left,right,op,logical){var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.operator=op,node.right=right,this.finishNode(node,logical?"LogicalExpression":"BinaryExpression")},pp$3.parseMaybeUnary=function(refDestructuringErrors,sawUnary){var expr,this$1=this,startPos=this.start,startLoc=this.startLoc;if(this.type.prefix){var node=this.startNode(),update=this.type===tt.incDec;node.operator=this.value,node.prefix=!0,this.next(),node.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(refDestructuringErrors,!0),update?this.checkLVal(node.argument):this.strict&&"delete"===node.operator&&"Identifier"===node.argument.type?this.raiseRecoverable(node.start,"Deleting local variable in strict mode"):sawUnary=!0,expr=this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}else{if(expr=this.parseExprSubscripts(refDestructuringErrors),this.checkExpressionErrors(refDestructuringErrors))return expr;for(;this.type.postfix&&!this.canInsertSemicolon();){var node$1=this$1.startNodeAt(startPos,startLoc);node$1.operator=this$1.value,node$1.prefix=!1,node$1.argument=expr,this$1.checkLVal(expr),this$1.next(),expr=this$1.finishNode(node$1,"UpdateExpression")}}return!sawUnary&&this.eat(tt.starstar)?this.buildBinary(startPos,startLoc,expr,this.parseMaybeUnary(null,!1),"**",!1):expr},pp$3.parseExprSubscripts=function(refDestructuringErrors){var startPos=this.start,startLoc=this.startLoc,expr=this.parseExprAtom(refDestructuringErrors),skipArrowSubscripts="ArrowFunctionExpression"===expr.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);return this.checkExpressionErrors(refDestructuringErrors)||skipArrowSubscripts?expr:this.parseSubscripts(expr,startPos,startLoc)},pp$3.parseSubscripts=function(base,startPos,startLoc,noCalls){for(var this$1=this;;)if(this$1.eat(tt.dot)){var node=this$1.startNodeAt(startPos,startLoc);node.object=base,node.property=this$1.parseIdent(!0),node.computed=!1,base=this$1.finishNode(node,"MemberExpression")}else if(this$1.eat(tt.bracketL)){var node$1=this$1.startNodeAt(startPos,startLoc);node$1.object=base,node$1.property=this$1.parseExpression(),node$1.computed=!0,this$1.expect(tt.bracketR),base=this$1.finishNode(node$1,"MemberExpression")}else if(!noCalls&&this$1.eat(tt.parenL)){var node$2=this$1.startNodeAt(startPos,startLoc);node$2.callee=base,node$2.arguments=this$1.parseExprList(tt.parenR,!1),base=this$1.finishNode(node$2,"CallExpression")}else{if(this$1.type!==tt.backQuote)return base;var node$3=this$1.startNodeAt(startPos,startLoc);node$3.tag=base,node$3.quasi=this$1.parseTemplate(),base=this$1.finishNode(node$3,"TaggedTemplateExpression")}},pp$3.parseExprAtom=function(refDestructuringErrors){var node,canBeArrow=this.potentialArrowAt==this.start;switch(this.type){case tt._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case tt._this:var type=this.type===tt._this?"ThisExpression":"Super";return node=this.startNode(),this.next(),this.finishNode(node,type);case tt.name:var startPos=this.start,startLoc=this.startLoc,id=this.parseIdent(this.type!==tt.name);return canBeArrow&&!this.canInsertSemicolon()&&this.eat(tt.arrow)?this.parseArrowExpression(this.startNodeAt(startPos,startLoc),[id]):id;case tt.regexp:var value=this.value;return node=this.parseLiteral(value.value),node.regex={pattern:value.pattern,flags:value.flags},node;case tt.num:case tt.string:return this.parseLiteral(this.value);case tt._null:case tt._true:case tt._false:return node=this.startNode(),node.value=this.type===tt._null?null:this.type===tt._true,node.raw=this.type.keyword,this.next(),this.finishNode(node,"Literal");case tt.parenL:return this.parseParenAndDistinguishExpression(canBeArrow);case tt.bracketL:return node=this.startNode(),this.next(),node.elements=this.parseExprList(tt.bracketR,!0,!0,refDestructuringErrors),this.finishNode(node,"ArrayExpression");case tt.braceL:return this.parseObj(!1,refDestructuringErrors);case tt._function:return node=this.startNode(),this.next(),this.parseFunction(node,!1);case tt._class:return this.parseClass(this.startNode(),!1);case tt._new:return this.parseNew();case tt.backQuote:return this.parseTemplate();default:this.unexpected()}},pp$3.parseLiteral=function(value){var node=this.startNode();return node.value=value,node.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(node,"Literal")},pp$3.parseParenExpression=function(){this.expect(tt.parenL);var val=this.parseExpression();return this.expect(tt.parenR),val},pp$3.parseParenAndDistinguishExpression=function(canBeArrow){var val,this$1=this,startPos=this.start,startLoc=this.startLoc;if(this.options.ecmaVersion>=6){this.next();for(var spreadStart,innerParenStart,innerStartPos=this.start,innerStartLoc=this.startLoc,exprList=[],first=!0,refDestructuringErrors=new DestructuringErrors;this.type!==tt.parenR;){if(first?first=!1:this$1.expect(tt.comma),this$1.type===tt.ellipsis){spreadStart=this$1.start,exprList.push(this$1.parseParenItem(this$1.parseRest()));break}this$1.type!==tt.parenL||innerParenStart||(innerParenStart=this$1.start),exprList.push(this$1.parseMaybeAssign(!1,refDestructuringErrors,this$1.parseParenItem))}var innerEndPos=this.start,innerEndLoc=this.startLoc;if(this.expect(tt.parenR),canBeArrow&&!this.canInsertSemicolon()&&this.eat(tt.arrow))return this.checkPatternErrors(refDestructuringErrors,!0),innerParenStart&&this.unexpected(innerParenStart),this.parseParenArrowList(startPos,startLoc,exprList);exprList.length||this.unexpected(this.lastTokStart),spreadStart&&this.unexpected(spreadStart),this.checkExpressionErrors(refDestructuringErrors,!0),exprList.length>1?(val=this.startNodeAt(innerStartPos,innerStartLoc),val.expressions=exprList,this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)):val=exprList[0]}else val=this.parseParenExpression();if(this.options.preserveParens){var par=this.startNodeAt(startPos,startLoc);return par.expression=val,this.finishNode(par,"ParenthesizedExpression")}return val},pp$3.parseParenItem=function(item){return item},pp$3.parseParenArrowList=function(startPos,startLoc,exprList){return this.parseArrowExpression(this.startNodeAt(startPos,startLoc),exprList)};var empty$1=[];pp$3.parseNew=function(){var node=this.startNode(),meta=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(tt.dot))return node.meta=meta,node.property=this.parseIdent(!0),"target"!==node.property.name&&this.raiseRecoverable(node.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(node.start,"new.target can only be used in functions"),this.finishNode(node,"MetaProperty");var startPos=this.start,startLoc=this.startLoc;return node.callee=this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,!0),this.eat(tt.parenL)?node.arguments=this.parseExprList(tt.parenR,!1):node.arguments=empty$1,this.finishNode(node,"NewExpression")},pp$3.parseTemplateElement=function(){var elem=this.startNode();return elem.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),elem.tail=this.type===tt.backQuote,this.finishNode(elem,"TemplateElement")},pp$3.parseTemplate=function(){var this$1=this,node=this.startNode();this.next(),node.expressions=[];var curElt=this.parseTemplateElement();for(node.quasis=[curElt];!curElt.tail;)this$1.expect(tt.dollarBraceL),node.expressions.push(this$1.parseExpression()),this$1.expect(tt.braceR),node.quasis.push(curElt=this$1.parseTemplateElement());return this.next(),this.finishNode(node,"TemplateLiteral")},pp$3.parseObj=function(isPattern,refDestructuringErrors){var this$1=this,node=this.startNode(),first=!0,propHash={};for(node.properties=[],this.next();!this.eat(tt.braceR);){if(first)first=!1;else if(this$1.expect(tt.comma),this$1.afterTrailingComma(tt.braceR))break;var isGenerator,startPos,startLoc,prop=this$1.startNode();this$1.options.ecmaVersion>=6&&(prop.method=!1,prop.shorthand=!1,(isPattern||refDestructuringErrors)&&(startPos=this$1.start,startLoc=this$1.startLoc),isPattern||(isGenerator=this$1.eat(tt.star))),this$1.parsePropertyName(prop),this$1.parsePropertyValue(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors),this$1.checkPropClash(prop,propHash),node.properties.push(this$1.finishNode(prop,"Property"))}return this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")},pp$3.parsePropertyValue=function(prop,isPattern,isGenerator,startPos,startLoc,refDestructuringErrors){if(this.eat(tt.colon))prop.value=isPattern?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,refDestructuringErrors),prop.kind="init";else if(this.options.ecmaVersion>=6&&this.type===tt.parenL)isPattern&&this.unexpected(),prop.kind="init",prop.method=!0,prop.value=this.parseMethod(isGenerator);else if(this.options.ecmaVersion>=5&&!prop.computed&&"Identifier"===prop.key.type&&("get"===prop.key.name||"set"===prop.key.name)&&this.type!=tt.comma&&this.type!=tt.braceR){(isGenerator||isPattern)&&this.unexpected(),prop.kind=prop.key.name,this.parsePropertyName(prop),prop.value=this.parseMethod(!1);var paramCount="get"===prop.kind?0:1;if(prop.value.params.length!==paramCount){var start=prop.value.start;"get"===prop.kind?this.raiseRecoverable(start,"getter should have no params"):this.raiseRecoverable(start,"setter should have exactly one param")}"set"===prop.kind&&"RestElement"===prop.value.params[0].type&&this.raiseRecoverable(prop.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!prop.computed&&"Identifier"===prop.key.type?((this.keywords.test(prop.key.name)||(this.strict?this.reservedWordsStrictBind:this.reservedWords).test(prop.key.name)||this.inGenerator&&"yield"==prop.key.name)&&this.raiseRecoverable(prop.key.start,"'"+prop.key.name+"' can not be used as shorthand property"),prop.kind="init",isPattern?prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key):this.type===tt.eq&&refDestructuringErrors?(refDestructuringErrors.shorthandAssign||(refDestructuringErrors.shorthandAssign=this.start),prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key)):prop.value=prop.key,prop.shorthand=!0):this.unexpected()},pp$3.parsePropertyName=function(prop){if(this.options.ecmaVersion>=6){if(this.eat(tt.bracketL))return prop.computed=!0,prop.key=this.parseMaybeAssign(),this.expect(tt.bracketR),prop.key;prop.computed=!1}return prop.key=this.type===tt.num||this.type===tt.string?this.parseExprAtom():this.parseIdent(!0)},pp$3.initFunction=function(node){node.id=null,this.options.ecmaVersion>=6&&(node.generator=!1,node.expression=!1)},pp$3.parseMethod=function(isGenerator){var node=this.startNode(),oldInGen=this.inGenerator;return this.inGenerator=isGenerator,this.initFunction(node),this.expect(tt.parenL),node.params=this.parseBindingList(tt.parenR,!1,!1),this.options.ecmaVersion>=6&&(node.generator=isGenerator),this.parseFunctionBody(node,!1),this.inGenerator=oldInGen,this.finishNode(node,"FunctionExpression")},pp$3.parseArrowExpression=function(node,params){var oldInGen=this.inGenerator;return this.inGenerator=!1,this.initFunction(node),node.params=this.toAssignableList(params,!0),this.parseFunctionBody(node,!0),this.inGenerator=oldInGen,this.finishNode(node,"ArrowFunctionExpression")},pp$3.parseFunctionBody=function(node,isArrowFunction){var isExpression=isArrowFunction&&this.type!==tt.braceL;if(isExpression)node.body=this.parseMaybeAssign(),node.expression=!0;else{var oldInFunc=this.inFunction,oldLabels=this.labels;this.inFunction=!0,this.labels=[],node.body=this.parseBlock(!0),node.expression=!1,this.inFunction=oldInFunc,this.labels=oldLabels}var useStrict=!isExpression&&node.body.body.length&&this.isUseStrict(node.body.body[0])?node.body.body[0]:null;if(this.strict||useStrict){var oldStrict=this.strict;this.strict=!0,node.id&&this.checkLVal(node.id,!0),this.checkParams(node,useStrict),this.strict=oldStrict}else isArrowFunction&&this.checkParams(node,useStrict)},pp$3.checkParams=function(node,useStrict){for(var this$1=this,nameHash={},i=0;i<node.params.length;i++)useStrict&&this$1.options.ecmaVersion>=7&&"Identifier"!==node.params[i].type&&this$1.raiseRecoverable(useStrict.start,"Illegal 'use strict' directive in function with non-simple parameter list"),this$1.checkLVal(node.params[i],!0,nameHash)},pp$3.parseExprList=function(close,allowTrailingComma,allowEmpty,refDestructuringErrors){for(var this$1=this,elts=[],first=!0;!this.eat(close);){if(first)first=!1;else if(this$1.expect(tt.comma),allowTrailingComma&&this$1.afterTrailingComma(close))break;var elt;allowEmpty&&this$1.type===tt.comma?elt=null:this$1.type===tt.ellipsis?(elt=this$1.parseSpread(refDestructuringErrors),this$1.type===tt.comma&&refDestructuringErrors&&!refDestructuringErrors.trailingComma&&(refDestructuringErrors.trailingComma=this$1.lastTokStart)):elt=this$1.parseMaybeAssign(!1,refDestructuringErrors),elts.push(elt)}return elts},pp$3.parseIdent=function(liberal){var node=this.startNode();return liberal&&"never"==this.options.allowReserved&&(liberal=!1),this.type===tt.name?(!liberal&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\"))&&this.raiseRecoverable(this.start,"The keyword '"+this.value+"' is reserved"),!liberal&&this.inGenerator&&"yield"===this.value&&this.raiseRecoverable(this.start,"Can not use 'yield' as identifier inside a generator"),node.name=this.value):liberal&&this.type.keyword?node.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(node,"Identifier")},pp$3.parseYield=function(){var node=this.startNode();return this.next(),this.type==tt.semi||this.canInsertSemicolon()||this.type!=tt.star&&!this.type.startsExpr?(node.delegate=!1,node.argument=null):(node.delegate=this.eat(tt.star),node.argument=this.parseMaybeAssign()),this.finishNode(node,"YieldExpression")};var pp$4=Parser.prototype;pp$4.raise=function(pos,message){var loc=getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);throw err.pos=pos,err.loc=loc,err.raisedAt=this.pos,err},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var Node=function(parser,pos,loc){this.type="",this.start=pos,this.end=0,parser.options.locations&&(this.loc=new SourceLocation(parser,loc)),parser.options.directSourceFile&&(this.sourceFile=parser.options.directSourceFile),parser.options.ranges&&(this.range=[pos,0])},pp$5=Parser.prototype;pp$5.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$5.startNodeAt=function(pos,loc){return new Node(this,pos,loc)},pp$5.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.lastTokEnd,this.lastTokEndLoc)},pp$5.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)};var TokContext=function(token,isExpr,preserveSpace,override){this.token=token,this.isExpr=!!isExpr,this.preserveSpace=!!preserveSpace,this.override=override},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!0),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(p){return p.readTmplToken()}),f_expr:new TokContext("function",!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]},pp$6.braceIsBlock=function(prevType){if(prevType===tt.colon){var parent=this.curContext();if(parent===types.b_stat||parent===types.b_expr)return!parent.isExpr}return prevType===tt._return?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):prevType===tt._else||prevType===tt.semi||prevType===tt.eof||prevType===tt.parenR||(prevType==tt.braceL?this.curContext()===types.b_stat:!this.exprAllowed)},pp$6.updateContext=function(prevType){var update,type=this.type;type.keyword&&prevType==tt.dot?this.exprAllowed=!1:(update=type.updateContext)?update.call(this,prevType):this.exprAllowed=type.beforeExpr},tt.parenR.updateContext=tt.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var out=this.context.pop();out===types.b_stat&&this.curContext()===types.f_expr?(this.context.pop(),this.exprAllowed=!1):this.exprAllowed=out===types.b_tmpl||!out.isExpr},tt.braceL.updateContext=function(prevType){this.context.push(this.braceIsBlock(prevType)?types.b_stat:types.b_expr),this.exprAllowed=!0},tt.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0},tt.parenL.updateContext=function(prevType){var statementParens=prevType===tt._if||prevType===tt._for||prevType===tt._with||prevType===tt._while;this.context.push(statementParens?types.p_stat:types.p_expr),this.exprAllowed=!0},tt.incDec.updateContext=function(){},tt._function.updateContext=function(prevType){prevType.beforeExpr&&prevType!==tt.semi&&prevType!==tt._else&&(prevType!==tt.colon&&prevType!==tt.braceL||this.curContext()!==types.b_stat)&&this.context.push(types.f_expr),this.exprAllowed=!1},tt.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1};var Token=function(p){this.type=p.type,this.value=p.value,this.start=p.start,this.end=p.end,p.options.locations&&(this.loc=new SourceLocation(p,p.startLoc,p.endLoc)),p.options.ranges&&(this.range=[p.start,p.end])},pp$7=Parser.prototype,isRhino="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);pp$7.next=function(){this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp$7.getToken=function(){return this.next(),new Token(this)},"undefined"!=typeof Symbol&&(pp$7[Symbol.iterator]=function(){var self=this;return{next:function(){var token=self.getToken();return{done:token.type===tt.eof,value:token}}}}),pp$7.setStrict=function(strict){var this$1=this;if(this.strict=strict,this.type===tt.num||this.type===tt.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this$1.lineStart=this$1.input.lastIndexOf("\n",this$1.lineStart-2)+1,--this$1.curLine;this.nextToken()}},pp$7.curContext=function(){return this.context[this.context.length-1]},pp$7.nextToken=function(){var curContext=this.curContext();return curContext&&curContext.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(tt.eof):curContext.override?curContext.override(this):void this.readToken(this.fullCharCodeAtPos())},pp$7.readToken=function(code){return isIdentifierStart(code,this.options.ecmaVersion>=6)||92===code?this.readWord():this.getTokenFromCode(code)},pp$7.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.pos);return code<=55295||code>=57344?code:(code<<10)+this.input.charCodeAt(this.pos+1)-56613888},pp$7.skipBlockComment=function(){var this$1=this,startLoc=this.options.onComment&&this.curPosition(),start=this.pos,end=this.input.indexOf("*/",this.pos+=2);if(-1===end&&this.raise(this.pos-2,"Unterminated comment"),this.pos=end+2,this.options.locations){lineBreakG.lastIndex=start;for(var match;(match=lineBreakG.exec(this.input))&&match.index<this.pos;)++this$1.curLine,this$1.lineStart=match.index+match[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(start+2,end),start,this.pos,startLoc,this.curPosition())},pp$7.skipLineComment=function(startSkip){for(var this$1=this,start=this.pos,startLoc=this.options.onComment&&this.curPosition(),ch=this.input.charCodeAt(this.pos+=startSkip);this.pos<this.input.length&&10!==ch&&13!==ch&&8232!==ch&&8233!==ch;)++this$1.pos,ch=this$1.input.charCodeAt(this$1.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(start+startSkip,this.pos),start,this.pos,startLoc,this.curPosition())},pp$7.skipSpace=function(){var this$1=this;loop:for(;this.pos<this.input.length;){var ch=this$1.input.charCodeAt(this$1.pos);switch(ch){case 32:case 160:++this$1.pos;break;case 13:10===this$1.input.charCodeAt(this$1.pos+1)&&++this$1.pos;case 10:case 8232:case 8233:++this$1.pos,this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos);break;case 47:switch(this$1.input.charCodeAt(this$1.pos+1)){case 42:this$1.skipBlockComment();break;case 47:this$1.skipLineComment(2);break;default:break loop}break;default:if(!(ch>8&&ch<14||ch>=5760&&nonASCIIwhitespace.test(String.fromCharCode(ch))))break loop;++this$1.pos}}},pp$7.finishToken=function(type,val){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var prevType=this.type;this.type=type,this.value=val,this.updateContext(prevType)},pp$7.readToken_dot=function(){var next=this.input.charCodeAt(this.pos+1);if(next>=48&&next<=57)return this.readNumber(!0);var next2=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===next&&46===next2?(this.pos+=3,this.finishToken(tt.ellipsis)):(++this.pos,this.finishToken(tt.dot))},pp$7.readToken_slash=function(){var next=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.slash,1)},pp$7.readToken_mult_modulo_exp=function(code){var next=this.input.charCodeAt(this.pos+1),size=1,tokentype=42===code?tt.star:tt.modulo;return this.options.ecmaVersion>=7&&42===next&&(++size,tokentype=tt.starstar,next=this.input.charCodeAt(this.pos+2)),61===next?this.finishOp(tt.assign,size+1):this.finishOp(tokentype,size)},pp$7.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?this.finishOp(124===code?tt.logicalOR:tt.logicalAND,2):61===next?this.finishOp(tt.assign,2):this.finishOp(124===code?tt.bitwiseOR:tt.bitwiseAND,1)},pp$7.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(tt.assign,2):this.finishOp(tt.bitwiseXOR,1)},pp$7.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.pos+1);return next===code?45==next&&62==this.input.charCodeAt(this.pos+2)&&lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(tt.incDec,2):61===next?this.finishOp(tt.assign,2):this.finishOp(tt.plusMin,1)},pp$7.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.pos+1),size=1;return next===code?(size=62===code&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+size)?this.finishOp(tt.assign,size+1):this.finishOp(tt.bitShift,size)):33==next&&60==code&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===next&&(size=2),this.finishOp(tt.relational,size))},pp$7.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.pos+1);return 61===next?this.finishOp(tt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===code&&62===next&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(tt.arrow)):this.finishOp(61===code?tt.eq:tt.prefix,1)},pp$7.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(tt.parenL);case 41:return++this.pos,this.finishToken(tt.parenR);case 59:return++this.pos,this.finishToken(tt.semi);case 44:return++this.pos,this.finishToken(tt.comma);case 91:return++this.pos,this.finishToken(tt.bracketL);case 93:return++this.pos,this.finishToken(tt.bracketR);case 123:return++this.pos,this.finishToken(tt.braceL);case 125:return++this.pos,this.finishToken(tt.braceR);case 58:return++this.pos,this.finishToken(tt.colon);case 63:return++this.pos,this.finishToken(tt.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(tt.backQuote);case 48:var next=this.input.charCodeAt(this.pos+1);if(120===next||88===next)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===next||79===next)return this.readRadixNumber(8);if(98===next||66===next)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(tt.prefix,1)}this.raise(this.pos,"Unexpected character '"+codePointToString(code)+"'")},pp$7.finishOp=function(type,size){var str=this.input.slice(this.pos,this.pos+size);return this.pos+=size,this.finishToken(type,str)};var regexpUnicodeSupport=!!tryCreateRegexp("￿","u");pp$7.readRegexp=function(){for(var escaped,inClass,this$1=this,start=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(start,"Unterminated regular expression");var ch=this$1.input.charAt(this$1.pos);if(lineBreak.test(ch)&&this$1.raise(start,"Unterminated regular expression"),escaped)escaped=!1;else{if("["===ch)inClass=!0;else if("]"===ch&&inClass)inClass=!1;else if("/"===ch&&!inClass)break;escaped="\\"===ch}++this$1.pos}var content=this.input.slice(start,this.pos);++this.pos;var mods=this.readWord1(),tmp=content,tmpFlags="";if(mods){var validFlags=/^[gim]*$/;this.options.ecmaVersion>=6&&(validFlags=/^[gimuy]*$/),validFlags.test(mods)||this.raise(start,"Invalid regular expression flag"),mods.indexOf("u")>=0&&(regexpUnicodeSupport?tmpFlags="u":(tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(_match,code,offset){return code=Number("0x"+code),code>1114111&&this$1.raise(start+offset+3,"Code point out of bounds"),"x"}),tmp=tmp.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"),tmpFlags=tmpFlags.replace("u","")))}var value=null;return isRhino||(tryCreateRegexp(tmp,tmpFlags,start,this),value=tryCreateRegexp(content,mods)),this.finishToken(tt.regexp,{pattern:content,flags:mods,value:value})},pp$7.readInt=function(radix,len){for(var this$1=this,start=this.pos,total=0,i=0,e=null==len?1/0:len;i<e;++i){var val,code=this$1.input.charCodeAt(this$1.pos);if((val=code>=97?code-97+10:code>=65?code-65+10:code>=48&&code<=57?code-48:1/0)>=radix)break;++this$1.pos,total=total*radix+val}return this.pos===start||null!=len&&this.pos-start!==len?null:total},pp$7.readRadixNumber=function(radix){this.pos+=2;var val=this.readInt(radix);return null==val&&this.raise(this.start+2,"Expected number in radix "+radix),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(tt.num,val)},pp$7.readNumber=function(startsWithDot){var start=this.pos,isFloat=!1,octal=48===this.input.charCodeAt(this.pos);startsWithDot||null!==this.readInt(10)||this.raise(start,"Invalid number");var next=this.input.charCodeAt(this.pos);46===next&&(++this.pos,this.readInt(10),isFloat=!0,next=this.input.charCodeAt(this.pos)),69!==next&&101!==next||(next=this.input.charCodeAt(++this.pos),43!==next&&45!==next||++this.pos,null===this.readInt(10)&&this.raise(start,"Invalid number"),isFloat=!0),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var val,str=this.input.slice(start,this.pos);return isFloat?val=parseFloat(str):octal&&1!==str.length?/[89]/.test(str)||this.strict?this.raise(start,"Invalid number"):val=parseInt(str,8):val=parseInt(str,10),this.finishToken(tt.num,val)},pp$7.readCodePoint=function(){var code,ch=this.input.charCodeAt(this.pos);if(123===ch){this.options.ecmaVersion<6&&this.unexpected();var codePos=++this.pos;code=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,code>1114111&&this.raise(codePos,"Code point out of bounds")}else code=this.readHexChar(4);return code},pp$7.readString=function(quote){
for(var this$1=this,out="",chunkStart=++this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated string constant");var ch=this$1.input.charCodeAt(this$1.pos);if(ch===quote)break;92===ch?(out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!1),chunkStart=this$1.pos):(isNewLine(ch)&&this$1.raise(this$1.start,"Unterminated string constant"),++this$1.pos)}return out+=this.input.slice(chunkStart,this.pos++),this.finishToken(tt.string,out)},pp$7.readTmplToken=function(){for(var this$1=this,out="",chunkStart=this.pos;;){this$1.pos>=this$1.input.length&&this$1.raise(this$1.start,"Unterminated template");var ch=this$1.input.charCodeAt(this$1.pos);if(96===ch||36===ch&&123===this$1.input.charCodeAt(this$1.pos+1))return this$1.pos===this$1.start&&this$1.type===tt.template?36===ch?(this$1.pos+=2,this$1.finishToken(tt.dollarBraceL)):(++this$1.pos,this$1.finishToken(tt.backQuote)):(out+=this$1.input.slice(chunkStart,this$1.pos),this$1.finishToken(tt.template,out));if(92===ch)out+=this$1.input.slice(chunkStart,this$1.pos),out+=this$1.readEscapedChar(!0),chunkStart=this$1.pos;else if(isNewLine(ch)){switch(out+=this$1.input.slice(chunkStart,this$1.pos),++this$1.pos,ch){case 13:10===this$1.input.charCodeAt(this$1.pos)&&++this$1.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch)}this$1.options.locations&&(++this$1.curLine,this$1.lineStart=this$1.pos),chunkStart=this$1.pos}else++this$1.pos}},pp$7.readEscapedChar=function(inTemplate){var ch=this.input.charCodeAt(++this.pos);switch(++this.pos,ch){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(ch>=48&&ch<=55){var octalStr=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],octal=parseInt(octalStr,8);return octal>255&&(octalStr=octalStr.slice(0,-1),octal=parseInt(octalStr,8)),"0"!==octalStr&&(this.strict||inTemplate)&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=octalStr.length-1,String.fromCharCode(octal)}return String.fromCharCode(ch)}},pp$7.readHexChar=function(len){var codePos=this.pos,n=this.readInt(16,len);return null===n&&this.raise(codePos,"Bad character escape sequence"),n},pp$7.readWord1=function(){var this$1=this;this.containsEsc=!1;for(var word="",first=!0,chunkStart=this.pos,astral=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ch=this$1.fullCharCodeAtPos();if(isIdentifierChar(ch,astral))this$1.pos+=ch<=65535?1:2;else{if(92!==ch)break;this$1.containsEsc=!0,word+=this$1.input.slice(chunkStart,this$1.pos);var escStart=this$1.pos;117!=this$1.input.charCodeAt(++this$1.pos)&&this$1.raise(this$1.pos,"Expecting Unicode escape sequence \\uXXXX"),++this$1.pos;var esc=this$1.readCodePoint();(first?isIdentifierStart:isIdentifierChar)(esc,astral)||this$1.raise(escStart,"Invalid Unicode escape"),word+=codePointToString(esc),chunkStart=this$1.pos}first=!1}return word+this.input.slice(chunkStart,this.pos)},pp$7.readWord=function(){var word=this.readWord1(),type=tt.name;return(this.options.ecmaVersion>=6||!this.containsEsc)&&this.keywords.test(word)&&(type=keywordTypes[word]),this.finishToken(type,word)};exports.version="3.3.0",exports.parse=parse,exports.parseExpressionAt=parseExpressionAt,exports.tokenizer=tokenizer,exports.Parser=Parser,exports.plugins=plugins,exports.defaultOptions=defaultOptions,exports.Position=Position,exports.SourceLocation=SourceLocation,exports.getLineInfo=getLineInfo,exports.Node=Node,exports.TokenType=TokenType,exports.tokTypes=tt,exports.TokContext=TokContext,exports.tokContexts=types,exports.isIdentifierChar=isIdentifierChar,exports.isIdentifierStart=isIdentifierStart,exports.Token=Token,exports.isNewLine=isNewLine,exports.lineBreak=lineBreak,exports.lineBreakG=lineBreakG,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],5:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global.acorn=global.acorn||{},global.acorn.walk=global.acorn.walk||{}))}(this,function(exports){"use strict";function simple(node,visitors,base,state,override){base||(base=exports.base),function c(node,st,override){var type=override||node.type,found=visitors[type];base[type](node,st,c),found&&found(node,st)}(node,state,override)}function ancestor(node,visitors,base,state){base||(base=exports.base);var ancestors=[];!function c(node,st,override){var type=override||node.type,found=visitors[type],isNew=node!=ancestors[ancestors.length-1];isNew&&ancestors.push(node),base[type](node,st,c),found&&found(node,st||ancestors,ancestors),isNew&&ancestors.pop()}(node,state)}function recursive(node,state,funcs,base,override){var visitor=funcs?exports.make(funcs,base):base;!function c(node,st,override){visitor[override||node.type](node,st,c)}(node,state,override)}function makeTest(test){return"string"==typeof test?function(type){return type==test}:test||function(){return!0}}function findNodeAt(node,start,end,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if((null==start||node.start<=start)&&(null==end||node.end>=end)&&base[type](node,st,c),(null==start||node.start==start)&&(null==end||node.end==end)&&test(type,node))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAround(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){var type=override||node.type;if(!(node.start>pos||node.end<pos)&&(base[type](node,st,c),test(type,node)))throw new Found(node,st)}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeAfter(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);try{!function c(node,st,override){if(!(node.end<pos)){var type=override||node.type;if(node.start>=pos&&test(type,node))throw new Found(node,st);base[type](node,st,c)}}(node,state)}catch(e){if(e instanceof Found)return e;throw e}}function findNodeBefore(node,pos,test,base,state){test=makeTest(test),base||(base=exports.base);var max;return function c(node,st,override){if(!(node.start>pos)){var type=override||node.type;node.end<=pos&&(!max||max.node.end<node.end)&&test(type,node)&&(max=new Found(node,st)),base[type](node,st,c)}}(node,state),max}function make(funcs,base){base||(base=exports.base);var visitor=create(base);for(var type in funcs)visitor[type]=funcs[type];return visitor}function skipThrough(node,st,c){c(node,st)}function ignore(_node,_st,_c){}var Found=function(node,state){this.node=node,this.state=state},create=Object.create||function(proto){function Ctor(){}return Ctor.prototype=proto,new Ctor},base={};base.Program=base.BlockStatement=function(node,st,c){for(var i=0;i<node.body.length;++i)c(node.body[i],st,"Statement")},base.Statement=skipThrough,base.EmptyStatement=ignore,base.ExpressionStatement=base.ParenthesizedExpression=function(node,st,c){return c(node.expression,st,"Expression")},base.IfStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Statement"),node.alternate&&c(node.alternate,st,"Statement")},base.LabeledStatement=function(node,st,c){return c(node.body,st,"Statement")},base.BreakStatement=base.ContinueStatement=ignore,base.WithStatement=function(node,st,c){c(node.object,st,"Expression"),c(node.body,st,"Statement")},base.SwitchStatement=function(node,st,c){c(node.discriminant,st,"Expression");for(var i=0;i<node.cases.length;++i){var cs=node.cases[i];cs.test&&c(cs.test,st,"Expression");for(var j=0;j<cs.consequent.length;++j)c(cs.consequent[j],st,"Statement")}},base.ReturnStatement=base.YieldExpression=function(node,st,c){node.argument&&c(node.argument,st,"Expression")},base.ThrowStatement=base.SpreadElement=function(node,st,c){return c(node.argument,st,"Expression")},base.TryStatement=function(node,st,c){c(node.block,st,"Statement"),node.handler&&c(node.handler,st),node.finalizer&&c(node.finalizer,st,"Statement")},base.CatchClause=function(node,st,c){c(node.param,st,"Pattern"),c(node.body,st,"ScopeBody")},base.WhileStatement=base.DoWhileStatement=function(node,st,c){c(node.test,st,"Expression"),c(node.body,st,"Statement")},base.ForStatement=function(node,st,c){node.init&&c(node.init,st,"ForInit"),node.test&&c(node.test,st,"Expression"),node.update&&c(node.update,st,"Expression"),c(node.body,st,"Statement")},base.ForInStatement=base.ForOfStatement=function(node,st,c){c(node.left,st,"ForInit"),c(node.right,st,"Expression"),c(node.body,st,"Statement")},base.ForInit=function(node,st,c){"VariableDeclaration"==node.type?c(node,st):c(node,st,"Expression")},base.DebuggerStatement=ignore,base.FunctionDeclaration=function(node,st,c){return c(node,st,"Function")},base.VariableDeclaration=function(node,st,c){for(var i=0;i<node.declarations.length;++i)c(node.declarations[i],st)},base.VariableDeclarator=function(node,st,c){c(node.id,st,"Pattern"),node.init&&c(node.init,st,"Expression")},base.Function=function(node,st,c){node.id&&c(node.id,st,"Pattern");for(var i=0;i<node.params.length;i++)c(node.params[i],st,"Pattern");c(node.body,st,node.expression?"ScopeExpression":"ScopeBody")},base.ScopeBody=function(node,st,c){return c(node,st,"Statement")},base.ScopeExpression=function(node,st,c){return c(node,st,"Expression")},base.Pattern=function(node,st,c){"Identifier"==node.type?c(node,st,"VariablePattern"):"MemberExpression"==node.type?c(node,st,"MemberPattern"):c(node,st)},base.VariablePattern=ignore,base.MemberPattern=skipThrough,base.RestElement=function(node,st,c){return c(node.argument,st,"Pattern")},base.ArrayPattern=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Pattern")}},base.ObjectPattern=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i].value,st,"Pattern")},base.Expression=skipThrough,base.ThisExpression=base.Super=base.MetaProperty=ignore,base.ArrayExpression=function(node,st,c){for(var i=0;i<node.elements.length;++i){var elt=node.elements[i];elt&&c(elt,st,"Expression")}},base.ObjectExpression=function(node,st,c){for(var i=0;i<node.properties.length;++i)c(node.properties[i],st)},base.FunctionExpression=base.ArrowFunctionExpression=base.FunctionDeclaration,base.SequenceExpression=base.TemplateLiteral=function(node,st,c){for(var i=0;i<node.expressions.length;++i)c(node.expressions[i],st,"Expression")},base.UnaryExpression=base.UpdateExpression=function(node,st,c){c(node.argument,st,"Expression")},base.BinaryExpression=base.LogicalExpression=function(node,st,c){c(node.left,st,"Expression"),c(node.right,st,"Expression")},base.AssignmentExpression=base.AssignmentPattern=function(node,st,c){c(node.left,st,"Pattern"),c(node.right,st,"Expression")},base.ConditionalExpression=function(node,st,c){c(node.test,st,"Expression"),c(node.consequent,st,"Expression"),c(node.alternate,st,"Expression")},base.NewExpression=base.CallExpression=function(node,st,c){if(c(node.callee,st,"Expression"),node.arguments)for(var i=0;i<node.arguments.length;++i)c(node.arguments[i],st,"Expression")},base.MemberExpression=function(node,st,c){c(node.object,st,"Expression"),node.computed&&c(node.property,st,"Expression")},base.ExportNamedDeclaration=base.ExportDefaultDeclaration=function(node,st,c){node.declaration&&c(node.declaration,st,"ExportNamedDeclaration"==node.type||node.declaration.id?"Statement":"Expression"),node.source&&c(node.source,st,"Expression")},base.ExportAllDeclaration=function(node,st,c){c(node.source,st,"Expression")},base.ImportDeclaration=function(node,st,c){for(var i=0;i<node.specifiers.length;i++)c(node.specifiers[i],st);c(node.source,st,"Expression")},base.ImportSpecifier=base.ImportDefaultSpecifier=base.ImportNamespaceSpecifier=base.Identifier=base.Literal=ignore,base.TaggedTemplateExpression=function(node,st,c){c(node.tag,st,"Expression"),c(node.quasi,st)},base.ClassDeclaration=base.ClassExpression=function(node,st,c){return c(node,st,"Class")},base.Class=function(node,st,c){node.id&&c(node.id,st,"Pattern"),node.superClass&&c(node.superClass,st,"Expression");for(var i=0;i<node.body.body.length;i++)c(node.body.body[i],st)},base.MethodDefinition=base.Property=function(node,st,c){node.computed&&c(node.key,st,"Expression"),c(node.value,st,"Expression")},exports.simple=simple,exports.ancestor=ancestor,exports.recursive=recursive,exports.findNodeAt=findNodeAt,exports.findNodeAround=findNodeAround,exports.findNodeAfter=findNodeAfter,exports.findNodeBefore=findNodeBefore,exports.make=make,exports.base=base,Object.defineProperty(exports,"__esModule",{value:!0})})},{}],6:[function(require,module,exports){"use strict";function throwFirstError(){if(pendingErrors.length)throw pendingErrors.shift()}function asap(task){var rawTask;rawTask=freeTasks.length?freeTasks.pop():new RawTask,rawTask.task=task,rawAsap(rawTask)}function RawTask(){this.task=null}var rawAsap=require("./raw"),freeTasks=[],pendingErrors=[],requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);module.exports=asap,RawTask.prototype.call=function(){try{this.task.call()}catch(error){asap.onerror?asap.onerror(error):(pendingErrors.push(error),requestErrorThrow())}finally{this.task=null,freeTasks[freeTasks.length]=this}}},{"./raw":7}],7:[function(require,module,exports){(function(global){"use strict";function rawAsap(task){queue.length||(requestFlush(),flushing=!0),queue[queue.length]=task}function flush(){for(;index<queue.length;){var currentIndex=index;if(index+=1,queue[currentIndex].call(),index>capacity){for(var scan=0,newLength=queue.length-index;scan<newLength;scan++)queue[scan]=queue[scan+index];queue.length-=index,index=0}}queue.length=0,index=0,flushing=!1}function makeRequestCallFromTimer(callback){return function(){function handleTimer(){clearTimeout(timeoutHandle),clearInterval(intervalHandle),callback()}var timeoutHandle=setTimeout(handleTimer,0),intervalHandle=setInterval(handleTimer,50)}}module.exports=rawAsap;var requestFlush,queue=[],flushing=!1,index=0,capacity=1024,scope=void 0!==global?global:self,BrowserMutationObserver=scope.MutationObserver||scope.WebKitMutationObserver;requestFlush="function"==typeof BrowserMutationObserver?function(callback){var toggle=1,observer=new BrowserMutationObserver(callback),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){toggle=-toggle,node.data=toggle}}(flush):makeRequestCallFromTimer(flush),rawAsap.requestFlush=requestFlush,rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(require,module,exports){(function(global){"use strict";function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):!!arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}function getName(func){if(util.isFunction(func)){if(functionsHaveNames)return func.name;var str=func.toString(),match=str.match(regex);return match&&match[1]}}function truncate(s,n){return"string"==typeof s?s.length<n?s:s.slice(0,n):s}function inspect(something){if(functionsHaveNames||!util.isFunction(something))return util.inspect(something);var rawname=getName(something);return"[Function"+(rawname?": "+rawname:"")+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"==typeof actual||null!==expected&&"object"==typeof expected){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);return-1!==actualIndex&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),objEquiv(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b,strict,actualVisitedObjects){if(null===a||void 0===a||null===b||void 0===b)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(actual,expected){if(!actual||!expected)return!1;if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return!0}catch(e){}return!Error.isPrototypeOf(expected)&&!0===expected.call({},actual)}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if("function"!=typeof block)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=_tryBlock(block),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnwantedException=!shouldThrow&&util.isError(actual),isUnexpectedException=!shouldThrow&&actual&&!expected;if((isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=require("util/"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return"foo"===function(){}.name}(),assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=getName(stackStartFunction),idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":11}],9:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],10:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],11:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){base=" [Function"+(value.name?": "+value.name:"")+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;return output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:371,inherits:9}],12:[function(require,module,exports){module.exports={default:require("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":141}],13:[function(require,module,exports){module.exports={default:require("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":142}],14:[function(require,module,exports){module.exports={
default:require("core-js/library/fn/number/max-safe-integer"),__esModule:!0}},{"core-js/library/fn/number/max-safe-integer":143}],15:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":144}],16:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/get-own-property-symbols"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-symbols":145}],17:[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":146}],18:[function(require,module,exports){module.exports={default:require("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":148}],19:[function(require,module,exports){module.exports={default:require("core-js/library/fn/symbol/for"),__esModule:!0}},{"core-js/library/fn/symbol/for":147}],20:[function(require,module,exports){module.exports={default:require("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":149}],21:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _iterator=require("../core-js/symbol/iterator"),_iterator2=_interopRequireDefault(_iterator),_symbol=require("../core-js/symbol"),_symbol2=_interopRequireDefault(_symbol),_typeof="function"==typeof _symbol2.default&&"symbol"==typeof _iterator2.default?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":typeof obj};exports.default="function"==typeof _symbol2.default&&"symbol"===_typeof(_iterator2.default)?function(obj){return void 0===obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":_typeof(obj)}},{"../core-js/symbol":18,"../core-js/symbol/iterator":20}],22:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.NOT_LOCAL_BINDING=exports.BLOCK_SCOPED_SYMBOL=exports.INHERIT_KEYS=exports.UNARY_OPERATORS=exports.STRING_UNARY_OPERATORS=exports.NUMBER_UNARY_OPERATORS=exports.BOOLEAN_UNARY_OPERATORS=exports.BINARY_OPERATORS=exports.NUMBER_BINARY_OPERATORS=exports.BOOLEAN_BINARY_OPERATORS=exports.COMPARISON_BINARY_OPERATORS=exports.EQUALITY_BINARY_OPERATORS=exports.BOOLEAN_NUMBER_BINARY_OPERATORS=exports.UPDATE_OPERATORS=exports.LOGICAL_OPERATORS=exports.COMMENT_KEYS=exports.FOR_INIT_KEYS=exports.FLATTENABLE_KEYS=exports.STATEMENT_OR_BLOCK_KEYS=void 0;var _for=require("babel-runtime/core-js/symbol/for"),_for2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_for),BOOLEAN_NUMBER_BINARY_OPERATORS=(exports.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"],exports.FLATTENABLE_KEYS=["body","expressions"],exports.FOR_INIT_KEYS=["left","init"],exports.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"],exports.LOGICAL_OPERATORS=["||","&&"],exports.UPDATE_OPERATORS=["++","--"],exports.BOOLEAN_NUMBER_BINARY_OPERATORS=[">","<",">=","<="]),EQUALITY_BINARY_OPERATORS=exports.EQUALITY_BINARY_OPERATORS=["==","===","!=","!=="],COMPARISON_BINARY_OPERATORS=exports.COMPARISON_BINARY_OPERATORS=[].concat(EQUALITY_BINARY_OPERATORS,["in","instanceof"]),BOOLEAN_BINARY_OPERATORS=exports.BOOLEAN_BINARY_OPERATORS=[].concat(COMPARISON_BINARY_OPERATORS,BOOLEAN_NUMBER_BINARY_OPERATORS),NUMBER_BINARY_OPERATORS=exports.NUMBER_BINARY_OPERATORS=["-","/","%","*","**","&","|",">>",">>>","<<","^"],BOOLEAN_UNARY_OPERATORS=(exports.BINARY_OPERATORS=["+"].concat(NUMBER_BINARY_OPERATORS,BOOLEAN_BINARY_OPERATORS),exports.BOOLEAN_UNARY_OPERATORS=["delete","!"]),NUMBER_UNARY_OPERATORS=exports.NUMBER_UNARY_OPERATORS=["+","-","++","--","~"],STRING_UNARY_OPERATORS=exports.STRING_UNARY_OPERATORS=["typeof"];exports.UNARY_OPERATORS=["void"].concat(BOOLEAN_UNARY_OPERATORS,NUMBER_UNARY_OPERATORS,STRING_UNARY_OPERATORS),exports.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]},exports.BLOCK_SCOPED_SYMBOL=(0,_for2.default)("var used to be block scoped"),exports.NOT_LOCAL_BINDING=(0,_for2.default)("should not be considered a local binding")},{"babel-runtime/core-js/symbol/for":19}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function toComputedKey(node){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:node.key||node.property;return node.computed||t.isIdentifier(key)&&(key=t.stringLiteral(key.name)),key}function gatherSequenceExpressions(nodes,scope,declars){for(var exprs=[],ensureLastUndefined=!0,_iterator=nodes,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:(0,_getIterator3.default)(_iterator);;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var node=_ref;if(ensureLastUndefined=!1,t.isExpression(node))exprs.push(node);else if(t.isExpressionStatement(node))exprs.push(node.expression);else if(t.isVariableDeclaration(node)){if("var"!==node.kind)return;for(var _iterator2=node.declarations,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:(0,_getIterator3.default)(_iterator2);;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var declar=_ref2,bindings=t.getBindingIdentifiers(declar);for(var key in bindings)declars.push({kind:node.kind,id:bindings[key]});declar.init&&exprs.push(t.assignmentExpression("=",declar.id,declar.init))}ensureLastUndefined=!0}else if(t.isIfStatement(node)){var consequent=node.consequent?gatherSequenceExpressions([node.consequent],scope,declars):scope.buildUndefinedNode(),alternate=node.alternate?gatherSequenceExpressions([node.alternate],scope,declars):scope.buildUndefinedNode();if(!consequent||!alternate)return;exprs.push(t.conditionalExpression(node.test,consequent,alternate))}else if(t.isBlockStatement(node)){var body=gatherSequenceExpressions(node.body,scope,declars);if(!body)return;exprs.push(body)}else{if(!t.isEmptyStatement(node))return;ensureLastUndefined=!0}}return ensureLastUndefined&&exprs.push(scope.buildUndefinedNode()),1===exprs.length?exprs[0]:t.sequenceExpression(exprs)}function toSequenceExpression(nodes,scope){if(nodes&&nodes.length){var declars=[],result=gatherSequenceExpressions(nodes,scope,declars);if(result){for(var _iterator3=declars,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:(0,_getIterator3.default)(_iterator3);;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var declar=_ref3;scope.push(declar)}return result}}}function toKeyAlias(node){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:node.key,alias=void 0;return"method"===node.kind?toKeyAlias.increment()+"":(alias=t.isIdentifier(key)?key.name:t.isStringLiteral(key)?(0,_stringify2.default)(key.value):(0,_stringify2.default)(t.removePropertiesDeep(t.cloneDeep(key))),node.computed&&(alias="["+alias+"]"),node.static&&(alias="static:"+alias),alias)}function toIdentifier(name){return name+="",name=name.replace(/[^a-zA-Z0-9$_]/g,"-"),name=name.replace(/^[-0-9]+/,""),name=name.replace(/[-\s]+(.)?/g,function(match,c){return c?c.toUpperCase():""}),t.isValidIdentifier(name)||(name="_"+name),name||"_"}function toBindingIdentifierName(name){return name=toIdentifier(name),"eval"!==name&&"arguments"!==name||(name="_"+name),name}function toStatement(node,ignore){if(t.isStatement(node))return node;var mustHaveId=!1,newType=void 0;if(t.isClass(node))mustHaveId=!0,newType="ClassDeclaration";else if(t.isFunction(node))mustHaveId=!0,newType="FunctionDeclaration";else if(t.isAssignmentExpression(node))return t.expressionStatement(node);if(mustHaveId&&!node.id&&(newType=!1),!newType){if(ignore)return!1;throw new Error("cannot turn "+node.type+" to a statement")}return node.type=newType,node}function toExpression(node){if(t.isExpressionStatement(node)&&(node=node.expression),t.isExpression(node))return node;if(t.isClass(node)?node.type="ClassExpression":t.isFunction(node)&&(node.type="FunctionExpression"),!t.isExpression(node))throw new Error("cannot turn "+node.type+" to an expression");return node}function toBlock(node,parent){return t.isBlockStatement(node)?node:(t.isEmptyStatement(node)&&(node=[]),Array.isArray(node)||(t.isStatement(node)||(node=t.isFunction(parent)?t.returnStatement(node):t.expressionStatement(node)),node=[node]),t.blockStatement(node))}function valueToNode(value){if(void 0===value)return t.identifier("undefined");if(!0===value||!1===value)return t.booleanLiteral(value);if(null===value)return t.nullLiteral();if("string"==typeof value)return t.stringLiteral(value);if("number"==typeof value)return t.numericLiteral(value);if((0,_isRegExp2.default)(value)){var pattern=value.source,flags=value.toString().match(/\/([a-z]+|)$/)[1];return t.regExpLiteral(pattern,flags)}if(Array.isArray(value))return t.arrayExpression(value.map(t.valueToNode));if((0,_isPlainObject2.default)(value)){var props=[];for(var key in value){var nodeKey=void 0;nodeKey=t.isValidIdentifier(key)?t.identifier(key):t.stringLiteral(key),props.push(t.objectProperty(nodeKey,t.valueToNode(value[key])))}return t.objectExpression(props)}throw new Error("don't know how to turn this value into a node")}exports.__esModule=!0;var _maxSafeInteger=require("babel-runtime/core-js/number/max-safe-integer"),_maxSafeInteger2=_interopRequireDefault(_maxSafeInteger),_stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2);exports.toComputedKey=toComputedKey,exports.toSequenceExpression=toSequenceExpression,exports.toKeyAlias=toKeyAlias,exports.toIdentifier=toIdentifier,exports.toBindingIdentifierName=toBindingIdentifierName,exports.toStatement=toStatement,exports.toExpression=toExpression,exports.toBlock=toBlock,exports.valueToNode=valueToNode;var _isPlainObject=require("lodash/isPlainObject"),_isPlainObject2=_interopRequireDefault(_isPlainObject),_isRegExp=require("lodash/isRegExp"),_isRegExp2=_interopRequireDefault(_isRegExp),_index=require("./index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index);toKeyAlias.uid=0,toKeyAlias.increment=function(){return toKeyAlias.uid>=_maxSafeInteger2.default?toKeyAlias.uid=0:toKeyAlias.uid++}},{"./index":33,"babel-runtime/core-js/get-iterator":12,"babel-runtime/core-js/json/stringify":13,"babel-runtime/core-js/number/max-safe-integer":14,"lodash/isPlainObject":356,"lodash/isRegExp":357}],24:[function(require,module,exports){"use strict";var _index=require("../index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index),_constants=require("../constants"),_index2=require("./index"),_index3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index2);(0,_index3.default)("ArrayExpression",{fields:{elements:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeOrValueType)("null","Expression","SpreadElement"))),default:[]}},visitor:["elements"],aliases:["Expression"]}),(0,_index3.default)("AssignmentExpression",{fields:{operator:{validate:(0,_index2.assertValueType)("string")},left:{validate:(0,_index2.assertNodeType)("LVal")},right:{validate:(0,_index2.assertNodeType)("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),(0,_index3.default)("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:_index2.assertOneOf.apply(void 0,_constants.BINARY_OPERATORS)},left:{validate:(0,_index2.assertNodeType)("Expression")},right:{validate:(0,_index2.assertNodeType)("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),(0,_index3.default)("Directive",{visitor:["value"],fields:{value:{validate:(0,_index2.assertNodeType)("DirectiveLiteral")}}}),(0,_index3.default)("DirectiveLiteral",{builder:["value"],fields:{value:{validate:(0,_index2.assertValueType)("string")}}}),(0,_index3.default)("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Directive"))),default:[]},body:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block","Statement"]}),(0,_index3.default)("BreakStatement",{visitor:["label"],fields:{label:{validate:(0,_index2.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),(0,_index3.default)("CallExpression",{visitor:["callee","arguments"],fields:{callee:{validate:(0,_index2.assertNodeType)("Expression")},arguments:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Expression","SpreadElement")))}},aliases:["Expression"]}),(0,_index3.default)("CatchClause",{visitor:["param","body"],fields:{param:{validate:(0,_index2.assertNodeType)("Identifier")},body:{validate:(0,_index2.assertNodeType)("BlockStatement")}},aliases:["Scopable"]}),(0,_index3.default)("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:(0,_index2.assertNodeType)("Expression")},consequent:{validate:(0,_index2.assertNodeType)("Expression")},alternate:{validate:(0,_index2.assertNodeType)("Expression")}},aliases:["Expression","Conditional"]}),(0,_index3.default)("ContinueStatement",{visitor:["label"],fields:{label:{validate:(0,_index2.assertNodeType)("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),(0,_index3.default)("DebuggerStatement",{aliases:["Statement"]}),(0,_index3.default)("DoWhileStatement",{visitor:["test","body"],fields:{test:{validate:(0,_index2.assertNodeType)("Expression")},body:{validate:(0,_index2.assertNodeType)("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),(0,_index3.default)("EmptyStatement",{aliases:["Statement"]}),(0,_index3.default)("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:(0,_index2.assertNodeType)("Expression")}},aliases:["Statement","ExpressionWrapper"]}),(0,_index3.default)("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:(0,_index2.assertNodeType)("Program")}}}),(0,_index3.default)("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:(0,_index2.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,_index2.assertNodeType)("Expression")},body:{validate:(0,_index2.assertNodeType)("Statement")}}}),(0,_index3.default)("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:(0,_index2.assertNodeType)("VariableDeclaration","Expression"),optional:!0},test:{validate:(0,_index2.assertNodeType)("Expression"),optional:!0},update:{validate:(0,_index2.assertNodeType)("Expression"),optional:!0},body:{validate:(0,_index2.assertNodeType)("Statement")}}}),(0,_index3.default)("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","params","body","returnType","typeParameters"],fields:{id:{validate:(0,_index2.assertNodeType)("Identifier")},params:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("LVal")))},body:{validate:(0,_index2.assertNodeType)("BlockStatement")},generator:{default:!1,validate:(0,_index2.assertValueType)("boolean")},async:{default:!1,validate:(0,_index2.assertValueType)("boolean")}},aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"]}),(0,_index3.default)("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:{id:{validate:(0,_index2.assertNodeType)("Identifier"),optional:!0},params:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("LVal")))},body:{validate:(0,_index2.assertNodeType)("BlockStatement")},generator:{default:!1,validate:(0,_index2.assertValueType)("boolean")},async:{default:!1,validate:(0,_index2.assertValueType)("boolean")}}}),(0,_index3.default)("Identifier",{builder:["name"],visitor:["typeAnnotation"],aliases:["Expression","LVal"],fields:{name:{validate:function(node,key,val){t.isValidIdentifier(val)}},decorators:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Decorator")))}}}),(0,_index3.default)("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:(0,_index2.assertNodeType)("Expression")},consequent:{validate:(0,_index2.assertNodeType)("Statement")},alternate:{optional:!0,validate:(0,_index2.assertNodeType)("Statement")}}}),(0,_index3.default)("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:(0,_index2.assertNodeType)("Identifier")},body:{validate:(0,_index2.assertNodeType)("Statement")}}}),(0,_index3.default)("StringLiteral",{builder:["value"],fields:{value:{validate:(0,_index2.assertValueType)("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,_index3.default)("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:(0,_index2.assertValueType)("number")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,_index3.default)("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),(0,_index3.default)("BooleanLiteral",{builder:["value"],fields:{value:{validate:(0,_index2.assertValueType)("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),(0,_index3.default)("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Literal"],fields:{pattern:{validate:(0,_index2.assertValueType)("string")},flags:{validate:(0,_index2.assertValueType)("string"),default:""}}}),(0,_index3.default)("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:_index2.assertOneOf.apply(void 0,_constants.LOGICAL_OPERATORS)},left:{validate:(0,_index2.assertNodeType)("Expression")},right:{validate:(0,_index2.assertNodeType)("Expression")}}}),(0,_index3.default)("MemberExpression",{builder:["object","property","computed"],visitor:["object","property"],aliases:["Expression","LVal"],fields:{object:{validate:(0,_index2.assertNodeType)("Expression")},property:{validate:function(node,key,val){var expectedType=node.computed?"Expression":"Identifier";(0,_index2.assertNodeType)(expectedType)(node,key,val)}},computed:{default:!1}}}),(0,_index3.default)("NewExpression",{visitor:["callee","arguments"],aliases:["Expression"],fields:{callee:{validate:(0,_index2.assertNodeType)("Expression")},arguments:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Expression","SpreadElement")))}}}),(0,_index3.default)("Program",{visitor:["directives","body"],builder:["body","directives"],fields:{directives:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Directive"))),default:[]},body:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Statement")))}},aliases:["Scopable","BlockParent","Block","FunctionParent"]}),(0,_index3.default)("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("ObjectMethod","ObjectProperty","SpreadProperty")))}}}),(0,_index3.default)("ObjectMethod",{builder:["kind","key","params","body","computed"],fields:{kind:{validate:(0,_index2.chain)((0,_index2.assertValueType)("string"),(0,_index2.assertOneOf)("method","get","set")),default:"method"},computed:{validate:(0,_index2.assertValueType)("boolean"),default:!1},key:{validate:function(node,key,val){var expectedTypes=node.computed?["Expression"]:["Identifier","StringLiteral","NumericLiteral"];_index2.assertNodeType.apply(void 0,expectedTypes)(node,key,val)}},decorators:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Decorator")))},body:{validate:(0,_index2.assertNodeType)("BlockStatement")},generator:{default:!1,validate:(0,_index2.assertValueType)("boolean")},async:{default:!1,validate:(0,_index2.assertValueType)("boolean")}},visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]}),(0,_index3.default)("ObjectProperty",{builder:["key","value","computed","shorthand","decorators"],fields:{computed:{validate:(0,_index2.assertValueType)("boolean"),default:!1},key:{validate:function(node,key,val){var expectedTypes=node.computed?["Expression"]:["Identifier","StringLiteral","NumericLiteral"];_index2.assertNodeType.apply(void 0,expectedTypes)(node,key,val)}},value:{validate:(0,_index2.assertNodeType)("Expression","Pattern","RestElement")},shorthand:{validate:(0,_index2.assertValueType)("boolean"),default:!1},decorators:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Decorator"))),optional:!0}},visitor:["key","value","decorators"],aliases:["UserWhitespacable","Property","ObjectMember"]}),(0,_index3.default)("RestElement",{visitor:["argument","typeAnnotation"],aliases:["LVal"],fields:{argument:{validate:(0,_index2.assertNodeType)("LVal")},decorators:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Decorator")))}}}),(0,_index3.default)("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,_index2.assertNodeType)("Expression"),optional:!0}}}),(0,_index3.default)("SequenceExpression",{visitor:["expressions"],fields:{expressions:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Expression")))}},aliases:["Expression"]}),(0,_index3.default)("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:(0,_index2.assertNodeType)("Expression"),optional:!0},consequent:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("Statement")))}}}),(0,_index3.default)("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:(0,_index2.assertNodeType)("Expression")},cases:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("SwitchCase")))}}}),(0,_index3.default)("ThisExpression",{aliases:["Expression"]}),(0,_index3.default)("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:(0,_index2.assertNodeType)("Expression")}}}),(0,_index3.default)("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{body:{validate:(0,_index2.assertNodeType)("BlockStatement")},handler:{optional:!0,handler:(0,_index2.assertNodeType)("BlockStatement")},finalizer:{optional:!0,validate:(0,_index2.assertNodeType)("BlockStatement")}}}),(0,_index3.default)("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:(0,_index2.assertNodeType)("Expression")},operator:{validate:_index2.assertOneOf.apply(void 0,_constants.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),(0,_index3.default)("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:(0,_index2.assertNodeType)("Expression")},operator:{validate:_index2.assertOneOf.apply(void 0,_constants.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]}),(0,_index3.default)("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{kind:{validate:(0,_index2.chain)((0,_index2.assertValueType)("string"),(0,_index2.assertOneOf)("var","let","const"))},declarations:{validate:(0,_index2.chain)((0,_index2.assertValueType)("array"),(0,_index2.assertEach)((0,_index2.assertNodeType)("VariableDeclarator")))}}}),(0,_index3.default)("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:(0,_index2.assertNodeType)("LVal")},init:{optional:!0,validate:(0,_index2.assertNodeType)("Expression")}}}),(0,_index3.default)("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:(0,_index2.assertNodeType)("Expression")},body:{validate:(0,_index2.assertNodeType)("BlockStatement","Statement")}}}),(0,_index3.default)("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{object:(0,_index2.assertNodeType)("Expression")},body:{validate:(0,_index2.assertNodeType)("BlockStatement","Statement")}}})},{"../constants":22,"../index":33,"./index":28}],25:[function(require,module,exports){"use strict";var _index=require("./index"),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);(0,_index2.default)("AssignmentPattern",{visitor:["left","right"],aliases:["Pattern","LVal"],fields:{left:{validate:(0,_index.assertNodeType)("Identifier")},right:{validate:(0,_index.assertNodeType)("Expression")},decorators:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Decorator")))}}}),(0,_index2.default)("ArrayPattern",{visitor:["elements","typeAnnotation"],aliases:["Pattern","LVal"],fields:{elements:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Identifier","Pattern","RestElement")))},decorators:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Decorator")))}}}),(0,_index2.default)("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["params","body","returnType","typeParameters"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:{params:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("LVal")))},body:{validate:(0,_index.assertNodeType)("BlockStatement","Expression")},async:{validate:(0,_index.assertValueType)("boolean"),default:!1}}}),(0,_index2.default)("ClassBody",{visitor:["body"],fields:{body:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("ClassMethod","ClassProperty")))}}}),(0,_index2.default)("ClassDeclaration",{builder:["id","superClass","body","decorators"],visitor:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],aliases:["Scopable","Class","Statement","Declaration","Pureish"],fields:{id:{validate:(0,_index.assertNodeType)("Identifier")},body:{validate:(0,_index.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,_index.assertNodeType)("Expression")},decorators:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Decorator")))}}}),(0,_index2.default)("ClassExpression",{inherits:"ClassDeclaration",aliases:["Scopable","Class","Expression","Pureish"],fields:{id:{optional:!0,validate:(0,_index.assertNodeType)("Identifier")},body:{validate:(0,_index.assertNodeType)("ClassBody")},superClass:{optional:!0,validate:(0,_index.assertNodeType)("Expression")},decorators:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Decorator")))}}}),(0,_index2.default)("ExportAllDeclaration",{visitor:["source"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{source:{validate:(0,_index.assertNodeType)("StringLiteral")}}}),(0,_index2.default)("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{declaration:{validate:(0,_index.assertNodeType)("FunctionDeclaration","ClassDeclaration","Expression")}}}),(0,_index2.default)("ExportNamedDeclaration",{visitor:["declaration","specifiers","source"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{declaration:{validate:(0,_index.assertNodeType)("Declaration"),optional:!0},specifiers:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("ExportSpecifier")))},source:{validate:(0,_index.assertNodeType)("StringLiteral"),optional:!0}}}),(0,_index2.default)("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,_index.assertNodeType)("Identifier")},exported:{validate:(0,_index.assertNodeType)("Identifier")}}}),(0,_index2.default)("ForOfStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:(0,_index.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,_index.assertNodeType)("Expression")},body:{validate:(0,_index.assertNodeType)("Statement")}}}),(0,_index2.default)("ImportDeclaration",{visitor:["specifiers","source"],aliases:["Statement","Declaration","ModuleDeclaration"],fields:{specifiers:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier")))},source:{validate:(0,_index.assertNodeType)("StringLiteral")}}}),(0,_index2.default)("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,_index.assertNodeType)("Identifier")}}}),(0,_index2.default)("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,_index.assertNodeType)("Identifier")}}}),(0,_index2.default)("ImportSpecifier",{visitor:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:(0,_index.assertNodeType)("Identifier")},imported:{validate:(0,_index.assertNodeType)("Identifier")},importKind:{validate:(0,_index.assertOneOf)(null,"type","typeof")}}}),(0,_index2.default)("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:(0,_index.assertValueType)("string")},property:{validate:(0,_index.assertValueType)("string")}}}),(0,_index2.default)("ClassMethod",{aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static"],visitor:["key","params","body","decorators","returnType","typeParameters"],fields:{kind:{validate:(0,_index.chain)((0,_index.assertValueType)("string"),(0,_index.assertOneOf)("get","set","method","constructor")),default:"method"},
computed:{default:!1,validate:(0,_index.assertValueType)("boolean")},static:{default:!1,validate:(0,_index.assertValueType)("boolean")},key:{validate:function(node,key,val){var expectedTypes=node.computed?["Expression"]:["Identifier","StringLiteral","NumericLiteral"];_index.assertNodeType.apply(void 0,expectedTypes)(node,key,val)}},params:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("LVal")))},body:{validate:(0,_index.assertNodeType)("BlockStatement")},generator:{default:!1,validate:(0,_index.assertValueType)("boolean")},async:{default:!1,validate:(0,_index.assertValueType)("boolean")}}}),(0,_index2.default)("ObjectPattern",{visitor:["properties","typeAnnotation"],aliases:["Pattern","LVal"],fields:{properties:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("RestProperty","Property")))},decorators:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Decorator")))}}}),(0,_index2.default)("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],fields:{argument:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("Super",{aliases:["Expression"]}),(0,_index2.default)("TaggedTemplateExpression",{visitor:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:(0,_index.assertNodeType)("Expression")},quasi:{validate:(0,_index.assertNodeType)("TemplateLiteral")}}}),(0,_index2.default)("TemplateElement",{builder:["value","tail"],fields:{value:{},tail:{validate:(0,_index.assertValueType)("boolean"),default:!1}}}),(0,_index2.default)("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("TemplateElement")))},expressions:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("Expression")))}}}),(0,_index2.default)("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:(0,_index.assertValueType)("boolean"),default:!1},argument:{optional:!0,validate:(0,_index.assertNodeType)("Expression")}}})},{"./index":28}],26:[function(require,module,exports){"use strict";var _index=require("./index"),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);(0,_index2.default)("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("ForAwaitStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:(0,_index.assertNodeType)("VariableDeclaration","LVal")},right:{validate:(0,_index.assertNodeType)("Expression")},body:{validate:(0,_index.assertNodeType)("Statement")}}}),(0,_index2.default)("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:{}}),(0,_index2.default)("Import",{aliases:["Expression"]}),(0,_index2.default)("Decorator",{visitor:["expression"],fields:{expression:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("DoExpression",{visitor:["body"],aliases:["Expression"],fields:{body:{validate:(0,_index.assertNodeType)("BlockStatement")}}}),(0,_index2.default)("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,_index.assertNodeType)("Identifier")}}}),(0,_index2.default)("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:(0,_index.assertNodeType)("Identifier")}}}),(0,_index2.default)("RestProperty",{visitor:["argument"],aliases:["UnaryLike"],fields:{argument:{validate:(0,_index.assertNodeType)("LVal")}}}),(0,_index2.default)("SpreadProperty",{visitor:["argument"],aliases:["UnaryLike"],fields:{argument:{validate:(0,_index.assertNodeType)("Expression")}}})},{"./index":28}],27:[function(require,module,exports){"use strict";var _index=require("./index"),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);(0,_index2.default)("AnyTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["Flow"],fields:{}}),(0,_index2.default)("BooleanTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("BooleanLiteralTypeAnnotation",{aliases:["Flow"],fields:{}}),(0,_index2.default)("NullLiteralTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("ClassImplements",{visitor:["id","typeParameters"],aliases:["Flow"],fields:{}}),(0,_index2.default)("ClassProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed"],aliases:["Property"],fields:{computed:{validate:(0,_index.assertValueType)("boolean"),default:!1}}}),(0,_index2.default)("DeclareClass",{visitor:["id","typeParameters","extends","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareFunction",{visitor:["id"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareInterface",{visitor:["id","typeParameters","extends","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareModule",{visitor:["id","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareVariable",{visitor:["id"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("DeclareExportDeclaration",{visitor:["declaration","specifiers","source"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("ExistentialTypeParam",{aliases:["Flow"]}),(0,_index2.default)("FunctionTypeAnnotation",{visitor:["typeParameters","params","rest","returnType"],aliases:["Flow"],fields:{}}),(0,_index2.default)("FunctionTypeParam",{visitor:["name","typeAnnotation"],aliases:["Flow"],fields:{}}),(0,_index2.default)("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["Flow"],fields:{}}),(0,_index2.default)("InterfaceExtends",{visitor:["id","typeParameters"],aliases:["Flow"],fields:{}}),(0,_index2.default)("InterfaceDeclaration",{visitor:["id","typeParameters","extends","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("IntersectionTypeAnnotation",{visitor:["types"],aliases:["Flow"],fields:{}}),(0,_index2.default)("MixedTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"]}),(0,_index2.default)("EmptyTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"]}),(0,_index2.default)("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["Flow"],fields:{}}),(0,_index2.default)("NumericLiteralTypeAnnotation",{aliases:["Flow"],fields:{}}),(0,_index2.default)("NumberTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("StringLiteralTypeAnnotation",{aliases:["Flow"],fields:{}}),(0,_index2.default)("StringTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("ThisTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}}),(0,_index2.default)("TupleTypeAnnotation",{visitor:["types"],aliases:["Flow"],fields:{}}),(0,_index2.default)("TypeofTypeAnnotation",{visitor:["argument"],aliases:["Flow"],fields:{}}),(0,_index2.default)("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("OpaqueType",{visitor:["id","typeParameters","impltype","supertype"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{}}),(0,_index2.default)("TypeAnnotation",{visitor:["typeAnnotation"],aliases:["Flow"],fields:{}}),(0,_index2.default)("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["Flow","ExpressionWrapper","Expression"],fields:{}}),(0,_index2.default)("TypeParameter",{visitor:["bound"],aliases:["Flow"],fields:{}}),(0,_index2.default)("TypeParameterDeclaration",{visitor:["params"],aliases:["Flow"],fields:{}}),(0,_index2.default)("TypeParameterInstantiation",{visitor:["params"],aliases:["Flow"],fields:{}}),(0,_index2.default)("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties"],aliases:["Flow"],fields:{}}),(0,_index2.default)("ObjectTypeCallProperty",{visitor:["value"],aliases:["Flow","UserWhitespacable"],fields:{}}),(0,_index2.default)("ObjectTypeIndexer",{visitor:["id","key","value"],aliases:["Flow","UserWhitespacable"],fields:{}}),(0,_index2.default)("ObjectTypeProperty",{visitor:["key","value"],aliases:["Flow","UserWhitespacable"],fields:{}}),(0,_index2.default)("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["Flow","UserWhitespacable"],fields:{}}),(0,_index2.default)("QualifiedTypeIdentifier",{visitor:["id","qualification"],aliases:["Flow"],fields:{}}),(0,_index2.default)("UnionTypeAnnotation",{visitor:["types"],aliases:["Flow"],fields:{}}),(0,_index2.default)("VoidTypeAnnotation",{aliases:["Flow","FlowBaseAnnotation"],fields:{}})},{"./index":28}],28:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getType(val){return Array.isArray(val)?"array":null===val?"null":void 0===val?"undefined":void 0===val?"undefined":(0,_typeof3.default)(val)}function assertEach(callback){function validator(node,key,val){if(Array.isArray(val))for(var i=0;i<val.length;i++)callback(node,key+"["+i+"]",val[i])}return validator.each=callback,validator}function assertOneOf(){function validate(node,key,val){if(vals.indexOf(val)<0)throw new TypeError("Property "+key+" expected value to be one of "+(0,_stringify2.default)(vals)+" but got "+(0,_stringify2.default)(val))}for(var _len=arguments.length,vals=Array(_len),_key=0;_key<_len;_key++)vals[_key]=arguments[_key];return validate.oneOf=vals,validate}function assertNodeType(){function validate(node,key,val){for(var valid=!1,_iterator=types,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:(0,_getIterator3.default)(_iterator);;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var type=_ref;if(t.is(type,val)){valid=!0;break}}if(!valid)throw new TypeError("Property "+key+" of "+node.type+" expected node to be of a type "+(0,_stringify2.default)(types)+" but instead got "+(0,_stringify2.default)(val&&val.type))}for(var _len2=arguments.length,types=Array(_len2),_key2=0;_key2<_len2;_key2++)types[_key2]=arguments[_key2];return validate.oneOfNodeTypes=types,validate}function assertNodeOrValueType(){function validate(node,key,val){for(var valid=!1,_iterator2=types,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:(0,_getIterator3.default)(_iterator2);;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var type=_ref2;if(getType(val)===type||t.is(type,val)){valid=!0;break}}if(!valid)throw new TypeError("Property "+key+" of "+node.type+" expected node to be of a type "+(0,_stringify2.default)(types)+" but instead got "+(0,_stringify2.default)(val&&val.type))}for(var _len3=arguments.length,types=Array(_len3),_key3=0;_key3<_len3;_key3++)types[_key3]=arguments[_key3];return validate.oneOfNodeOrValueTypes=types,validate}function assertValueType(type){function validate(node,key,val){if(getType(val)!==type)throw new TypeError("Property "+key+" expected type of "+type+" but got "+getType(val))}return validate.type=type,validate}function chain(){function validate(){for(var _iterator3=fns,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:(0,_getIterator3.default)(_iterator3);;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}_ref3.apply(void 0,arguments)}}for(var _len4=arguments.length,fns=Array(_len4),_key4=0;_key4<_len4;_key4++)fns[_key4]=arguments[_key4];return validate.chainOf=fns,validate}function defineType(type){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},inherits=opts.inherits&&store[opts.inherits]||{};opts.fields=opts.fields||inherits.fields||{},opts.visitor=opts.visitor||inherits.visitor||[],opts.aliases=opts.aliases||inherits.aliases||[],opts.builder=opts.builder||inherits.builder||opts.visitor||[],opts.deprecatedAlias&&(DEPRECATED_KEYS[opts.deprecatedAlias]=type);for(var _iterator4=opts.visitor.concat(opts.builder),_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:(0,_getIterator3.default)(_iterator4);;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var _key5=_ref4;opts.fields[_key5]=opts.fields[_key5]||{}}for(var key in opts.fields){var field=opts.fields[key];-1===opts.builder.indexOf(key)&&(field.optional=!0),void 0===field.default?field.default=null:field.validate||(field.validate=assertValueType(getType(field.default)))}VISITOR_KEYS[type]=opts.visitor,BUILDER_KEYS[type]=opts.builder,NODE_FIELDS[type]=opts.fields,ALIAS_KEYS[type]=opts.aliases,store[type]=opts}exports.__esModule=!0,exports.DEPRECATED_KEYS=exports.BUILDER_KEYS=exports.NODE_FIELDS=exports.ALIAS_KEYS=exports.VISITOR_KEYS=void 0;var _getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2),_stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2);exports.assertEach=assertEach,exports.assertOneOf=assertOneOf,exports.assertNodeType=assertNodeType,exports.assertNodeOrValueType=assertNodeOrValueType,exports.assertValueType=assertValueType,exports.chain=chain,exports.default=defineType;var _index=require("../index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index),VISITOR_KEYS=exports.VISITOR_KEYS={},ALIAS_KEYS=exports.ALIAS_KEYS={},NODE_FIELDS=exports.NODE_FIELDS={},BUILDER_KEYS=exports.BUILDER_KEYS={},DEPRECATED_KEYS=exports.DEPRECATED_KEYS={},store={}},{"../index":33,"babel-runtime/core-js/get-iterator":12,"babel-runtime/core-js/json/stringify":13,"babel-runtime/helpers/typeof":21}],29:[function(require,module,exports){"use strict";require("./index"),require("./core"),require("./es2015"),require("./flow"),require("./jsx"),require("./misc"),require("./experimental")},{"./core":24,"./es2015":25,"./experimental":26,"./flow":27,"./index":28,"./jsx":30,"./misc":31}],30:[function(require,module,exports){"use strict";var _index=require("./index"),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);(0,_index2.default)("JSXAttribute",{visitor:["name","value"],aliases:["JSX","Immutable"],fields:{name:{validate:(0,_index.assertNodeType)("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:(0,_index.assertNodeType)("JSXElement","StringLiteral","JSXExpressionContainer")}}}),(0,_index2.default)("JSXClosingElement",{visitor:["name"],aliases:["JSX","Immutable"],fields:{name:{validate:(0,_index.assertNodeType)("JSXIdentifier","JSXMemberExpression")}}}),(0,_index2.default)("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["JSX","Immutable","Expression"],fields:{openingElement:{validate:(0,_index.assertNodeType)("JSXOpeningElement")},closingElement:{optional:!0,validate:(0,_index.assertNodeType)("JSXClosingElement")},children:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement")))}}}),(0,_index2.default)("JSXEmptyExpression",{aliases:["JSX","Expression"]}),(0,_index2.default)("JSXExpressionContainer",{visitor:["expression"],aliases:["JSX","Immutable"],fields:{expression:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("JSXSpreadChild",{visitor:["expression"],aliases:["JSX","Immutable"],fields:{expression:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("JSXIdentifier",{builder:["name"],aliases:["JSX","Expression"],fields:{name:{validate:(0,_index.assertValueType)("string")}}}),(0,_index2.default)("JSXMemberExpression",{visitor:["object","property"],aliases:["JSX","Expression"],fields:{object:{validate:(0,_index.assertNodeType)("JSXMemberExpression","JSXIdentifier")},property:{validate:(0,_index.assertNodeType)("JSXIdentifier")}}}),(0,_index2.default)("JSXNamespacedName",{visitor:["namespace","name"],aliases:["JSX"],fields:{namespace:{validate:(0,_index.assertNodeType)("JSXIdentifier")},name:{validate:(0,_index.assertNodeType)("JSXIdentifier")}}}),(0,_index2.default)("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","attributes"],aliases:["JSX","Immutable"],fields:{name:{validate:(0,_index.assertNodeType)("JSXIdentifier","JSXMemberExpression")},selfClosing:{default:!1,validate:(0,_index.assertValueType)("boolean")},attributes:{validate:(0,_index.chain)((0,_index.assertValueType)("array"),(0,_index.assertEach)((0,_index.assertNodeType)("JSXAttribute","JSXSpreadAttribute")))}}}),(0,_index2.default)("JSXSpreadAttribute",{visitor:["argument"],aliases:["JSX"],fields:{argument:{validate:(0,_index.assertNodeType)("Expression")}}}),(0,_index2.default)("JSXText",{aliases:["JSX","Immutable"],builder:["value"],fields:{value:{validate:(0,_index.assertValueType)("string")}}})},{"./index":28}],31:[function(require,module,exports){"use strict";var _index=require("./index"),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index);(0,_index2.default)("Noop",{visitor:[]}),(0,_index2.default)("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:(0,_index.assertNodeType)("Expression")}}})},{"./index":28}],32:[function(require,module,exports){"use strict";function createUnionTypeAnnotation(types){var flattened=removeTypeDuplicates(types);return 1===flattened.length?flattened[0]:t.unionTypeAnnotation(flattened)}function removeTypeDuplicates(nodes){for(var generics={},bases={},typeGroups=[],types=[],i=0;i<nodes.length;i++){var node=nodes[i];if(node&&!(types.indexOf(node)>=0)){if(t.isAnyTypeAnnotation(node))return[node];if(t.isFlowBaseAnnotation(node))bases[node.type]=node;else if(t.isUnionTypeAnnotation(node))typeGroups.indexOf(node.types)<0&&(nodes=nodes.concat(node.types),typeGroups.push(node.types));else if(t.isGenericTypeAnnotation(node)){var name=node.id.name;if(generics[name]){var existing=generics[name];existing.typeParameters?node.typeParameters&&(existing.typeParameters.params=removeTypeDuplicates(existing.typeParameters.params.concat(node.typeParameters.params))):existing=node.typeParameters}else generics[name]=node}else types.push(node)}}for(var type in bases)types.push(bases[type]);for(var _name in generics)types.push(generics[_name]);return types}function createTypeAnnotationBasedOnTypeof(type){if("string"===type)return t.stringTypeAnnotation();if("number"===type)return t.numberTypeAnnotation();if("undefined"===type)return t.voidTypeAnnotation();if("boolean"===type)return t.booleanTypeAnnotation();if("function"===type)return t.genericTypeAnnotation(t.identifier("Function"));if("object"===type)return t.genericTypeAnnotation(t.identifier("Object"));if("symbol"===type)return t.genericTypeAnnotation(t.identifier("Symbol"));throw new Error("Invalid typeof value")}exports.__esModule=!0,exports.createUnionTypeAnnotation=createUnionTypeAnnotation,exports.removeTypeDuplicates=removeTypeDuplicates,exports.createTypeAnnotationBasedOnTypeof=createTypeAnnotationBasedOnTypeof;var _index=require("./index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index)},{"./index":33}],33:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function registerType(type){var is=t["is"+type];is||(is=t["is"+type]=function(node,opts){return t.is(type,node,opts)}),t["assert"+type]=function(node,opts){if(opts=opts||{},!is(node,opts))throw new Error("Expected type "+(0,_stringify2.default)(type)+" with option "+(0,_stringify2.default)(opts))}}function is(type,node,opts){return!!node&&(!!isType(node.type,type)&&(void 0===opts||t.shallowEqual(node,opts)))}function isType(nodeType,targetType){if(nodeType===targetType)return!0;if(t.ALIAS_KEYS[targetType])return!1;var aliases=t.FLIPPED_ALIAS_KEYS[targetType];if(aliases){if(aliases[0]===nodeType)return!0;for(var _iterator=aliases,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:(0,_getIterator3.default)(_iterator);;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}if(nodeType===_ref)return!0}}return!1}function validate(node,key,val){if(node){var fields=t.NODE_FIELDS[node.type];if(fields){var field=fields[key];field&&field.validate&&(field.optional&&null==val||field.validate(node,key,val))}}}function shallowEqual(actual,expected){for(var keys=(0,_keys2.default)(expected),_iterator3=keys,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:(0,_getIterator3.default)(_iterator3);;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var key=_ref3;if(actual[key]!==expected[key])return!1}return!0}function appendToMemberExpression(member,append,computed){return member.object=t.memberExpression(member.object,member.property,member.computed),member.property=append,member.computed=!!computed,member}function prependToMemberExpression(member,prepend){return member.object=t.memberExpression(prepend,member.object),member}function ensureBlock(node){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";return node[key]=t.toBlock(node[key],node)}function clone(node){if(!node)return node;var newNode={};for(var key in node)"_"!==key[0]&&(newNode[key]=node[key]);return newNode}function cloneWithoutLoc(node){var newNode=clone(node);return delete newNode.loc,newNode}function cloneDeep(node){if(!node)return node;var newNode={};for(var key in node)if("_"!==key[0]){var val=node[key];val&&(val.type?val=t.cloneDeep(val):Array.isArray(val)&&(val=val.map(t.cloneDeep))),newNode[key]=val}return newNode}function buildMatchMemberExpression(match,allowPartial){var parts=match.split(".");return function(member){if(!t.isMemberExpression(member))return!1;for(var search=[member],i=0;search.length;){var node=search.shift();if(allowPartial&&i===parts.length)return!0;if(t.isIdentifier(node)){if(parts[i]!==node.name)return!1}else{if(!t.isStringLiteral(node)){if(t.isMemberExpression(node)){if(node.computed&&!t.isStringLiteral(node.property))return!1;search.push(node.object),search.push(node.property);continue}return!1}if(parts[i]!==node.value)return!1}if(++i>parts.length)return!1}return!0}}function removeComments(node){for(var _iterator4=t.COMMENT_KEYS,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:(0,_getIterator3.default)(_iterator4);;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}delete node[_ref4]}return node}function inheritsComments(child,parent){return inheritTrailingComments(child,parent),inheritLeadingComments(child,parent),inheritInnerComments(child,parent),child}function inheritTrailingComments(child,parent){_inheritComments("trailingComments",child,parent)}function inheritLeadingComments(child,parent){_inheritComments("leadingComments",child,parent)}function inheritInnerComments(child,parent){_inheritComments("innerComments",child,parent)}function _inheritComments(key,child,parent){child&&parent&&(child[key]=(0,_uniq2.default)([].concat(child[key],parent[key]).filter(Boolean)))}function inherits(child,parent){if(!child||!parent)return child;for(var _iterator5=t.INHERIT_KEYS.optional,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:(0,_getIterator3.default)(_iterator5);;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++]}else{if(_i5=_iterator5.next(),_i5.done)break;_ref5=_i5.value}var _key2=_ref5;null==child[_key2]&&(child[_key2]=parent[_key2])}for(var key in parent)"_"===key[0]&&(child[key]=parent[key]);for(var _iterator6=t.INHERIT_KEYS.force,_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:(0,_getIterator3.default)(_iterator6);;){var _ref6;if(_isArray6){if(_i6>=_iterator6.length)break;_ref6=_iterator6[_i6++]}else{if(_i6=_iterator6.next(),_i6.done)break;_ref6=_i6.value}var _key3=_ref6;child[_key3]=parent[_key3]}return t.inheritsComments(child,parent),child}function assertNode(node){if(!isNode(node))throw new TypeError("Not a valid node "+(node&&node.type))}function isNode(node){return!(!node||!_definitions.VISITOR_KEYS[node.type])}function traverseFast(node,enter,opts){if(node){var keys=t.VISITOR_KEYS[node.type];if(keys){opts=opts||{},enter(node,opts);for(var _iterator7=keys,_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:(0,_getIterator3.default)(_iterator7);;){var _ref7;if(_isArray7){if(_i7>=_iterator7.length)break;_ref7=_iterator7[_i7++]}else{if(_i7=_iterator7.next(),_i7.done)break;_ref7=_i7.value}var key=_ref7,subNode=node[key];if(Array.isArray(subNode))for(var _iterator8=subNode,_isArray8=Array.isArray(_iterator8),_i8=0,_iterator8=_isArray8?_iterator8:(0,_getIterator3.default)(_iterator8);;){var _ref8;if(_isArray8){if(_i8>=_iterator8.length)break;_ref8=_iterator8[_i8++]}else{if(_i8=_iterator8.next(),_i8.done)break;_ref8=_i8.value}var _node=_ref8;traverseFast(_node,enter,opts)}else traverseFast(subNode,enter,opts)}}}}function removeProperties(node,opts){opts=opts||{};for(var map=opts.preserveComments?CLEAR_KEYS:CLEAR_KEYS_PLUS_COMMENTS,_iterator9=map,_isArray9=Array.isArray(_iterator9),_i9=0,_iterator9=_isArray9?_iterator9:(0,_getIterator3.default)(_iterator9);;){var _ref9;if(_isArray9){if(_i9>=_iterator9.length)break;_ref9=_iterator9[_i9++]}else{if(_i9=_iterator9.next(),_i9.done)break;_ref9=_i9.value}var _key4=_ref9;null!=node[_key4]&&(node[_key4]=void 0)}for(var key in node)"_"===key[0]&&null!=node[key]&&(node[key]=void 0);for(var syms=(0,_getOwnPropertySymbols2.default)(node),_iterator10=syms,_isArray10=Array.isArray(_iterator10),_i10=0,_iterator10=_isArray10?_iterator10:(0,_getIterator3.default)(_iterator10);;){var _ref10;if(_isArray10){if(_i10>=_iterator10.length)break;_ref10=_iterator10[_i10++]}else{if(_i10=_iterator10.next(),_i10.done)break;_ref10=_i10.value}node[_ref10]=null}}function removePropertiesDeep(tree,opts){return traverseFast(tree,removeProperties,opts),tree}exports.__esModule=!0,exports.createTypeAnnotationBasedOnTypeof=exports.removeTypeDuplicates=exports.createUnionTypeAnnotation=exports.valueToNode=exports.toBlock=exports.toExpression=exports.toStatement=exports.toBindingIdentifierName=exports.toIdentifier=exports.toKeyAlias=exports.toSequenceExpression=exports.toComputedKey=exports.isNodesEquivalent=exports.isImmutable=exports.isScope=exports.isSpecifierDefault=exports.isVar=exports.isBlockScoped=exports.isLet=exports.isValidIdentifier=exports.isReferenced=exports.isBinding=exports.getOuterBindingIdentifiers=exports.getBindingIdentifiers=exports.TYPES=exports.react=exports.DEPRECATED_KEYS=exports.BUILDER_KEYS=exports.NODE_FIELDS=exports.ALIAS_KEYS=exports.VISITOR_KEYS=exports.NOT_LOCAL_BINDING=exports.BLOCK_SCOPED_SYMBOL=exports.INHERIT_KEYS=exports.UNARY_OPERATORS=exports.STRING_UNARY_OPERATORS=exports.NUMBER_UNARY_OPERATORS=exports.BOOLEAN_UNARY_OPERATORS=exports.BINARY_OPERATORS=exports.NUMBER_BINARY_OPERATORS=exports.BOOLEAN_BINARY_OPERATORS=exports.COMPARISON_BINARY_OPERATORS=exports.EQUALITY_BINARY_OPERATORS=exports.BOOLEAN_NUMBER_BINARY_OPERATORS=exports.UPDATE_OPERATORS=exports.LOGICAL_OPERATORS=exports.COMMENT_KEYS=exports.FOR_INIT_KEYS=exports.FLATTENABLE_KEYS=exports.STATEMENT_OR_BLOCK_KEYS=void 0;var _getOwnPropertySymbols=require("babel-runtime/core-js/object/get-own-property-symbols"),_getOwnPropertySymbols2=_interopRequireDefault(_getOwnPropertySymbols),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2),_keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),_stringify=require("babel-runtime/core-js/json/stringify"),_stringify2=_interopRequireDefault(_stringify),_constants=require("./constants");Object.defineProperty(exports,"STATEMENT_OR_BLOCK_KEYS",{enumerable:!0,get:function(){return _constants.STATEMENT_OR_BLOCK_KEYS}}),Object.defineProperty(exports,"FLATTENABLE_KEYS",{enumerable:!0,get:function(){return _constants.FLATTENABLE_KEYS}}),Object.defineProperty(exports,"FOR_INIT_KEYS",{enumerable:!0,get:function(){return _constants.FOR_INIT_KEYS}}),Object.defineProperty(exports,"COMMENT_KEYS",{enumerable:!0,get:function(){return _constants.COMMENT_KEYS}}),Object.defineProperty(exports,"LOGICAL_OPERATORS",{enumerable:!0,get:function(){return _constants.LOGICAL_OPERATORS}}),Object.defineProperty(exports,"UPDATE_OPERATORS",{enumerable:!0,get:function(){return _constants.UPDATE_OPERATORS}}),Object.defineProperty(exports,"BOOLEAN_NUMBER_BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.BOOLEAN_NUMBER_BINARY_OPERATORS}}),Object.defineProperty(exports,"EQUALITY_BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.EQUALITY_BINARY_OPERATORS}}),Object.defineProperty(exports,"COMPARISON_BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.COMPARISON_BINARY_OPERATORS}}),Object.defineProperty(exports,"BOOLEAN_BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.BOOLEAN_BINARY_OPERATORS}}),Object.defineProperty(exports,"NUMBER_BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.NUMBER_BINARY_OPERATORS}}),Object.defineProperty(exports,"BINARY_OPERATORS",{enumerable:!0,get:function(){return _constants.BINARY_OPERATORS}}),Object.defineProperty(exports,"BOOLEAN_UNARY_OPERATORS",{enumerable:!0,get:function(){return _constants.BOOLEAN_UNARY_OPERATORS}}),Object.defineProperty(exports,"NUMBER_UNARY_OPERATORS",{enumerable:!0,get:function(){return _constants.NUMBER_UNARY_OPERATORS}}),Object.defineProperty(exports,"STRING_UNARY_OPERATORS",{enumerable:!0,get:function(){return _constants.STRING_UNARY_OPERATORS}}),Object.defineProperty(exports,"UNARY_OPERATORS",{enumerable:!0,get:function(){return _constants.UNARY_OPERATORS}}),Object.defineProperty(exports,"INHERIT_KEYS",{enumerable:!0,get:function(){return _constants.INHERIT_KEYS}}),Object.defineProperty(exports,"BLOCK_SCOPED_SYMBOL",{enumerable:!0,get:function(){return _constants.BLOCK_SCOPED_SYMBOL}}),Object.defineProperty(exports,"NOT_LOCAL_BINDING",{enumerable:!0,get:function(){
return _constants.NOT_LOCAL_BINDING}}),exports.is=is,exports.isType=isType,exports.validate=validate,exports.shallowEqual=shallowEqual,exports.appendToMemberExpression=appendToMemberExpression,exports.prependToMemberExpression=prependToMemberExpression,exports.ensureBlock=ensureBlock,exports.clone=clone,exports.cloneWithoutLoc=cloneWithoutLoc,exports.cloneDeep=cloneDeep,exports.buildMatchMemberExpression=buildMatchMemberExpression,exports.removeComments=removeComments,exports.inheritsComments=inheritsComments,exports.inheritTrailingComments=inheritTrailingComments,exports.inheritLeadingComments=inheritLeadingComments,exports.inheritInnerComments=inheritInnerComments,exports.inherits=inherits,exports.assertNode=assertNode,exports.isNode=isNode,exports.traverseFast=traverseFast,exports.removeProperties=removeProperties,exports.removePropertiesDeep=removePropertiesDeep;var _retrievers=require("./retrievers");Object.defineProperty(exports,"getBindingIdentifiers",{enumerable:!0,get:function(){return _retrievers.getBindingIdentifiers}}),Object.defineProperty(exports,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return _retrievers.getOuterBindingIdentifiers}});var _validators=require("./validators");Object.defineProperty(exports,"isBinding",{enumerable:!0,get:function(){return _validators.isBinding}}),Object.defineProperty(exports,"isReferenced",{enumerable:!0,get:function(){return _validators.isReferenced}}),Object.defineProperty(exports,"isValidIdentifier",{enumerable:!0,get:function(){return _validators.isValidIdentifier}}),Object.defineProperty(exports,"isLet",{enumerable:!0,get:function(){return _validators.isLet}}),Object.defineProperty(exports,"isBlockScoped",{enumerable:!0,get:function(){return _validators.isBlockScoped}}),Object.defineProperty(exports,"isVar",{enumerable:!0,get:function(){return _validators.isVar}}),Object.defineProperty(exports,"isSpecifierDefault",{enumerable:!0,get:function(){return _validators.isSpecifierDefault}}),Object.defineProperty(exports,"isScope",{enumerable:!0,get:function(){return _validators.isScope}}),Object.defineProperty(exports,"isImmutable",{enumerable:!0,get:function(){return _validators.isImmutable}}),Object.defineProperty(exports,"isNodesEquivalent",{enumerable:!0,get:function(){return _validators.isNodesEquivalent}});var _converters=require("./converters");Object.defineProperty(exports,"toComputedKey",{enumerable:!0,get:function(){return _converters.toComputedKey}}),Object.defineProperty(exports,"toSequenceExpression",{enumerable:!0,get:function(){return _converters.toSequenceExpression}}),Object.defineProperty(exports,"toKeyAlias",{enumerable:!0,get:function(){return _converters.toKeyAlias}}),Object.defineProperty(exports,"toIdentifier",{enumerable:!0,get:function(){return _converters.toIdentifier}}),Object.defineProperty(exports,"toBindingIdentifierName",{enumerable:!0,get:function(){return _converters.toBindingIdentifierName}}),Object.defineProperty(exports,"toStatement",{enumerable:!0,get:function(){return _converters.toStatement}}),Object.defineProperty(exports,"toExpression",{enumerable:!0,get:function(){return _converters.toExpression}}),Object.defineProperty(exports,"toBlock",{enumerable:!0,get:function(){return _converters.toBlock}}),Object.defineProperty(exports,"valueToNode",{enumerable:!0,get:function(){return _converters.valueToNode}});var _flow=require("./flow");Object.defineProperty(exports,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return _flow.createUnionTypeAnnotation}}),Object.defineProperty(exports,"removeTypeDuplicates",{enumerable:!0,get:function(){return _flow.removeTypeDuplicates}}),Object.defineProperty(exports,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return _flow.createTypeAnnotationBasedOnTypeof}});var _toFastProperties=require("to-fast-properties"),_toFastProperties2=_interopRequireDefault(_toFastProperties),_clone=require("lodash/clone"),_clone2=_interopRequireDefault(_clone),_uniq=require("lodash/uniq"),_uniq2=_interopRequireDefault(_uniq);require("./definitions/init");var _definitions=require("./definitions"),_react2=require("./react"),_react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_react2),t=exports;exports.VISITOR_KEYS=_definitions.VISITOR_KEYS,exports.ALIAS_KEYS=_definitions.ALIAS_KEYS,exports.NODE_FIELDS=_definitions.NODE_FIELDS,exports.BUILDER_KEYS=_definitions.BUILDER_KEYS,exports.DEPRECATED_KEYS=_definitions.DEPRECATED_KEYS,exports.react=_react;for(var type in t.VISITOR_KEYS)registerType(type);t.FLIPPED_ALIAS_KEYS={},(0,_keys2.default)(t.ALIAS_KEYS).forEach(function(type){t.ALIAS_KEYS[type].forEach(function(alias){(t.FLIPPED_ALIAS_KEYS[alias]=t.FLIPPED_ALIAS_KEYS[alias]||[]).push(type)})}),(0,_keys2.default)(t.FLIPPED_ALIAS_KEYS).forEach(function(type){t[type.toUpperCase()+"_TYPES"]=t.FLIPPED_ALIAS_KEYS[type],registerType(type)});exports.TYPES=(0,_keys2.default)(t.VISITOR_KEYS).concat((0,_keys2.default)(t.FLIPPED_ALIAS_KEYS)).concat((0,_keys2.default)(t.DEPRECATED_KEYS));(0,_keys2.default)(t.BUILDER_KEYS).forEach(function(type){function builder(){if(arguments.length>keys.length)throw new Error("t."+type+": Too many arguments passed. Received "+arguments.length+" but can receive no more than "+keys.length);var node={};node.type=type;for(var i=0,_iterator2=keys,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:(0,_getIterator3.default)(_iterator2);;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var _key=_ref2,field=t.NODE_FIELDS[type][_key],arg=arguments[i++];void 0===arg&&(arg=(0,_clone2.default)(field.default)),node[_key]=arg}for(var key in node)validate(node,key,node[key]);return node}var keys=t.BUILDER_KEYS[type];t[type]=builder,t[type[0].toLowerCase()+type.slice(1)]=builder});for(var _type in t.DEPRECATED_KEYS)!function(_type){function proxy(fn){return function(){return console.trace("The node type "+_type+" has been renamed to "+newType),fn.apply(this,arguments)}}var newType=t.DEPRECATED_KEYS[_type];t[_type]=t[_type[0].toLowerCase()+_type.slice(1)]=proxy(t[newType]),t["is"+_type]=proxy(t["is"+newType]),t["assert"+_type]=proxy(t["assert"+newType])}(_type);(0,_toFastProperties2.default)(t),(0,_toFastProperties2.default)(t.VISITOR_KEYS);var CLEAR_KEYS=["tokens","start","end","loc","raw","rawValue"],CLEAR_KEYS_PLUS_COMMENTS=t.COMMENT_KEYS.concat(["comments"]).concat(CLEAR_KEYS)},{"./constants":22,"./converters":23,"./definitions":28,"./definitions/init":29,"./flow":32,"./react":34,"./retrievers":35,"./validators":36,"babel-runtime/core-js/get-iterator":12,"babel-runtime/core-js/json/stringify":13,"babel-runtime/core-js/object/get-own-property-symbols":16,"babel-runtime/core-js/object/keys":17,"lodash/clone":345,"lodash/uniq":365,"to-fast-properties":439}],34:[function(require,module,exports){"use strict";function isCompatTag(tagName){return!!tagName&&/^[a-z]|\-/.test(tagName)}function cleanJSXElementLiteralChild(child,args){for(var lines=child.value.split(/\r\n|\n|\r/),lastNonEmptyLine=0,i=0;i<lines.length;i++)lines[i].match(/[^ \t]/)&&(lastNonEmptyLine=i);for(var str="",_i=0;_i<lines.length;_i++){var line=lines[_i],isFirstLine=0===_i,isLastLine=_i===lines.length-1,isLastNonEmptyLine=_i===lastNonEmptyLine,trimmedLine=line.replace(/\t/g," ");isFirstLine||(trimmedLine=trimmedLine.replace(/^[ ]+/,"")),isLastLine||(trimmedLine=trimmedLine.replace(/[ ]+$/,"")),trimmedLine&&(isLastNonEmptyLine||(trimmedLine+=" "),str+=trimmedLine)}str&&args.push(t.stringLiteral(str))}function buildChildren(node){for(var elems=[],i=0;i<node.children.length;i++){var child=node.children[i];t.isJSXText(child)?cleanJSXElementLiteralChild(child,elems):(t.isJSXExpressionContainer(child)&&(child=child.expression),t.isJSXEmptyExpression(child)||elems.push(child))}return elems}exports.__esModule=!0,exports.isReactComponent=void 0,exports.isCompatTag=isCompatTag,exports.buildChildren=buildChildren;var _index=require("./index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index);exports.isReactComponent=t.buildMatchMemberExpression("React.Component")},{"./index":33}],35:[function(require,module,exports){"use strict";function getBindingIdentifiers(node,duplicates,outerOnly){for(var search=[].concat(node),ids=(0,_create2.default)(null);search.length;){var id=search.shift();if(id){var keys=t.getBindingIdentifiers.keys[id.type];if(t.isIdentifier(id))if(duplicates){var _ids=ids[id.name]=ids[id.name]||[];_ids.push(id)}else ids[id.name]=id;else if(t.isExportDeclaration(id))t.isDeclaration(id.declaration)&&search.push(id.declaration);else{if(outerOnly){if(t.isFunctionDeclaration(id)){search.push(id.id);continue}if(t.isFunctionExpression(id))continue}if(keys)for(var i=0;i<keys.length;i++){var key=keys[i];id[key]&&(search=search.concat(id[key]))}}}}return ids}function getOuterBindingIdentifiers(node,duplicates){return getBindingIdentifiers(node,duplicates,!0)}exports.__esModule=!0;var _create=require("babel-runtime/core-js/object/create"),_create2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_create);exports.getBindingIdentifiers=getBindingIdentifiers,exports.getOuterBindingIdentifiers=getOuterBindingIdentifiers;var _index=require("./index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index);getBindingIdentifiers.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],RestProperty:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]}},{"./index":33,"babel-runtime/core-js/object/create":15}],36:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isBinding(node,parent){var keys=_retrievers.getBindingIdentifiers.keys[parent.type];if(keys)for(var i=0;i<keys.length;i++){var key=keys[i],val=parent[key];if(Array.isArray(val)){if(val.indexOf(node)>=0)return!0}else if(val===node)return!0}return!1}function isReferenced(node,parent){switch(parent.type){case"BindExpression":return parent.object===node||parent.callee===node;case"MemberExpression":case"JSXMemberExpression":return!(parent.property!==node||!parent.computed)||parent.object===node;case"MetaProperty":return!1;case"ObjectProperty":if(parent.key===node)return parent.computed;case"VariableDeclarator":return parent.id!==node;case"ArrowFunctionExpression":case"FunctionDeclaration":case"FunctionExpression":for(var _iterator=parent.params,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:(0,_getIterator3.default)(_iterator);;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}if(_ref===node)return!1}return parent.id!==node;case"ExportSpecifier":return!parent.source&&parent.local===node;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"JSXAttribute":return parent.name!==node;case"ClassProperty":return parent.key===node?parent.computed:parent.value===node;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":return!1;case"ClassDeclaration":case"ClassExpression":return parent.id!==node;case"ClassMethod":case"ObjectMethod":return parent.key===node&&parent.computed;case"LabeledStatement":return!1;case"CatchClause":return parent.param!==node;case"RestElement":return!1;case"AssignmentExpression":case"AssignmentPattern":return parent.right===node;case"ObjectPattern":case"ArrayPattern":return!1}return!0}function isValidIdentifier(name){return"string"==typeof name&&!_esutils2.default.keyword.isReservedWordES6(name,!0)&&("await"!==name&&_esutils2.default.keyword.isIdentifierNameES6(name))}function isLet(node){return t.isVariableDeclaration(node)&&("var"!==node.kind||node[_constants.BLOCK_SCOPED_SYMBOL])}function isBlockScoped(node){return t.isFunctionDeclaration(node)||t.isClassDeclaration(node)||t.isLet(node)}function isVar(node){return t.isVariableDeclaration(node,{kind:"var"})&&!node[_constants.BLOCK_SCOPED_SYMBOL]}function isSpecifierDefault(specifier){return t.isImportDefaultSpecifier(specifier)||t.isIdentifier(specifier.imported||specifier.exported,{name:"default"})}function isScope(node,parent){return(!t.isBlockStatement(node)||!t.isFunction(parent,{body:node}))&&t.isScopable(node)}function isImmutable(node){return!!t.isType(node.type,"Immutable")||!!t.isIdentifier(node)&&"undefined"===node.name}function isNodesEquivalent(a,b){if("object"!==(void 0===a?"undefined":(0,_typeof3.default)(a))||"object"!==(void 0===a?"undefined":(0,_typeof3.default)(a))||null==a||null==b)return a===b;if(a.type!==b.type)return!1;for(var fields=(0,_keys2.default)(t.NODE_FIELDS[a.type]||a.type),_iterator2=fields,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:(0,_getIterator3.default)(_iterator2);;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var field=_ref2;if((0,_typeof3.default)(a[field])!==(0,_typeof3.default)(b[field]))return!1;if(Array.isArray(a[field])){if(!Array.isArray(b[field]))return!1;if(a[field].length!==b[field].length)return!1;for(var i=0;i<a[field].length;i++)if(!isNodesEquivalent(a[field][i],b[field][i]))return!1}else if(!isNodesEquivalent(a[field],b[field]))return!1}return!0}exports.__esModule=!0;var _keys=require("babel-runtime/core-js/object/keys"),_keys2=_interopRequireDefault(_keys),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2);exports.isBinding=isBinding,exports.isReferenced=isReferenced,exports.isValidIdentifier=isValidIdentifier,exports.isLet=isLet,exports.isBlockScoped=isBlockScoped,exports.isVar=isVar,exports.isSpecifierDefault=isSpecifierDefault,exports.isScope=isScope,exports.isImmutable=isImmutable,exports.isNodesEquivalent=isNodesEquivalent;var _retrievers=require("./retrievers"),_esutils=require("esutils"),_esutils2=_interopRequireDefault(_esutils),_index=require("./index"),t=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_index),_constants=require("./constants")},{"./constants":22,"./index":33,"./retrievers":35,"babel-runtime/core-js/get-iterator":12,"babel-runtime/core-js/object/keys":17,"babel-runtime/helpers/typeof":21,esutils:224}],37:[function(require,module,exports){"use strict";function makePredicate(words){return words=words.split(" "),function(str){return words.indexOf(str)>=0}}function isInAstralSet(code,set){for(var pos=65536,i=0;i<set.length;i+=2){if((pos+=set[i])>code)return!1;if((pos+=set[i+1])>=code)return!0}}function isIdentifierStart(code){return code<65?36===code:code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifierStart.test(String.fromCharCode(code)):isInAstralSet(code,astralIdentifierStartCodes)))}function isIdentifierChar(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||(code<=65535?code>=170&&nonASCIIidentifier.test(String.fromCharCode(code)):isInAstralSet(code,astralIdentifierStartCodes)||isInAstralSet(code,astralIdentifierCodes))))}function getOptions(opts){var options={};for(var key in defaultOptions)options[key]=opts&&key in opts?opts[key]:defaultOptions[key];return options}function isNewLine(code){return 10===code||13===code||8232===code||8233===code}function getLineInfo(input,offset){for(var line=1,cur=0;;){lineBreakG.lastIndex=cur;var match=lineBreakG.exec(input);if(!(match&&match.index<offset))return new Position(line,offset-cur);++line,cur=match.index+match[0].length}}function codePointToString(code){return code<=65535?String.fromCharCode(code):String.fromCharCode(55296+(code-65536>>10),56320+(code-65536&1023))}function finishNodeAt(node,type,pos,loc){return node.type=type,node.end=pos,node.loc.end=loc,this.processComment(node),node}function last(stack){return stack[stack.length-1]}function isSimpleProperty(node){return node&&"Property"===node.type&&"init"===node.kind&&!1===node.method}function getQualifiedJSXName(object){return"JSXIdentifier"===object.type?object.name:"JSXNamespacedName"===object.type?object.namespace.name+":"+object.name.name:"JSXMemberExpression"===object.type?getQualifiedJSXName(object.object)+"."+getQualifiedJSXName(object.property):void 0}function parse(input,options){return new Parser(options,input).parse()}function parseExpression(input,options){var parser=new Parser(options,input);return parser.options.strictMode&&(parser.state.strict=!0),parser.getExpression()}Object.defineProperty(exports,"__esModule",{value:!0});var reservedWords={6:makePredicate("enum await"),strict:makePredicate("implements interface let package private protected public static yield"),strictBind:makePredicate("eval arguments")},isKeyword=makePredicate("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this let const class extends export import yield super"),nonASCIIidentifierStartChars="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",nonASCIIidentifierChars="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣔ-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");nonASCIIidentifierStartChars=nonASCIIidentifierChars=null;var astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,449,56,264,8,2,36,18,0,50,29,881,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,0,32,6124,20,754,9486,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,10591,541],astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,838,7,2,7,17,9,57,21,2,13,19882,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],defaultOptions={sourceType:"script",sourceFilename:void 0,startLine:1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,plugins:[],strictMode:null},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},possibleConstructorReturn=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call},beforeExpr=!0,TokenType=function TokenType(label){var conf=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};classCallCheck(this,TokenType),this.label=label,this.keyword=conf.keyword,this.beforeExpr=!!conf.beforeExpr,this.startsExpr=!!conf.startsExpr,this.rightAssociative=!!conf.rightAssociative,this.isLoop=!!conf.isLoop,this.isAssign=!!conf.isAssign,this.prefix=!!conf.prefix,this.postfix=!!conf.postfix,this.binop=conf.binop||null,this.updateContext=null},KeywordTokenType=function(_TokenType){function KeywordTokenType(name){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return classCallCheck(this,KeywordTokenType),options.keyword=name,possibleConstructorReturn(this,_TokenType.call(this,name,options))}return inherits(KeywordTokenType,_TokenType),KeywordTokenType}(TokenType),BinopTokenType=function(_TokenType2){function BinopTokenType(name,prec){return classCallCheck(this,BinopTokenType),possibleConstructorReturn(this,_TokenType2.call(this,name,{beforeExpr:beforeExpr,binop:prec}))}return inherits(BinopTokenType,_TokenType2),BinopTokenType}(TokenType),types={num:new TokenType("num",{startsExpr:!0}),regexp:new TokenType("regexp",{startsExpr:!0}),string:new TokenType("string",{startsExpr:!0}),name:new TokenType("name",{startsExpr:!0}),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:beforeExpr,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:beforeExpr,startsExpr:!0}),braceBarL:new TokenType("{|",{beforeExpr:beforeExpr,startsExpr:!0}),braceR:new TokenType("}"),braceBarR:new TokenType("|}"),parenL:new TokenType("(",{beforeExpr:beforeExpr,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",{beforeExpr:beforeExpr}),semi:new TokenType(";",{beforeExpr:beforeExpr}),colon:new TokenType(":",{beforeExpr:beforeExpr}),doubleColon:new TokenType("::",{beforeExpr:beforeExpr}),dot:new TokenType("."),question:new TokenType("?",{beforeExpr:beforeExpr}),arrow:new TokenType("=>",{beforeExpr:beforeExpr}),template:new TokenType("template"),ellipsis:new TokenType("...",{beforeExpr:beforeExpr}),backQuote:new TokenType("`",{startsExpr:!0}),dollarBraceL:new TokenType("${",{beforeExpr:beforeExpr,startsExpr:!0}),at:new TokenType("@"),eq:new TokenType("=",{beforeExpr:beforeExpr,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:beforeExpr,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("prefix",{beforeExpr:beforeExpr,prefix:!0,startsExpr:!0}),logicalOR:new BinopTokenType("||",1),logicalAND:new BinopTokenType("&&",2),bitwiseOR:new BinopTokenType("|",3),bitwiseXOR:new BinopTokenType("^",4),bitwiseAND:new BinopTokenType("&",5),equality:new BinopTokenType("==/!=",6),relational:new BinopTokenType("</>",7),bitShift:new BinopTokenType("<</>>",8),plusMin:new TokenType("+/-",{beforeExpr:beforeExpr,binop:9,prefix:!0,startsExpr:!0}),modulo:new BinopTokenType("%",10),star:new BinopTokenType("*",10),slash:new BinopTokenType("/",10),exponent:new TokenType("**",{beforeExpr:beforeExpr,binop:11,rightAssociative:!0})},keywords={break:new KeywordTokenType("break"),case:new KeywordTokenType("case",{beforeExpr:beforeExpr}),catch:new KeywordTokenType("catch"),continue:new KeywordTokenType("continue"),debugger:new KeywordTokenType("debugger"),default:new KeywordTokenType("default",{beforeExpr:beforeExpr}),do:new KeywordTokenType("do",{isLoop:!0,beforeExpr:beforeExpr}),else:new KeywordTokenType("else",{beforeExpr:beforeExpr}),finally:new KeywordTokenType("finally"),for:new KeywordTokenType("for",{isLoop:!0}),function:new KeywordTokenType("function",{startsExpr:!0}),if:new KeywordTokenType("if"),return:new KeywordTokenType("return",{beforeExpr:beforeExpr}),switch:new KeywordTokenType("switch"),throw:new KeywordTokenType("throw",{beforeExpr:beforeExpr}),try:new KeywordTokenType("try"),var:new KeywordTokenType("var"),let:new KeywordTokenType("let"),const:new KeywordTokenType("const"),while:new KeywordTokenType("while",{isLoop:!0}),with:new KeywordTokenType("with"),new:new KeywordTokenType("new",{beforeExpr:beforeExpr,startsExpr:!0}),this:new KeywordTokenType("this",{startsExpr:!0}),super:new KeywordTokenType("super",{startsExpr:!0}),class:new KeywordTokenType("class"),extends:new KeywordTokenType("extends",{beforeExpr:beforeExpr}),export:new KeywordTokenType("export"),import:new KeywordTokenType("import",{startsExpr:!0}),yield:new KeywordTokenType("yield",{beforeExpr:beforeExpr,startsExpr:!0}),null:new KeywordTokenType("null",{startsExpr:!0}),true:new KeywordTokenType("true",{startsExpr:!0}),false:new KeywordTokenType("false",{startsExpr:!0}),in:new KeywordTokenType("in",{beforeExpr:beforeExpr,binop:7}),instanceof:new KeywordTokenType("instanceof",{beforeExpr:beforeExpr,binop:7}),typeof:new KeywordTokenType("typeof",{beforeExpr:beforeExpr,prefix:!0,startsExpr:!0}),void:new KeywordTokenType("void",{beforeExpr:beforeExpr,prefix:!0,startsExpr:!0}),delete:new KeywordTokenType("delete",{beforeExpr:beforeExpr,prefix:!0,startsExpr:!0})};Object.keys(keywords).forEach(function(name){types["_"+name]=keywords[name]});var lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g"),nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,TokContext=function TokContext(token,isExpr,preserveSpace,override){classCallCheck(this,TokContext),this.token=token,this.isExpr=!!isExpr,this.preserveSpace=!!preserveSpace,this.override=override},types$1={braceStatement:new TokContext("{",!1),braceExpression:new TokContext("{",!0),templateQuasi:new TokContext("${",!0),parenStatement:new TokContext("(",!1),parenExpression:new TokContext("(",!0),template:new TokContext("`",!0,!0,function(p){return p.readTmplToken()}),functionExpression:new TokContext("function",!0)};types.parenR.updateContext=types.braceR.updateContext=function(){if(1===this.state.context.length)return void(this.state.exprAllowed=!0);var out=this.state.context.pop();out===types$1.braceStatement&&this.curContext()===types$1.functionExpression?(this.state.context.pop(),this.state.exprAllowed=!1):out===types$1.templateQuasi?this.state.exprAllowed=!0:this.state.exprAllowed=!out.isExpr},types.name.updateContext=function(prevType){this.state.exprAllowed=!1,prevType!==types._let&&prevType!==types._const&&prevType!==types._var||lineBreak.test(this.input.slice(this.state.end))&&(this.state.exprAllowed=!0)},types.braceL.updateContext=function(prevType){this.state.context.push(this.braceIsBlock(prevType)?types$1.braceStatement:types$1.braceExpression),this.state.exprAllowed=!0},types.dollarBraceL.updateContext=function(){this.state.context.push(types$1.templateQuasi),this.state.exprAllowed=!0},types.parenL.updateContext=function(prevType){var statementParens=prevType===types._if||prevType===types._for||prevType===types._with||prevType===types._while;this.state.context.push(statementParens?types$1.parenStatement:types$1.parenExpression),this.state.exprAllowed=!0},types.incDec.updateContext=function(){},types._function.updateContext=function(){this.curContext()!==types$1.braceStatement&&this.state.context.push(types$1.functionExpression),this.state.exprAllowed=!1},types.backQuote.updateContext=function(){this.curContext()===types$1.template?this.state.context.pop():this.state.context.push(types$1.template),this.state.exprAllowed=!1};var Position=function Position(line,col){classCallCheck(this,Position),this.line=line,this.column=col},SourceLocation=function SourceLocation(start,end){classCallCheck(this,SourceLocation),this.start=start,this.end=end},State=function(){function State(){classCallCheck(this,State)}return State.prototype.init=function(options,input){return this.strict=!1!==options.strictMode&&"module"===options.sourceType,this.input=input,this.potentialArrowAt=-1,this.inMethod=this.inFunction=this.inGenerator=this.inAsync=this.inPropertyName=this.inType=this.inClassProperty=this.noAnonFunctionType=!1,this.labels=[],this.decorators=[],this.tokens=[],this.comments=[],this.trailingComments=[],this.leadingComments=[],this.commentStack=[],this.pos=this.lineStart=0,this.curLine=options.startLine,this.type=types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=[types$1.braceStatement],this.exprAllowed=!0,this.containsEsc=this.containsOctal=!1,this.octalPosition=null,this.invalidTemplateEscapePosition=null,this.exportedIdentifiers=[],this},State.prototype.curPosition=function(){return new Position(this.curLine,this.pos-this.lineStart)},State.prototype.clone=function(skipArrays){var state=new State;for(var key in this){var val=this[key];skipArrays&&"context"!==key||!Array.isArray(val)||(val=val.slice()),state[key]=val}return state},State}(),Token=function Token(state){classCallCheck(this,Token),this.type=state.type,this.value=state.value,this.start=state.start,this.end=state.end,this.loc=new SourceLocation(state.startLoc,state.endLoc)},Tokenizer=function(){function Tokenizer(options,input){classCallCheck(this,Tokenizer),this.state=new State,this.state.init(options,input)}return Tokenizer.prototype.next=function(){
this.isLookahead||this.state.tokens.push(new Token(this.state)),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()},Tokenizer.prototype.eat=function(type){return!!this.match(type)&&(this.next(),!0)},Tokenizer.prototype.match=function(type){return this.state.type===type},Tokenizer.prototype.isKeyword=function(word){return isKeyword(word)},Tokenizer.prototype.lookahead=function(){var old=this.state;this.state=old.clone(!0),this.isLookahead=!0,this.next(),this.isLookahead=!1;var curr=this.state.clone(!0);return this.state=old,curr},Tokenizer.prototype.setStrict=function(strict){if(this.state.strict=strict,this.match(types.num)||this.match(types.string)){for(this.state.pos=this.state.start;this.state.pos<this.state.lineStart;)this.state.lineStart=this.input.lastIndexOf("\n",this.state.lineStart-2)+1,--this.state.curLine;this.nextToken()}},Tokenizer.prototype.curContext=function(){return this.state.context[this.state.context.length-1]},Tokenizer.prototype.nextToken=function(){var curContext=this.curContext();return curContext&&curContext.preserveSpace||this.skipSpace(),this.state.containsOctal=!1,this.state.octalPosition=null,this.state.start=this.state.pos,this.state.startLoc=this.state.curPosition(),this.state.pos>=this.input.length?this.finishToken(types.eof):curContext.override?curContext.override(this):this.readToken(this.fullCharCodeAtPos())},Tokenizer.prototype.readToken=function(code){return isIdentifierStart(code)||92===code?this.readWord():this.getTokenFromCode(code)},Tokenizer.prototype.fullCharCodeAtPos=function(){var code=this.input.charCodeAt(this.state.pos);return code<=55295||code>=57344?code:(code<<10)+this.input.charCodeAt(this.state.pos+1)-56613888},Tokenizer.prototype.pushComment=function(block,text,start,end,startLoc,endLoc){var comment={type:block?"CommentBlock":"CommentLine",value:text,start:start,end:end,loc:new SourceLocation(startLoc,endLoc)};this.isLookahead||(this.state.tokens.push(comment),this.state.comments.push(comment),this.addComment(comment))},Tokenizer.prototype.skipBlockComment=function(){var startLoc=this.state.curPosition(),start=this.state.pos,end=this.input.indexOf("*/",this.state.pos+=2);-1===end&&this.raise(this.state.pos-2,"Unterminated comment"),this.state.pos=end+2,lineBreakG.lastIndex=start;for(var match=void 0;(match=lineBreakG.exec(this.input))&&match.index<this.state.pos;)++this.state.curLine,this.state.lineStart=match.index+match[0].length;this.pushComment(!0,this.input.slice(start+2,end),start,this.state.pos,startLoc,this.state.curPosition())},Tokenizer.prototype.skipLineComment=function(startSkip){for(var start=this.state.pos,startLoc=this.state.curPosition(),ch=this.input.charCodeAt(this.state.pos+=startSkip);this.state.pos<this.input.length&&10!==ch&&13!==ch&&8232!==ch&&8233!==ch;)++this.state.pos,ch=this.input.charCodeAt(this.state.pos);this.pushComment(!1,this.input.slice(start+startSkip,this.state.pos),start,this.state.pos,startLoc,this.state.curPosition())},Tokenizer.prototype.skipSpace=function(){loop:for(;this.state.pos<this.input.length;){var ch=this.input.charCodeAt(this.state.pos);switch(ch){case 32:case 160:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break loop}break;default:if(!(ch>8&&ch<14||ch>=5760&&nonASCIIwhitespace.test(String.fromCharCode(ch))))break loop;++this.state.pos}}},Tokenizer.prototype.finishToken=function(type,val){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();var prevType=this.state.type;this.state.type=type,this.state.value=val,this.updateContext(prevType)},Tokenizer.prototype.readToken_dot=function(){var next=this.input.charCodeAt(this.state.pos+1);if(next>=48&&next<=57)return this.readNumber(!0);var next2=this.input.charCodeAt(this.state.pos+2);return 46===next&&46===next2?(this.state.pos+=3,this.finishToken(types.ellipsis)):(++this.state.pos,this.finishToken(types.dot))},Tokenizer.prototype.readToken_slash=function(){return this.state.exprAllowed?(++this.state.pos,this.readRegexp()):61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(types.assign,2):this.finishOp(types.slash,1)},Tokenizer.prototype.readToken_mult_modulo=function(code){var type=42===code?types.star:types.modulo,width=1,next=this.input.charCodeAt(this.state.pos+1);return 42===next&&(width++,next=this.input.charCodeAt(this.state.pos+2),type=types.exponent),61===next&&(width++,type=types.assign),this.finishOp(type,width)},Tokenizer.prototype.readToken_pipe_amp=function(code){var next=this.input.charCodeAt(this.state.pos+1);return next===code?this.finishOp(124===code?types.logicalOR:types.logicalAND,2):61===next?this.finishOp(types.assign,2):124===code&&125===next&&this.hasPlugin("flow")?this.finishOp(types.braceBarR,2):this.finishOp(124===code?types.bitwiseOR:types.bitwiseAND,1)},Tokenizer.prototype.readToken_caret=function(){return 61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(types.assign,2):this.finishOp(types.bitwiseXOR,1)},Tokenizer.prototype.readToken_plus_min=function(code){var next=this.input.charCodeAt(this.state.pos+1);return next===code?45===next&&62===this.input.charCodeAt(this.state.pos+2)&&lineBreak.test(this.input.slice(this.state.lastTokEnd,this.state.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types.incDec,2):61===next?this.finishOp(types.assign,2):this.finishOp(types.plusMin,1)},Tokenizer.prototype.readToken_lt_gt=function(code){var next=this.input.charCodeAt(this.state.pos+1),size=1;return next===code?(size=62===code&&62===this.input.charCodeAt(this.state.pos+2)?3:2,61===this.input.charCodeAt(this.state.pos+size)?this.finishOp(types.assign,size+1):this.finishOp(types.bitShift,size)):33===next&&60===code&&45===this.input.charCodeAt(this.state.pos+2)&&45===this.input.charCodeAt(this.state.pos+3)?(this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===next&&(size=2),this.finishOp(types.relational,size))},Tokenizer.prototype.readToken_eq_excl=function(code){var next=this.input.charCodeAt(this.state.pos+1);return 61===next?this.finishOp(types.equality,61===this.input.charCodeAt(this.state.pos+2)?3:2):61===code&&62===next?(this.state.pos+=2,this.finishToken(types.arrow)):this.finishOp(61===code?types.eq:types.prefix,1)},Tokenizer.prototype.getTokenFromCode=function(code){switch(code){case 46:return this.readToken_dot();case 40:return++this.state.pos,this.finishToken(types.parenL);case 41:return++this.state.pos,this.finishToken(types.parenR);case 59:return++this.state.pos,this.finishToken(types.semi);case 44:return++this.state.pos,this.finishToken(types.comma);case 91:return++this.state.pos,this.finishToken(types.bracketL);case 93:return++this.state.pos,this.finishToken(types.bracketR);case 123:return this.hasPlugin("flow")&&124===this.input.charCodeAt(this.state.pos+1)?this.finishOp(types.braceBarL,2):(++this.state.pos,this.finishToken(types.braceL));case 125:return++this.state.pos,this.finishToken(types.braceR);case 58:return this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(types.doubleColon,2):(++this.state.pos,this.finishToken(types.colon));case 63:return++this.state.pos,this.finishToken(types.question);case 64:return++this.state.pos,this.finishToken(types.at);case 96:return++this.state.pos,this.finishToken(types.backQuote);case 48:var next=this.input.charCodeAt(this.state.pos+1);if(120===next||88===next)return this.readRadixNumber(16);if(111===next||79===next)return this.readRadixNumber(8);if(98===next||66===next)return this.readRadixNumber(2);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(code);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(code);case 124:case 38:return this.readToken_pipe_amp(code);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(code);case 60:case 62:return this.readToken_lt_gt(code);case 61:case 33:return this.readToken_eq_excl(code);case 126:return this.finishOp(types.prefix,1)}this.raise(this.state.pos,"Unexpected character '"+codePointToString(code)+"'")},Tokenizer.prototype.finishOp=function(type,size){var str=this.input.slice(this.state.pos,this.state.pos+size);return this.state.pos+=size,this.finishToken(type,str)},Tokenizer.prototype.readRegexp=function(){for(var start=this.state.pos,escaped=void 0,inClass=void 0;;){this.state.pos>=this.input.length&&this.raise(start,"Unterminated regular expression");var ch=this.input.charAt(this.state.pos);if(lineBreak.test(ch)&&this.raise(start,"Unterminated regular expression"),escaped)escaped=!1;else{if("["===ch)inClass=!0;else if("]"===ch&&inClass)inClass=!1;else if("/"===ch&&!inClass)break;escaped="\\"===ch}++this.state.pos}var content=this.input.slice(start,this.state.pos);++this.state.pos;var mods=this.readWord1();if(mods){/^[gmsiyu]*$/.test(mods)||this.raise(start,"Invalid regular expression flag")}return this.finishToken(types.regexp,{pattern:content,flags:mods})},Tokenizer.prototype.readInt=function(radix,len){for(var start=this.state.pos,total=0,i=0,e=null==len?1/0:len;i<e;++i){var code=this.input.charCodeAt(this.state.pos),val=void 0;if((val=code>=97?code-97+10:code>=65?code-65+10:code>=48&&code<=57?code-48:1/0)>=radix)break;++this.state.pos,total=total*radix+val}return this.state.pos===start||null!=len&&this.state.pos-start!==len?null:total},Tokenizer.prototype.readRadixNumber=function(radix){this.state.pos+=2;var val=this.readInt(radix);return null==val&&this.raise(this.state.start+2,"Expected number in radix "+radix),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.state.pos,"Identifier directly after number"),this.finishToken(types.num,val)},Tokenizer.prototype.readNumber=function(startsWithDot){var start=this.state.pos,octal=48===this.input.charCodeAt(start),isFloat=!1;startsWithDot||null!==this.readInt(10)||this.raise(start,"Invalid number"),octal&&this.state.pos==start+1&&(octal=!1);var next=this.input.charCodeAt(this.state.pos);46!==next||octal||(++this.state.pos,this.readInt(10),isFloat=!0,next=this.input.charCodeAt(this.state.pos)),69!==next&&101!==next||octal||(next=this.input.charCodeAt(++this.state.pos),43!==next&&45!==next||++this.state.pos,null===this.readInt(10)&&this.raise(start,"Invalid number"),isFloat=!0),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.state.pos,"Identifier directly after number");var str=this.input.slice(start,this.state.pos),val=void 0;return isFloat?val=parseFloat(str):octal&&1!==str.length?this.state.strict?this.raise(start,"Invalid number"):val=/[89]/.test(str)?parseInt(str,10):parseInt(str,8):val=parseInt(str,10),this.finishToken(types.num,val)},Tokenizer.prototype.readCodePoint=function(throwOnInvalid){var ch=this.input.charCodeAt(this.state.pos),code=void 0;if(123===ch){var codePos=++this.state.pos;if(code=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,throwOnInvalid),++this.state.pos,null===code)--this.state.invalidTemplateEscapePosition;else if(code>1114111){if(!throwOnInvalid)return this.state.invalidTemplateEscapePosition=codePos-2,null;this.raise(codePos,"Code point out of bounds")}}else code=this.readHexChar(4,throwOnInvalid);return code},Tokenizer.prototype.readString=function(quote){for(var out="",chunkStart=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var ch=this.input.charCodeAt(this.state.pos);if(ch===quote)break;92===ch?(out+=this.input.slice(chunkStart,this.state.pos),out+=this.readEscapedChar(!1),chunkStart=this.state.pos):(isNewLine(ch)&&this.raise(this.state.start,"Unterminated string constant"),++this.state.pos)}return out+=this.input.slice(chunkStart,this.state.pos++),this.finishToken(types.string,out)},Tokenizer.prototype.readTmplToken=function(){for(var out="",chunkStart=this.state.pos,containsInvalid=!1;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated template");var ch=this.input.charCodeAt(this.state.pos);if(96===ch||36===ch&&123===this.input.charCodeAt(this.state.pos+1))return this.state.pos===this.state.start&&this.match(types.template)?36===ch?(this.state.pos+=2,this.finishToken(types.dollarBraceL)):(++this.state.pos,this.finishToken(types.backQuote)):(out+=this.input.slice(chunkStart,this.state.pos),this.finishToken(types.template,containsInvalid?null:out));if(92===ch){out+=this.input.slice(chunkStart,this.state.pos);var escaped=this.readEscapedChar(!0);null===escaped?containsInvalid=!0:out+=escaped,chunkStart=this.state.pos}else if(isNewLine(ch)){switch(out+=this.input.slice(chunkStart,this.state.pos),++this.state.pos,ch){case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:out+="\n";break;default:out+=String.fromCharCode(ch)}++this.state.curLine,this.state.lineStart=this.state.pos,chunkStart=this.state.pos}else++this.state.pos}},Tokenizer.prototype.readEscapedChar=function(inTemplate){var throwOnInvalid=!inTemplate,ch=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,ch){case 110:return"\n";case 114:return"\r";case 120:var code=this.readHexChar(2,throwOnInvalid);return null===code?null:String.fromCharCode(code);case 117:var _code=this.readCodePoint(throwOnInvalid);return null===_code?null:codePointToString(_code);case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:return this.state.lineStart=this.state.pos,++this.state.curLine,"";default:if(ch>=48&&ch<=55){var codePos=this.state.pos-1,octalStr=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/)[0],octal=parseInt(octalStr,8);if(octal>255&&(octalStr=octalStr.slice(0,-1),octal=parseInt(octalStr,8)),octal>0){if(inTemplate)return this.state.invalidTemplateEscapePosition=codePos,null;this.state.strict?this.raise(codePos,"Octal literal in strict mode"):this.state.containsOctal||(this.state.containsOctal=!0,this.state.octalPosition=codePos)}return this.state.pos+=octalStr.length-1,String.fromCharCode(octal)}return String.fromCharCode(ch)}},Tokenizer.prototype.readHexChar=function(len,throwOnInvalid){var codePos=this.state.pos,n=this.readInt(16,len);return null===n&&(throwOnInvalid?this.raise(codePos,"Bad character escape sequence"):(this.state.pos=codePos-1,this.state.invalidTemplateEscapePosition=codePos-1)),n},Tokenizer.prototype.readWord1=function(){this.state.containsEsc=!1;for(var word="",first=!0,chunkStart=this.state.pos;this.state.pos<this.input.length;){var ch=this.fullCharCodeAtPos();if(isIdentifierChar(ch))this.state.pos+=ch<=65535?1:2;else{if(92!==ch)break;this.state.containsEsc=!0,word+=this.input.slice(chunkStart,this.state.pos);var escStart=this.state.pos;117!==this.input.charCodeAt(++this.state.pos)&&this.raise(this.state.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.state.pos;var esc=this.readCodePoint(!0);(first?isIdentifierStart:isIdentifierChar)(esc,!0)||this.raise(escStart,"Invalid Unicode escape"),word+=codePointToString(esc),chunkStart=this.state.pos}first=!1}return word+this.input.slice(chunkStart,this.state.pos)},Tokenizer.prototype.readWord=function(){var word=this.readWord1(),type=types.name;return!this.state.containsEsc&&this.isKeyword(word)&&(type=keywords[word]),this.finishToken(type,word)},Tokenizer.prototype.braceIsBlock=function(prevType){if(prevType===types.colon){var parent=this.curContext();if(parent===types$1.braceStatement||parent===types$1.braceExpression)return!parent.isExpr}return prevType===types._return?lineBreak.test(this.input.slice(this.state.lastTokEnd,this.state.start)):prevType===types._else||prevType===types.semi||prevType===types.eof||prevType===types.parenR||(prevType===types.braceL?this.curContext()===types$1.braceStatement:!this.state.exprAllowed)},Tokenizer.prototype.updateContext=function(prevType){var type=this.state.type,update=void 0;type.keyword&&prevType===types.dot?this.state.exprAllowed=!1:(update=type.updateContext)?update.call(this,prevType):this.state.exprAllowed=type.beforeExpr},Tokenizer}(),plugins={},frozenDeprecatedWildcardPluginList=["jsx","doExpressions","objectRestSpread","decorators","classProperties","exportExtensions","asyncGenerators","functionBind","functionSent","dynamicImport","flow"],Parser=function(_Tokenizer){function Parser(options,input){classCallCheck(this,Parser),options=getOptions(options);var _this=possibleConstructorReturn(this,_Tokenizer.call(this,options,input));return _this.options=options,_this.inModule="module"===_this.options.sourceType,_this.input=input,_this.plugins=_this.loadPlugins(_this.options.plugins),_this.filename=options.sourceFilename,0===_this.state.pos&&"#"===_this.input[0]&&"!"===_this.input[1]&&_this.skipLineComment(2),_this}return inherits(Parser,_Tokenizer),Parser.prototype.isReservedWord=function(word){return"await"===word?this.inModule:reservedWords[6](word)},Parser.prototype.hasPlugin=function(name){return!!(this.plugins["*"]&&frozenDeprecatedWildcardPluginList.indexOf(name)>-1)||!!this.plugins[name]},Parser.prototype.extend=function(name,f){this[name]=f(this[name])},Parser.prototype.loadAllPlugins=function(){var _this2=this,pluginNames=Object.keys(plugins).filter(function(name){return"flow"!==name&&"estree"!==name});pluginNames.push("flow"),pluginNames.forEach(function(name){var plugin=plugins[name];plugin&&plugin(_this2)})},Parser.prototype.loadPlugins=function(pluginList){if(pluginList.indexOf("*")>=0)return this.loadAllPlugins(),{"*":!0};var pluginMap={};pluginList.indexOf("flow")>=0&&(pluginList=pluginList.filter(function(plugin){return"flow"!==plugin}),pluginList.push("flow")),pluginList.indexOf("estree")>=0&&(pluginList=pluginList.filter(function(plugin){return"estree"!==plugin}),pluginList.unshift("estree"));for(var _iterator=pluginList,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var name=_ref;if(!pluginMap[name]){pluginMap[name]=!0;var plugin=plugins[name];plugin&&plugin(this)}}return pluginMap},Parser.prototype.parse=function(){var file=this.startNode(),program=this.startNode();return this.nextToken(),this.parseTopLevel(file,program)},Parser}(Tokenizer),pp=Parser.prototype;pp.addExtra=function(node,key,val){if(node){(node.extra=node.extra||{})[key]=val}},pp.isRelational=function(op){return this.match(types.relational)&&this.state.value===op},pp.expectRelational=function(op){this.isRelational(op)?this.next():this.unexpected(null,types.relational)},pp.isContextual=function(name){return this.match(types.name)&&this.state.value===name},pp.eatContextual=function(name){return this.state.value===name&&this.eat(types.name)},pp.expectContextual=function(name,message){this.eatContextual(name)||this.unexpected(null,message)},pp.canInsertSemicolon=function(){return this.match(types.eof)||this.match(types.braceR)||lineBreak.test(this.input.slice(this.state.lastTokEnd,this.state.start))},pp.isLineTerminator=function(){return this.eat(types.semi)||this.canInsertSemicolon()},pp.semicolon=function(){this.isLineTerminator()||this.unexpected(null,types.semi)},pp.expect=function(type,pos){return this.eat(type)||this.unexpected(pos,type)},pp.unexpected=function(pos){var messageOrType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unexpected token";messageOrType&&"object"===(void 0===messageOrType?"undefined":_typeof(messageOrType))&&messageOrType.label&&(messageOrType="Unexpected token, expected "+messageOrType.label),this.raise(null!=pos?pos:this.state.start,messageOrType)};var pp$1=Parser.prototype;pp$1.parseTopLevel=function(file,program){return program.sourceType=this.options.sourceType,this.parseBlockBody(program,!0,!0,types.eof),file.program=this.finishNode(program,"Program"),file.comments=this.state.comments,file.tokens=this.state.tokens,this.finishNode(file,"File")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$1.stmtToDirective=function(stmt){var expr=stmt.expression,directiveLiteral=this.startNodeAt(expr.start,expr.loc.start),directive=this.startNodeAt(stmt.start,stmt.loc.start),raw=this.input.slice(expr.start,expr.end),val=directiveLiteral.value=raw.slice(1,-1);return this.addExtra(directiveLiteral,"raw",raw),this.addExtra(directiveLiteral,"rawValue",val),directive.value=this.finishNodeAt(directiveLiteral,"DirectiveLiteral",expr.end,expr.loc.end),this.finishNodeAt(directive,"Directive",stmt.end,stmt.loc.end)},pp$1.parseStatement=function(declaration,topLevel){this.match(types.at)&&this.parseDecorators(!0);var starttype=this.state.type,node=this.startNode();switch(starttype){case types._break:case types._continue:return this.parseBreakContinueStatement(node,starttype.keyword);case types._debugger:return this.parseDebuggerStatement(node);case types._do:return this.parseDoStatement(node);case types._for:return this.parseForStatement(node);case types._function:return declaration||this.unexpected(),this.parseFunctionStatement(node);case types._class:return declaration||this.unexpected(),this.parseClass(node,!0);case types._if:return this.parseIfStatement(node);case types._return:return this.parseReturnStatement(node);case types._switch:return this.parseSwitchStatement(node);case types._throw:return this.parseThrowStatement(node);case types._try:return this.parseTryStatement(node);case types._let:case types._const:declaration||this.unexpected();case types._var:return this.parseVarStatement(node,starttype);case types._while:return this.parseWhileStatement(node);case types._with:return this.parseWithStatement(node);case types.braceL:return this.parseBlock();case types.semi:return this.parseEmptyStatement(node);case types._export:case types._import:if(this.hasPlugin("dynamicImport")&&this.lookahead().type===types.parenL)break;return this.options.allowImportExportEverywhere||(topLevel||this.raise(this.state.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.state.start,"'import' and 'export' may appear only with 'sourceType: \"module\"'")),starttype===types._import?this.parseImport(node):this.parseExport(node);case types.name:if("async"===this.state.value){var state=this.state.clone();if(this.next(),this.match(types._function)&&!this.canInsertSemicolon())return this.expect(types._function),this.parseFunction(node,!0,!1,!0);this.state=state}}var maybeName=this.state.value,expr=this.parseExpression();return starttype===types.name&&"Identifier"===expr.type&&this.eat(types.colon)?this.parseLabeledStatement(node,maybeName,expr):this.parseExpressionStatement(node,expr)},pp$1.takeDecorators=function(node){this.state.decorators.length&&(node.decorators=this.state.decorators,this.state.decorators=[])},pp$1.parseDecorators=function(allowExport){for(;this.match(types.at);){var decorator=this.parseDecorator();this.state.decorators.push(decorator)}allowExport&&this.match(types._export)||this.match(types._class)||this.raise(this.state.start,"Leading decorators must be attached to a class declaration")},pp$1.parseDecorator=function(){this.hasPlugin("decorators")||this.unexpected();var node=this.startNode();return this.next(),node.expression=this.parseMaybeAssign(),this.finishNode(node,"Decorator")},pp$1.parseBreakContinueStatement=function(node,keyword){var isBreak="break"===keyword;this.next(),this.isLineTerminator()?node.label=null:this.match(types.name)?(node.label=this.parseIdentifier(),this.semicolon()):this.unexpected();var i=void 0;for(i=0;i<this.state.labels.length;++i){var lab=this.state.labels[i];if(null==node.label||lab.name===node.label.name){if(null!=lab.kind&&(isBreak||"loop"===lab.kind))break;if(node.label&&isBreak)break}}return i===this.state.labels.length&&this.raise(node.start,"Unsyntactic "+keyword),this.finishNode(node,isBreak?"BreakStatement":"ContinueStatement")},pp$1.parseDebuggerStatement=function(node){return this.next(),this.semicolon(),this.finishNode(node,"DebuggerStatement")},pp$1.parseDoStatement=function(node){return this.next(),this.state.labels.push(loopLabel),node.body=this.parseStatement(!1),this.state.labels.pop(),this.expect(types._while),node.test=this.parseParenExpression(),this.eat(types.semi),this.finishNode(node,"DoWhileStatement")},pp$1.parseForStatement=function(node){this.next(),this.state.labels.push(loopLabel);var forAwait=!1;if(this.hasPlugin("asyncGenerators")&&this.state.inAsync&&this.isContextual("await")&&(forAwait=!0,this.next()),this.expect(types.parenL),this.match(types.semi))return forAwait&&this.unexpected(),this.parseFor(node,null);if(this.match(types._var)||this.match(types._let)||this.match(types._const)){var _init=this.startNode(),varKind=this.state.type;return this.next(),(this.parseVar(_init,!0,varKind),this.finishNode(_init,"VariableDeclaration"),!this.match(types._in)&&!this.isContextual("of")||1!==_init.declarations.length||_init.declarations[0].init)?(forAwait&&this.unexpected(),this.parseFor(node,_init)):this.parseForIn(node,_init,forAwait)}var refShorthandDefaultPos={start:0},init=this.parseExpression(!0,refShorthandDefaultPos);if(this.match(types._in)||this.isContextual("of")){var description=this.isContextual("of")?"for-of statement":"for-in statement";return this.toAssignable(init,void 0,description),this.checkLVal(init,void 0,void 0,description),this.parseForIn(node,init,forAwait)}return refShorthandDefaultPos.start&&this.unexpected(refShorthandDefaultPos.start),forAwait&&this.unexpected(),this.parseFor(node,init)},pp$1.parseFunctionStatement=function(node){return this.next(),this.parseFunction(node,!0)},pp$1.parseIfStatement=function(node){return this.next(),node.test=this.parseParenExpression(),node.consequent=this.parseStatement(!1),node.alternate=this.eat(types._else)?this.parseStatement(!1):null,this.finishNode(node,"IfStatement")},pp$1.parseReturnStatement=function(node){return this.state.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.state.start,"'return' outside of function"),this.next(),this.isLineTerminator()?node.argument=null:(node.argument=this.parseExpression(),this.semicolon()),this.finishNode(node,"ReturnStatement")},pp$1.parseSwitchStatement=function(node){this.next(),node.discriminant=this.parseParenExpression(),node.cases=[],this.expect(types.braceL),this.state.labels.push(switchLabel);for(var sawDefault,cur=void 0;!this.match(types.braceR);)if(this.match(types._case)||this.match(types._default)){var isCase=this.match(types._case);cur&&this.finishNode(cur,"SwitchCase"),node.cases.push(cur=this.startNode()),cur.consequent=[],this.next(),isCase?cur.test=this.parseExpression():(sawDefault&&this.raise(this.state.lastTokStart,"Multiple default clauses"),sawDefault=!0,cur.test=null),this.expect(types.colon)}else cur?cur.consequent.push(this.parseStatement(!0)):this.unexpected();return cur&&this.finishNode(cur,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(node,"SwitchStatement")},pp$1.parseThrowStatement=function(node){return this.next(),lineBreak.test(this.input.slice(this.state.lastTokEnd,this.state.start))&&this.raise(this.state.lastTokEnd,"Illegal newline after throw"),node.argument=this.parseExpression(),this.semicolon(),this.finishNode(node,"ThrowStatement")};var empty=[];pp$1.parseTryStatement=function(node){if(this.next(),node.block=this.parseBlock(),node.handler=null,this.match(types._catch)){var clause=this.startNode();this.next(),this.expect(types.parenL),clause.param=this.parseBindingAtom(),this.checkLVal(clause.param,!0,Object.create(null),"catch clause"),this.expect(types.parenR),clause.body=this.parseBlock(),node.handler=this.finishNode(clause,"CatchClause")}return node.guardedHandlers=empty,node.finalizer=this.eat(types._finally)?this.parseBlock():null,node.handler||node.finalizer||this.raise(node.start,"Missing catch or finally clause"),this.finishNode(node,"TryStatement")},pp$1.parseVarStatement=function(node,kind){return this.next(),this.parseVar(node,!1,kind),this.semicolon(),this.finishNode(node,"VariableDeclaration")},pp$1.parseWhileStatement=function(node){return this.next(),node.test=this.parseParenExpression(),this.state.labels.push(loopLabel),node.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(node,"WhileStatement")},pp$1.parseWithStatement=function(node){return this.state.strict&&this.raise(this.state.start,"'with' in strict mode"),this.next(),node.object=this.parseParenExpression(),node.body=this.parseStatement(!1),this.finishNode(node,"WithStatement")},pp$1.parseEmptyStatement=function(node){return this.next(),this.finishNode(node,"EmptyStatement")},pp$1.parseLabeledStatement=function(node,maybeName,expr){for(var _iterator=this.state.labels,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}_ref.name===maybeName&&this.raise(expr.start,"Label '"+maybeName+"' is already declared")}for(var kind=this.state.type.isLoop?"loop":this.match(types._switch)?"switch":null,i=this.state.labels.length-1;i>=0;i--){var label=this.state.labels[i];if(label.statementStart!==node.start)break;label.statementStart=this.state.start,label.kind=kind}return this.state.labels.push({name:maybeName,kind:kind,statementStart:this.state.start}),node.body=this.parseStatement(!0),this.state.labels.pop(),node.label=expr,this.finishNode(node,"LabeledStatement")},pp$1.parseExpressionStatement=function(node,expr){return node.expression=expr,this.semicolon(),this.finishNode(node,"ExpressionStatement")},pp$1.parseBlock=function(allowDirectives){var node=this.startNode();return this.expect(types.braceL),this.parseBlockBody(node,allowDirectives,!1,types.braceR),this.finishNode(node,"BlockStatement")},pp$1.isValidDirective=function(stmt){return"ExpressionStatement"===stmt.type&&"StringLiteral"===stmt.expression.type&&!stmt.expression.extra.parenthesized},pp$1.parseBlockBody=function(node,allowDirectives,topLevel,end){node.body=[],node.directives=[];for(var parsedNonDirective=!1,oldStrict=void 0,octalPosition=void 0;!this.eat(end);){parsedNonDirective||!this.state.containsOctal||octalPosition||(octalPosition=this.state.octalPosition);var stmt=this.parseStatement(!0,topLevel);if(allowDirectives&&!parsedNonDirective&&this.isValidDirective(stmt)){var directive=this.stmtToDirective(stmt);node.directives.push(directive),void 0===oldStrict&&"use strict"===directive.value.value&&(oldStrict=this.state.strict,this.setStrict(!0),octalPosition&&this.raise(octalPosition,"Octal literal in strict mode"))}else parsedNonDirective=!0,node.body.push(stmt)}!1===oldStrict&&this.setStrict(!1)},pp$1.parseFor=function(node,init){return node.init=init,this.expect(types.semi),node.test=this.match(types.semi)?null:this.parseExpression(),this.expect(types.semi),node.update=this.match(types.parenR)?null:this.parseExpression(),this.expect(types.parenR),node.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(node,"ForStatement")},pp$1.parseForIn=function(node,init,forAwait){var type=void 0;return forAwait?(this.eatContextual("of"),type="ForAwaitStatement"):(type=this.match(types._in)?"ForInStatement":"ForOfStatement",this.next()),node.left=init,node.right=this.parseExpression(),this.expect(types.parenR),node.body=this.parseStatement(!1),this.state.labels.pop(),this.finishNode(node,type)},pp$1.parseVar=function(node,isFor,kind){for(node.declarations=[],node.kind=kind.keyword;;){var decl=this.startNode();if(this.parseVarHead(decl),
this.eat(types.eq)?decl.init=this.parseMaybeAssign(isFor):kind!==types._const||this.match(types._in)||this.isContextual("of")?"Identifier"===decl.id.type||isFor&&(this.match(types._in)||this.isContextual("of"))?decl.init=null:this.raise(this.state.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),node.declarations.push(this.finishNode(decl,"VariableDeclarator")),!this.eat(types.comma))break}return node},pp$1.parseVarHead=function(decl){decl.id=this.parseBindingAtom(),this.checkLVal(decl.id,!0,void 0,"variable declaration")},pp$1.parseFunction=function(node,isStatement,allowExpressionBody,isAsync,optionalId){var oldInMethod=this.state.inMethod;return this.state.inMethod=!1,this.initFunction(node,isAsync),this.match(types.star)&&(node.async&&!this.hasPlugin("asyncGenerators")?this.unexpected():(node.generator=!0,this.next())),!isStatement||optionalId||this.match(types.name)||this.match(types._yield)||this.unexpected(),(this.match(types.name)||this.match(types._yield))&&(node.id=this.parseBindingIdentifier()),this.parseFunctionParams(node),this.parseFunctionBody(node,allowExpressionBody),this.state.inMethod=oldInMethod,this.finishNode(node,isStatement?"FunctionDeclaration":"FunctionExpression")},pp$1.parseFunctionParams=function(node){this.expect(types.parenL),node.params=this.parseBindingList(types.parenR)},pp$1.parseClass=function(node,isStatement,optionalId){return this.next(),this.takeDecorators(node),this.parseClassId(node,isStatement,optionalId),this.parseClassSuper(node),this.parseClassBody(node),this.finishNode(node,isStatement?"ClassDeclaration":"ClassExpression")},pp$1.isClassProperty=function(){return this.match(types.eq)||this.match(types.semi)||this.match(types.braceR)},pp$1.isClassMethod=function(){return this.match(types.parenL)},pp$1.isNonstaticConstructor=function(method){return!(method.computed||method.static||"constructor"!==method.key.name&&"constructor"!==method.key.value)},pp$1.parseClassBody=function(node){var oldStrict=this.state.strict;this.state.strict=!0;var hadConstructorCall=!1,hadConstructor=!1,decorators=[],classBody=this.startNode();for(classBody.body=[],this.expect(types.braceL);!this.eat(types.braceR);)if(this.eat(types.semi))decorators.length>0&&this.raise(this.state.lastTokEnd,"Decorators must not be followed by a semicolon");else if(this.match(types.at))decorators.push(this.parseDecorator());else{var method=this.startNode();if(decorators.length&&(method.decorators=decorators,decorators=[]),method.static=!1,this.match(types.name)&&"static"===this.state.value){var key=this.parseIdentifier(!0);if(this.isClassMethod()){method.kind="method",method.computed=!1,method.key=key,this.parseClassMethod(classBody,method,!1,!1);continue}if(this.isClassProperty()){method.computed=!1,method.key=key,classBody.body.push(this.parseClassProperty(method));continue}method.static=!0}if(this.eat(types.star))method.kind="method",this.parsePropertyName(method),this.isNonstaticConstructor(method)&&this.raise(method.key.start,"Constructor can't be a generator"),method.computed||!method.static||"prototype"!==method.key.name&&"prototype"!==method.key.value||this.raise(method.key.start,"Classes may not have static property named prototype"),this.parseClassMethod(classBody,method,!0,!1);else{var isSimple=this.match(types.name),_key=this.parsePropertyName(method);if(method.computed||!method.static||"prototype"!==method.key.name&&"prototype"!==method.key.value||this.raise(method.key.start,"Classes may not have static property named prototype"),this.isClassMethod())this.isNonstaticConstructor(method)?(hadConstructor?this.raise(_key.start,"Duplicate constructor in the same class"):method.decorators&&this.raise(method.start,"You can't attach decorators to a class constructor"),hadConstructor=!0,method.kind="constructor"):method.kind="method",this.parseClassMethod(classBody,method,!1,!1);else if(this.isClassProperty())this.isNonstaticConstructor(method)&&this.raise(method.key.start,"Classes may not have a non-static field named 'constructor'"),classBody.body.push(this.parseClassProperty(method));else if(isSimple&&"async"===_key.name&&!this.isLineTerminator()){var isGenerator=this.hasPlugin("asyncGenerators")&&this.eat(types.star);method.kind="method",this.parsePropertyName(method),this.isNonstaticConstructor(method)&&this.raise(method.key.start,"Constructor can't be an async function"),this.parseClassMethod(classBody,method,isGenerator,!0)}else!isSimple||"get"!==_key.name&&"set"!==_key.name||this.isLineTerminator()&&this.match(types.star)?this.hasPlugin("classConstructorCall")&&isSimple&&"call"===_key.name&&this.match(types.name)&&"constructor"===this.state.value?(hadConstructorCall?this.raise(method.start,"Duplicate constructor call in the same class"):method.decorators&&this.raise(method.start,"You can't attach decorators to a class constructor"),hadConstructorCall=!0,method.kind="constructorCall",this.parsePropertyName(method),this.parseClassMethod(classBody,method,!1,!1)):this.isLineTerminator()?(this.isNonstaticConstructor(method)&&this.raise(method.key.start,"Classes may not have a non-static field named 'constructor'"),classBody.body.push(this.parseClassProperty(method))):this.unexpected():(method.kind=_key.name,this.parsePropertyName(method),this.isNonstaticConstructor(method)&&this.raise(method.key.start,"Constructor can't have get/set modifier"),this.parseClassMethod(classBody,method,!1,!1),this.checkGetterSetterParamCount(method))}}decorators.length&&this.raise(this.state.start,"You have trailing decorators with no method"),node.body=this.finishNode(classBody,"ClassBody"),this.state.strict=oldStrict},pp$1.parseClassProperty=function(node){return this.state.inClassProperty=!0,this.match(types.eq)?(this.hasPlugin("classProperties")||this.unexpected(),this.next(),node.value=this.parseMaybeAssign()):node.value=null,this.semicolon(),this.state.inClassProperty=!1,this.finishNode(node,"ClassProperty")},pp$1.parseClassMethod=function(classBody,method,isGenerator,isAsync){this.parseMethod(method,isGenerator,isAsync),classBody.body.push(this.finishNode(method,"ClassMethod"))},pp$1.parseClassId=function(node,isStatement,optionalId){this.match(types.name)?node.id=this.parseIdentifier():optionalId||!isStatement?node.id=null:this.unexpected()},pp$1.parseClassSuper=function(node){node.superClass=this.eat(types._extends)?this.parseExprSubscripts():null},pp$1.parseExport=function(node){if(this.next(),this.match(types.star)){var specifier=this.startNode();if(this.next(),!this.hasPlugin("exportExtensions")||!this.eatContextual("as"))return this.parseExportFrom(node,!0),this.finishNode(node,"ExportAllDeclaration");specifier.exported=this.parseIdentifier(),node.specifiers=[this.finishNode(specifier,"ExportNamespaceSpecifier")],this.parseExportSpecifiersMaybe(node),this.parseExportFrom(node,!0)}else if(this.hasPlugin("exportExtensions")&&this.isExportDefaultSpecifier()){var _specifier=this.startNode();if(_specifier.exported=this.parseIdentifier(!0),node.specifiers=[this.finishNode(_specifier,"ExportDefaultSpecifier")],this.match(types.comma)&&this.lookahead().type===types.star){this.expect(types.comma);var _specifier2=this.startNode();this.expect(types.star),this.expectContextual("as"),_specifier2.exported=this.parseIdentifier(),node.specifiers.push(this.finishNode(_specifier2,"ExportNamespaceSpecifier"))}else this.parseExportSpecifiersMaybe(node);this.parseExportFrom(node,!0)}else{if(this.eat(types._default)){var expr=this.startNode(),needsSemi=!1;return this.eat(types._function)?expr=this.parseFunction(expr,!0,!1,!1,!0):this.match(types._class)?expr=this.parseClass(expr,!0,!0):(needsSemi=!0,expr=this.parseMaybeAssign()),node.declaration=expr,needsSemi&&this.semicolon(),this.checkExport(node,!0,!0),this.finishNode(node,"ExportDefaultDeclaration")}this.shouldParseExportDeclaration()?(node.specifiers=[],node.source=null,node.declaration=this.parseExportDeclaration(node)):(node.declaration=null,node.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(node))}return this.checkExport(node,!0),this.finishNode(node,"ExportNamedDeclaration")},pp$1.parseExportDeclaration=function(){return this.parseStatement(!0)},pp$1.isExportDefaultSpecifier=function(){if(this.match(types.name))return"async"!==this.state.value;if(!this.match(types._default))return!1;var lookahead=this.lookahead();return lookahead.type===types.comma||lookahead.type===types.name&&"from"===lookahead.value},pp$1.parseExportSpecifiersMaybe=function(node){this.eat(types.comma)&&(node.specifiers=node.specifiers.concat(this.parseExportSpecifiers()))},pp$1.parseExportFrom=function(node,expect){this.eatContextual("from")?(node.source=this.match(types.string)?this.parseExprAtom():this.unexpected(),this.checkExport(node)):expect?this.unexpected():node.source=null,this.semicolon()},pp$1.shouldParseExportDeclaration=function(){return"var"===this.state.type.keyword||"const"===this.state.type.keyword||"let"===this.state.type.keyword||"function"===this.state.type.keyword||"class"===this.state.type.keyword||this.isContextual("async")},pp$1.checkExport=function(node,checkNames,isDefault){if(checkNames)if(isDefault)this.checkDuplicateExports(node,"default");else if(node.specifiers&&node.specifiers.length)for(var _iterator2=node.specifiers,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var specifier=_ref2;this.checkDuplicateExports(specifier,specifier.exported.name)}else if(node.declaration)if("FunctionDeclaration"===node.declaration.type||"ClassDeclaration"===node.declaration.type)this.checkDuplicateExports(node,node.declaration.id.name);else if("VariableDeclaration"===node.declaration.type)for(var _iterator3=node.declaration.declarations,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var declaration=_ref3;this.checkDeclaration(declaration.id)}if(this.state.decorators.length){var isClass=node.declaration&&("ClassDeclaration"===node.declaration.type||"ClassExpression"===node.declaration.type);node.declaration&&isClass||this.raise(node.start,"You can only use decorators on an export when exporting a class"),this.takeDecorators(node.declaration)}},pp$1.checkDeclaration=function(node){if("ObjectPattern"===node.type)for(var _iterator4=node.properties,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var prop=_ref4;this.checkDeclaration(prop)}else if("ArrayPattern"===node.type)for(var _iterator5=node.elements,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++]}else{if(_i5=_iterator5.next(),_i5.done)break;_ref5=_i5.value}var elem=_ref5;elem&&this.checkDeclaration(elem)}else"ObjectProperty"===node.type?this.checkDeclaration(node.value):"RestElement"===node.type||"RestProperty"===node.type?this.checkDeclaration(node.argument):"Identifier"===node.type&&this.checkDuplicateExports(node,node.name)},pp$1.checkDuplicateExports=function(node,name){this.state.exportedIdentifiers.indexOf(name)>-1&&this.raiseDuplicateExportError(node,name),this.state.exportedIdentifiers.push(name)},pp$1.raiseDuplicateExportError=function(node,name){this.raise(node.start,"default"===name?"Only one default export allowed per module.":"`"+name+"` has already been exported. Exported identifiers must be unique.")},pp$1.parseExportSpecifiers=function(){var nodes=[],first=!0,needsFrom=void 0;for(this.expect(types.braceL);!this.eat(types.braceR);){if(first)first=!1;else if(this.expect(types.comma),this.eat(types.braceR))break;var isDefault=this.match(types._default);isDefault&&!needsFrom&&(needsFrom=!0);var node=this.startNode();node.local=this.parseIdentifier(isDefault),node.exported=this.eatContextual("as")?this.parseIdentifier(!0):node.local.__clone(),nodes.push(this.finishNode(node,"ExportSpecifier"))}return needsFrom&&!this.isContextual("from")&&this.unexpected(),nodes},pp$1.parseImport=function(node){return this.eat(types._import),this.match(types.string)?(node.specifiers=[],node.source=this.parseExprAtom()):(node.specifiers=[],this.parseImportSpecifiers(node),this.expectContextual("from"),node.source=this.match(types.string)?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(node,"ImportDeclaration")},pp$1.parseImportSpecifiers=function(node){var first=!0;if(this.match(types.name)){var startPos=this.state.start,startLoc=this.state.startLoc;if(node.specifiers.push(this.parseImportSpecifierDefault(this.parseIdentifier(),startPos,startLoc)),!this.eat(types.comma))return}if(this.match(types.star)){var specifier=this.startNode();return this.next(),this.expectContextual("as"),specifier.local=this.parseIdentifier(),this.checkLVal(specifier.local,!0,void 0,"import namespace specifier"),void node.specifiers.push(this.finishNode(specifier,"ImportNamespaceSpecifier"))}for(this.expect(types.braceL);!this.eat(types.braceR);){if(first)first=!1;else if(this.eat(types.colon)&&this.unexpected(null,"ES2015 named imports do not destructure. Use another statement for destructuring after the import."),this.expect(types.comma),this.eat(types.braceR))break;this.parseImportSpecifier(node)}},pp$1.parseImportSpecifier=function(node){var specifier=this.startNode();specifier.imported=this.parseIdentifier(!0),this.eatContextual("as")?specifier.local=this.parseIdentifier():(this.checkReservedWord(specifier.imported.name,specifier.start,!0,!0),specifier.local=specifier.imported.__clone()),this.checkLVal(specifier.local,!0,void 0,"import specifier"),node.specifiers.push(this.finishNode(specifier,"ImportSpecifier"))},pp$1.parseImportSpecifierDefault=function(id,startPos,startLoc){var node=this.startNodeAt(startPos,startLoc);return node.local=id,this.checkLVal(node.local,!0,void 0,"default import specifier"),this.finishNode(node,"ImportDefaultSpecifier")};var pp$2=Parser.prototype;pp$2.toAssignable=function(node,isBinding,contextDescription){if(node)switch(node.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":node.type="ObjectPattern";for(var _iterator=node.properties,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var prop=_ref;"ObjectMethod"===prop.type?"get"===prop.kind||"set"===prop.kind?this.raise(prop.key.start,"Object pattern can't contain getter or setter"):this.raise(prop.key.start,"Object pattern can't contain methods"):this.toAssignable(prop,isBinding,"object destructuring pattern")}break;case"ObjectProperty":this.toAssignable(node.value,isBinding,contextDescription);break;case"SpreadProperty":node.type="RestProperty";var arg=node.argument;this.toAssignable(arg,isBinding,contextDescription);break;case"ArrayExpression":node.type="ArrayPattern",this.toAssignableList(node.elements,isBinding,contextDescription);break;case"AssignmentExpression":"="===node.operator?(node.type="AssignmentPattern",delete node.operator):this.raise(node.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!isBinding)break;default:var message="Invalid left-hand side"+(contextDescription?" in "+contextDescription:"expression");this.raise(node.start,message)}return node},pp$2.toAssignableList=function(exprList,isBinding,contextDescription){var end=exprList.length;if(end){var last=exprList[end-1];if(last&&"RestElement"===last.type)--end;else if(last&&"SpreadElement"===last.type){last.type="RestElement";var arg=last.argument;this.toAssignable(arg,isBinding,contextDescription),"Identifier"!==arg.type&&"MemberExpression"!==arg.type&&"ArrayPattern"!==arg.type&&this.unexpected(arg.start),--end}}for(var i=0;i<end;i++){var elt=exprList[i];elt&&this.toAssignable(elt,isBinding,contextDescription)}return exprList},pp$2.toReferencedList=function(exprList){return exprList},pp$2.parseSpread=function(refShorthandDefaultPos){var node=this.startNode();return this.next(),node.argument=this.parseMaybeAssign(!1,refShorthandDefaultPos),this.finishNode(node,"SpreadElement")},pp$2.parseRest=function(){var node=this.startNode();return this.next(),node.argument=this.parseBindingIdentifier(),this.finishNode(node,"RestElement")},pp$2.shouldAllowYieldIdentifier=function(){return this.match(types._yield)&&!this.state.strict&&!this.state.inGenerator},pp$2.parseBindingIdentifier=function(){return this.parseIdentifier(this.shouldAllowYieldIdentifier())},pp$2.parseBindingAtom=function(){switch(this.state.type){case types._yield:(this.state.strict||this.state.inGenerator)&&this.unexpected();case types.name:return this.parseIdentifier(!0);case types.bracketL:var node=this.startNode();return this.next(),node.elements=this.parseBindingList(types.bracketR,!0),this.finishNode(node,"ArrayPattern");case types.braceL:return this.parseObj(!0);default:this.unexpected()}},pp$2.parseBindingList=function(close,allowEmpty){for(var elts=[],first=!0;!this.eat(close);)if(first?first=!1:this.expect(types.comma),allowEmpty&&this.match(types.comma))elts.push(null);else{if(this.eat(close))break;if(this.match(types.ellipsis)){elts.push(this.parseAssignableListItemTypes(this.parseRest())),this.expect(close);break}for(var decorators=[];this.match(types.at);)decorators.push(this.parseDecorator());var left=this.parseMaybeDefault();decorators.length&&(left.decorators=decorators),this.parseAssignableListItemTypes(left),elts.push(this.parseMaybeDefault(left.start,left.loc.start,left))}return elts},pp$2.parseAssignableListItemTypes=function(param){return param},pp$2.parseMaybeDefault=function(startPos,startLoc,left){if(startLoc=startLoc||this.state.startLoc,startPos=startPos||this.state.start,left=left||this.parseBindingAtom(),!this.eat(types.eq))return left;var node=this.startNodeAt(startPos,startLoc);return node.left=left,node.right=this.parseMaybeAssign(),this.finishNode(node,"AssignmentPattern")},pp$2.checkLVal=function(expr,isBinding,checkClashes,contextDescription){switch(expr.type){case"Identifier":if(this.checkReservedWord(expr.name,expr.start,!1,!0),checkClashes){var key="_"+expr.name;checkClashes[key]?this.raise(expr.start,"Argument name clash in strict mode"):checkClashes[key]=!0}break;case"MemberExpression":isBinding&&this.raise(expr.start,(isBinding?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var _iterator2=expr.properties,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var prop=_ref2;"ObjectProperty"===prop.type&&(prop=prop.value),this.checkLVal(prop,isBinding,checkClashes,"object destructuring pattern")}break;case"ArrayPattern":for(var _iterator3=expr.elements,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var elem=_ref3;elem&&this.checkLVal(elem,isBinding,checkClashes,"array destructuring pattern")}break;case"AssignmentPattern":this.checkLVal(expr.left,isBinding,checkClashes,"assignment pattern");break;case"RestProperty":this.checkLVal(expr.argument,isBinding,checkClashes,"rest property");break;case"RestElement":this.checkLVal(expr.argument,isBinding,checkClashes,"rest element");break;default:var message=(isBinding?"Binding invalid":"Invalid")+" left-hand side"+(contextDescription?" in "+contextDescription:"expression");this.raise(expr.start,message)}};var pp$3=Parser.prototype;pp$3.checkPropClash=function(prop,propHash){if(!prop.computed&&!prop.kind){var key=prop.key;"__proto__"===("Identifier"===key.type?key.name:String(key.value))&&(propHash.proto&&this.raise(key.start,"Redefinition of __proto__ property"),propHash.proto=!0)}},pp$3.getExpression=function(){this.nextToken();var expr=this.parseExpression();return this.match(types.eof)||this.unexpected(),expr},pp$3.parseExpression=function(noIn,refShorthandDefaultPos){var startPos=this.state.start,startLoc=this.state.startLoc,expr=this.parseMaybeAssign(noIn,refShorthandDefaultPos);if(this.match(types.comma)){var node=this.startNodeAt(startPos,startLoc);for(node.expressions=[expr];this.eat(types.comma);)node.expressions.push(this.parseMaybeAssign(noIn,refShorthandDefaultPos));return this.toReferencedList(node.expressions),this.finishNode(node,"SequenceExpression")}return expr},pp$3.parseMaybeAssign=function(noIn,refShorthandDefaultPos,afterLeftParse,refNeedsArrowPos){var startPos=this.state.start,startLoc=this.state.startLoc;if(this.match(types._yield)&&this.state.inGenerator){var _left=this.parseYield();return afterLeftParse&&(_left=afterLeftParse.call(this,_left,startPos,startLoc)),_left}var failOnShorthandAssign=void 0;refShorthandDefaultPos?failOnShorthandAssign=!1:(refShorthandDefaultPos={start:0},failOnShorthandAssign=!0),(this.match(types.parenL)||this.match(types.name))&&(this.state.potentialArrowAt=this.state.start);var left=this.parseMaybeConditional(noIn,refShorthandDefaultPos,refNeedsArrowPos);if(afterLeftParse&&(left=afterLeftParse.call(this,left,startPos,startLoc)),this.state.type.isAssign){var node=this.startNodeAt(startPos,startLoc);if(node.operator=this.state.value,node.left=this.match(types.eq)?this.toAssignable(left,void 0,"assignment expression"):left,refShorthandDefaultPos.start=0,this.checkLVal(left,void 0,void 0,"assignment expression"),left.extra&&left.extra.parenthesized){var errorMsg=void 0;"ObjectPattern"===left.type?errorMsg="`({a}) = 0` use `({a} = 0)`":"ArrayPattern"===left.type&&(errorMsg="`([a]) = 0` use `([a] = 0)`"),errorMsg&&this.raise(left.start,"You're trying to assign to a parenthesized expression, eg. instead of "+errorMsg)}return this.next(),node.right=this.parseMaybeAssign(noIn),this.finishNode(node,"AssignmentExpression")}return failOnShorthandAssign&&refShorthandDefaultPos.start&&this.unexpected(refShorthandDefaultPos.start),left},pp$3.parseMaybeConditional=function(noIn,refShorthandDefaultPos,refNeedsArrowPos){var startPos=this.state.start,startLoc=this.state.startLoc,expr=this.parseExprOps(noIn,refShorthandDefaultPos);return refShorthandDefaultPos&&refShorthandDefaultPos.start?expr:this.parseConditional(expr,noIn,startPos,startLoc,refNeedsArrowPos)},pp$3.parseConditional=function(expr,noIn,startPos,startLoc){if(this.eat(types.question)){var node=this.startNodeAt(startPos,startLoc);return node.test=expr,node.consequent=this.parseMaybeAssign(),this.expect(types.colon),node.alternate=this.parseMaybeAssign(noIn),this.finishNode(node,"ConditionalExpression")}return expr},pp$3.parseExprOps=function(noIn,refShorthandDefaultPos){var startPos=this.state.start,startLoc=this.state.startLoc,expr=this.parseMaybeUnary(refShorthandDefaultPos);return refShorthandDefaultPos&&refShorthandDefaultPos.start?expr:this.parseExprOp(expr,startPos,startLoc,-1,noIn)},pp$3.parseExprOp=function(left,leftStartPos,leftStartLoc,minPrec,noIn){var prec=this.state.type.binop;if(!(null==prec||noIn&&this.match(types._in))&&prec>minPrec){var node=this.startNodeAt(leftStartPos,leftStartLoc);node.left=left,node.operator=this.state.value,"**"!==node.operator||"UnaryExpression"!==left.type||!left.extra||left.extra.parenthesizedArgument||left.extra.parenthesized||this.raise(left.argument.start,"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.");var op=this.state.type;this.next();var startPos=this.state.start,startLoc=this.state.startLoc;return node.right=this.parseExprOp(this.parseMaybeUnary(),startPos,startLoc,op.rightAssociative?prec-1:prec,noIn),this.finishNode(node,op===types.logicalOR||op===types.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(node,leftStartPos,leftStartLoc,minPrec,noIn)}return left},pp$3.parseMaybeUnary=function(refShorthandDefaultPos){if(this.state.type.prefix){var node=this.startNode(),update=this.match(types.incDec);node.operator=this.state.value,node.prefix=!0,this.next();var argType=this.state.type;return node.argument=this.parseMaybeUnary(),this.addExtra(node,"parenthesizedArgument",!(argType!==types.parenL||node.argument.extra&&node.argument.extra.parenthesized)),refShorthandDefaultPos&&refShorthandDefaultPos.start&&this.unexpected(refShorthandDefaultPos.start),update?this.checkLVal(node.argument,void 0,void 0,"prefix operation"):this.state.strict&&"delete"===node.operator&&"Identifier"===node.argument.type&&this.raise(node.start,"Deleting local variable in strict mode"),this.finishNode(node,update?"UpdateExpression":"UnaryExpression")}var startPos=this.state.start,startLoc=this.state.startLoc,expr=this.parseExprSubscripts(refShorthandDefaultPos);if(refShorthandDefaultPos&&refShorthandDefaultPos.start)return expr;for(;this.state.type.postfix&&!this.canInsertSemicolon();){var _node=this.startNodeAt(startPos,startLoc);_node.operator=this.state.value,_node.prefix=!1,_node.argument=expr,this.checkLVal(expr,void 0,void 0,"postfix operation"),this.next(),expr=this.finishNode(_node,"UpdateExpression")}return expr},pp$3.parseExprSubscripts=function(refShorthandDefaultPos){var startPos=this.state.start,startLoc=this.state.startLoc,potentialArrowAt=this.state.potentialArrowAt,expr=this.parseExprAtom(refShorthandDefaultPos);return"ArrowFunctionExpression"===expr.type&&expr.start===potentialArrowAt?expr:refShorthandDefaultPos&&refShorthandDefaultPos.start?expr:this.parseSubscripts(expr,startPos,startLoc)},pp$3.parseSubscripts=function(base,startPos,startLoc,noCalls){for(;;){if(!noCalls&&this.eat(types.doubleColon)){var node=this.startNodeAt(startPos,startLoc);return node.object=base,node.callee=this.parseNoCallExpr(),this.parseSubscripts(this.finishNode(node,"BindExpression"),startPos,startLoc,noCalls)}if(this.eat(types.dot)){var _node2=this.startNodeAt(startPos,startLoc);_node2.object=base,_node2.property=this.parseIdentifier(!0),_node2.computed=!1,base=this.finishNode(_node2,"MemberExpression")}else if(this.eat(types.bracketL)){var _node3=this.startNodeAt(startPos,startLoc);_node3.object=base,_node3.property=this.parseExpression(),_node3.computed=!0,this.expect(types.bracketR),base=this.finishNode(_node3,"MemberExpression")}else if(!noCalls&&this.match(types.parenL)){var possibleAsync=this.state.potentialArrowAt===base.start&&"Identifier"===base.type&&"async"===base.name&&!this.canInsertSemicolon();this.next();var _node4=this.startNodeAt(startPos,startLoc);if(_node4.callee=base,_node4.arguments=this.parseCallExpressionArguments(types.parenR,possibleAsync),"Import"===_node4.callee.type&&1!==_node4.arguments.length&&this.raise(_node4.start,"import() requires exactly one argument"),base=this.finishNode(_node4,"CallExpression"),possibleAsync&&this.shouldParseAsyncArrow())return this.parseAsyncArrowFromCallExpression(this.startNodeAt(startPos,startLoc),_node4);this.toReferencedList(_node4.arguments)}else{if(!this.match(types.backQuote))return base;var _node5=this.startNodeAt(startPos,startLoc);_node5.tag=base,_node5.quasi=this.parseTemplate(!0),base=this.finishNode(_node5,"TaggedTemplateExpression")}}},pp$3.parseCallExpressionArguments=function(close,possibleAsyncArrow){for(var elts=[],innerParenStart=void 0,first=!0;!this.eat(close);){if(first)first=!1;else if(this.expect(types.comma),this.eat(close))break;this.match(types.parenL)&&!innerParenStart&&(innerParenStart=this.state.start),elts.push(this.parseExprListItem(!1,possibleAsyncArrow?{start:0}:void 0,possibleAsyncArrow?{start:0}:void 0))}return possibleAsyncArrow&&innerParenStart&&this.shouldParseAsyncArrow()&&this.unexpected(),elts},pp$3.shouldParseAsyncArrow=function(){return this.match(types.arrow)},pp$3.parseAsyncArrowFromCallExpression=function(node,call){return this.expect(types.arrow),this.parseArrowExpression(node,call.arguments,!0)},pp$3.parseNoCallExpr=function(){var startPos=this.state.start,startLoc=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),startPos,startLoc,!0)},pp$3.parseExprAtom=function(refShorthandDefaultPos){var canBeArrow=this.state.potentialArrowAt===this.state.start,node=void 0;switch(this.state.type){case types._super:return this.state.inMethod||this.state.inClassProperty||this.options.allowSuperOutsideMethod||this.raise(this.state.start,"'super' outside of function or class"),node=this.startNode(),this.next(),this.match(types.parenL)||this.match(types.bracketL)||this.match(types.dot)||this.unexpected(),this.match(types.parenL)&&"constructor"!==this.state.inMethod&&!this.options.allowSuperOutsideMethod&&this.raise(node.start,"super() outside of class constructor"),this.finishNode(node,"Super");case types._import:return this.hasPlugin("dynamicImport")||this.unexpected(),node=this.startNode(),this.next(),this.match(types.parenL)||this.unexpected(null,types.parenL),this.finishNode(node,"Import");case types._this:return node=this.startNode(),this.next(),this.finishNode(node,"ThisExpression");case types._yield:this.state.inGenerator&&this.unexpected();case types.name:node=this.startNode();var allowAwait="await"===this.state.value&&this.state.inAsync,allowYield=this.shouldAllowYieldIdentifier(),id=this.parseIdentifier(allowAwait||allowYield);if("await"===id.name){if(this.state.inAsync||this.inModule)return this.parseAwait(node)}else{if("async"===id.name&&this.match(types._function)&&!this.canInsertSemicolon())return this.next(),this.parseFunction(node,!1,!1,!0);if(canBeArrow&&"async"===id.name&&this.match(types.name)){var params=[this.parseIdentifier()];return this.expect(types.arrow),this.parseArrowExpression(node,params,!0)}}return canBeArrow&&!this.canInsertSemicolon()&&this.eat(types.arrow)?this.parseArrowExpression(node,[id]):id;case types._do:if(this.hasPlugin("doExpressions")){var _node6=this.startNode();this.next();var oldInFunction=this.state.inFunction,oldLabels=this.state.labels;return this.state.labels=[],this.state.inFunction=!1,_node6.body=this.parseBlock(!1,!0),this.state.inFunction=oldInFunction,this.state.labels=oldLabels,this.finishNode(_node6,"DoExpression")}case types.regexp:var value=this.state.value;return node=this.parseLiteral(value.value,"RegExpLiteral"),node.pattern=value.pattern,node.flags=value.flags,node;case types.num:return this.parseLiteral(this.state.value,"NumericLiteral");case types.string:return this.parseLiteral(this.state.value,"StringLiteral");case types._null:return node=this.startNode(),this.next(),this.finishNode(node,"NullLiteral");case types._true:case types._false:return node=this.startNode(),node.value=this.match(types._true),this.next(),this.finishNode(node,"BooleanLiteral");case types.parenL:return this.parseParenAndDistinguishExpression(null,null,canBeArrow);case types.bracketL:return node=this.startNode(),this.next(),node.elements=this.parseExprList(types.bracketR,!0,refShorthandDefaultPos),this.toReferencedList(node.elements),this.finishNode(node,"ArrayExpression");case types.braceL:return this.parseObj(!1,refShorthandDefaultPos);case types._function:return this.parseFunctionExpression();case types.at:this.parseDecorators();case types._class:return node=this.startNode(),this.takeDecorators(node),this.parseClass(node,!1);case types._new:return this.parseNew();case types.backQuote:return this.parseTemplate(!1);case types.doubleColon:node=this.startNode(),this.next(),node.object=null
;var callee=node.callee=this.parseNoCallExpr();if("MemberExpression"===callee.type)return this.finishNode(node,"BindExpression");this.raise(callee.start,"Binding should be performed on object property.");default:this.unexpected()}},pp$3.parseFunctionExpression=function(){var node=this.startNode(),meta=this.parseIdentifier(!0);return this.state.inGenerator&&this.eat(types.dot)&&this.hasPlugin("functionSent")?this.parseMetaProperty(node,meta,"sent"):this.parseFunction(node,!1)},pp$3.parseMetaProperty=function(node,meta,propertyName){return node.meta=meta,node.property=this.parseIdentifier(!0),node.property.name!==propertyName&&this.raise(node.property.start,"The only valid meta property for new is "+meta.name+"."+propertyName),this.finishNode(node,"MetaProperty")},pp$3.parseLiteral=function(value,type,startPos,startLoc){startPos=startPos||this.state.start,startLoc=startLoc||this.state.startLoc;var node=this.startNodeAt(startPos,startLoc);return this.addExtra(node,"rawValue",value),this.addExtra(node,"raw",this.input.slice(startPos,this.state.end)),node.value=value,this.next(),this.finishNode(node,type)},pp$3.parseParenExpression=function(){this.expect(types.parenL);var val=this.parseExpression();return this.expect(types.parenR),val},pp$3.parseParenAndDistinguishExpression=function(startPos,startLoc,canBeArrow){startPos=startPos||this.state.start,startLoc=startLoc||this.state.startLoc;var val=void 0;this.expect(types.parenL);for(var innerStartPos=this.state.start,innerStartLoc=this.state.startLoc,exprList=[],refShorthandDefaultPos={start:0},refNeedsArrowPos={start:0},first=!0,spreadStart=void 0,optionalCommaStart=void 0;!this.match(types.parenR);){if(first)first=!1;else if(this.expect(types.comma,refNeedsArrowPos.start||null),this.match(types.parenR)){optionalCommaStart=this.state.start;break}if(this.match(types.ellipsis)){var spreadNodeStartPos=this.state.start,spreadNodeStartLoc=this.state.startLoc;spreadStart=this.state.start,exprList.push(this.parseParenItem(this.parseRest(),spreadNodeStartPos,spreadNodeStartLoc));break}exprList.push(this.parseMaybeAssign(!1,refShorthandDefaultPos,this.parseParenItem,refNeedsArrowPos))}var innerEndPos=this.state.start,innerEndLoc=this.state.startLoc;this.expect(types.parenR);var arrowNode=this.startNodeAt(startPos,startLoc);if(canBeArrow&&this.shouldParseArrow()&&(arrowNode=this.parseArrow(arrowNode))){for(var _iterator=exprList,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var param=_ref;param.extra&&param.extra.parenthesized&&this.unexpected(param.extra.parenStart)}return this.parseArrowExpression(arrowNode,exprList)}return exprList.length||this.unexpected(this.state.lastTokStart),optionalCommaStart&&this.unexpected(optionalCommaStart),spreadStart&&this.unexpected(spreadStart),refShorthandDefaultPos.start&&this.unexpected(refShorthandDefaultPos.start),refNeedsArrowPos.start&&this.unexpected(refNeedsArrowPos.start),exprList.length>1?(val=this.startNodeAt(innerStartPos,innerStartLoc),val.expressions=exprList,this.toReferencedList(val.expressions),this.finishNodeAt(val,"SequenceExpression",innerEndPos,innerEndLoc)):val=exprList[0],this.addExtra(val,"parenthesized",!0),this.addExtra(val,"parenStart",startPos),val},pp$3.shouldParseArrow=function(){return!this.canInsertSemicolon()},pp$3.parseArrow=function(node){if(this.eat(types.arrow))return node},pp$3.parseParenItem=function(node){return node},pp$3.parseNew=function(){var node=this.startNode(),meta=this.parseIdentifier(!0);if(this.eat(types.dot)){var metaProp=this.parseMetaProperty(node,meta,"target");return this.state.inFunction||this.raise(metaProp.property.start,"new.target can only be used in functions"),metaProp}return node.callee=this.parseNoCallExpr(),this.eat(types.parenL)?(node.arguments=this.parseExprList(types.parenR),this.toReferencedList(node.arguments)):node.arguments=[],this.finishNode(node,"NewExpression")},pp$3.parseTemplateElement=function(isTagged){var elem=this.startNode();return null===this.state.value&&(isTagged&&this.hasPlugin("templateInvalidEscapes")?this.state.invalidTemplateEscapePosition=null:this.raise(this.state.invalidTemplateEscapePosition,"Invalid escape sequence in template")),elem.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),elem.tail=this.match(types.backQuote),this.finishNode(elem,"TemplateElement")},pp$3.parseTemplate=function(isTagged){var node=this.startNode();this.next(),node.expressions=[];var curElt=this.parseTemplateElement(isTagged);for(node.quasis=[curElt];!curElt.tail;)this.expect(types.dollarBraceL),node.expressions.push(this.parseExpression()),this.expect(types.braceR),node.quasis.push(curElt=this.parseTemplateElement(isTagged));return this.next(),this.finishNode(node,"TemplateLiteral")},pp$3.parseObj=function(isPattern,refShorthandDefaultPos){var decorators=[],propHash=Object.create(null),first=!0,node=this.startNode();node.properties=[],this.next();for(var firstRestLocation=null;!this.eat(types.braceR);){if(first)first=!1;else if(this.expect(types.comma),this.eat(types.braceR))break;for(;this.match(types.at);)decorators.push(this.parseDecorator());var prop=this.startNode(),isGenerator=!1,isAsync=!1,startPos=void 0,startLoc=void 0;if(decorators.length&&(prop.decorators=decorators,decorators=[]),this.hasPlugin("objectRestSpread")&&this.match(types.ellipsis)){if(prop=this.parseSpread(isPattern?{start:0}:void 0),prop.type=isPattern?"RestProperty":"SpreadProperty",isPattern&&this.toAssignable(prop.argument,!0,"object pattern"),node.properties.push(prop),!isPattern)continue;var position=this.state.start;if(null===firstRestLocation){if(this.eat(types.braceR))break;if(this.match(types.comma)&&this.lookahead().type===types.braceR)continue;firstRestLocation=position;continue}this.unexpected(firstRestLocation,"Cannot have multiple rest elements when destructuring")}if(prop.method=!1,prop.shorthand=!1,(isPattern||refShorthandDefaultPos)&&(startPos=this.state.start,startLoc=this.state.startLoc),isPattern||(isGenerator=this.eat(types.star)),!isPattern&&this.isContextual("async")){isGenerator&&this.unexpected();var asyncId=this.parseIdentifier();this.match(types.colon)||this.match(types.parenL)||this.match(types.braceR)||this.match(types.eq)||this.match(types.comma)?(prop.key=asyncId,prop.computed=!1):(isAsync=!0,this.hasPlugin("asyncGenerators")&&(isGenerator=this.eat(types.star)),this.parsePropertyName(prop))}else this.parsePropertyName(prop);this.parseObjPropValue(prop,startPos,startLoc,isGenerator,isAsync,isPattern,refShorthandDefaultPos),this.checkPropClash(prop,propHash),prop.shorthand&&this.addExtra(prop,"shorthand",!0),node.properties.push(prop)}return null!==firstRestLocation&&this.unexpected(firstRestLocation,"The rest element has to be the last element when destructuring"),decorators.length&&this.raise(this.state.start,"You have trailing decorators with no property"),this.finishNode(node,isPattern?"ObjectPattern":"ObjectExpression")},pp$3.isGetterOrSetterMethod=function(prop,isPattern){return!isPattern&&!prop.computed&&"Identifier"===prop.key.type&&("get"===prop.key.name||"set"===prop.key.name)&&(this.match(types.string)||this.match(types.num)||this.match(types.bracketL)||this.match(types.name)||this.state.type.keyword)},pp$3.checkGetterSetterParamCount=function(method){var paramCount="get"===method.kind?0:1;if(method.params.length!==paramCount){var start=method.start;"get"===method.kind?this.raise(start,"getter should have no params"):this.raise(start,"setter should have exactly one param")}},pp$3.parseObjectMethod=function(prop,isGenerator,isAsync,isPattern){return isAsync||isGenerator||this.match(types.parenL)?(isPattern&&this.unexpected(),prop.kind="method",prop.method=!0,this.parseMethod(prop,isGenerator,isAsync),this.finishNode(prop,"ObjectMethod")):this.isGetterOrSetterMethod(prop,isPattern)?((isGenerator||isAsync)&&this.unexpected(),prop.kind=prop.key.name,this.parsePropertyName(prop),this.parseMethod(prop),this.checkGetterSetterParamCount(prop),this.finishNode(prop,"ObjectMethod")):void 0},pp$3.parseObjectProperty=function(prop,startPos,startLoc,isPattern,refShorthandDefaultPos){return this.eat(types.colon)?(prop.value=isPattern?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssign(!1,refShorthandDefaultPos),this.finishNode(prop,"ObjectProperty")):prop.computed||"Identifier"!==prop.key.type?void 0:(this.checkReservedWord(prop.key.name,prop.key.start,!0,!0),isPattern?prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key.__clone()):this.match(types.eq)&&refShorthandDefaultPos?(refShorthandDefaultPos.start||(refShorthandDefaultPos.start=this.state.start),prop.value=this.parseMaybeDefault(startPos,startLoc,prop.key.__clone())):prop.value=prop.key.__clone(),prop.shorthand=!0,this.finishNode(prop,"ObjectProperty"))},pp$3.parseObjPropValue=function(prop,startPos,startLoc,isGenerator,isAsync,isPattern,refShorthandDefaultPos){var node=this.parseObjectMethod(prop,isGenerator,isAsync,isPattern)||this.parseObjectProperty(prop,startPos,startLoc,isPattern,refShorthandDefaultPos);return node||this.unexpected(),node},pp$3.parsePropertyName=function(prop){if(this.eat(types.bracketL))prop.computed=!0,prop.key=this.parseMaybeAssign(),this.expect(types.bracketR);else{prop.computed=!1;var oldInPropertyName=this.state.inPropertyName;this.state.inPropertyName=!0,prop.key=this.match(types.num)||this.match(types.string)?this.parseExprAtom():this.parseIdentifier(!0),this.state.inPropertyName=oldInPropertyName}return prop.key},pp$3.initFunction=function(node,isAsync){node.id=null,node.generator=!1,node.expression=!1,node.async=!!isAsync},pp$3.parseMethod=function(node,isGenerator,isAsync){var oldInMethod=this.state.inMethod;return this.state.inMethod=node.kind||!0,this.initFunction(node,isAsync),this.expect(types.parenL),node.params=this.parseBindingList(types.parenR),node.generator=!!isGenerator,this.parseFunctionBody(node),this.state.inMethod=oldInMethod,node},pp$3.parseArrowExpression=function(node,params,isAsync){return this.initFunction(node,isAsync),node.params=this.toAssignableList(params,!0,"arrow function parameters"),this.parseFunctionBody(node,!0),this.finishNode(node,"ArrowFunctionExpression")},pp$3.isStrictBody=function(node,isExpression){if(!isExpression&&node.body.directives.length)for(var _iterator2=node.body.directives,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var directive=_ref2;if("use strict"===directive.value.value)return!0}return!1},pp$3.parseFunctionBody=function(node,allowExpression){var isExpression=allowExpression&&!this.match(types.braceL),oldInAsync=this.state.inAsync;if(this.state.inAsync=node.async,isExpression)node.body=this.parseMaybeAssign(),node.expression=!0;else{var oldInFunc=this.state.inFunction,oldInGen=this.state.inGenerator,oldLabels=this.state.labels;this.state.inFunction=!0,this.state.inGenerator=node.generator,this.state.labels=[],node.body=this.parseBlock(!0),node.expression=!1,this.state.inFunction=oldInFunc,this.state.inGenerator=oldInGen,this.state.labels=oldLabels}this.state.inAsync=oldInAsync;var isStrict=this.isStrictBody(node,isExpression),checkLVal=this.state.strict||allowExpression||isStrict;if(isStrict&&node.id&&"Identifier"===node.id.type&&"yield"===node.id.name&&this.raise(node.id.start,"Binding yield in strict mode"),checkLVal){var nameHash=Object.create(null),oldStrict=this.state.strict;isStrict&&(this.state.strict=!0),node.id&&this.checkLVal(node.id,!0,void 0,"function name");for(var _iterator3=node.params,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var param=_ref3;isStrict&&"Identifier"!==param.type&&this.raise(param.start,"Non-simple parameter in strict mode"),this.checkLVal(param,!0,nameHash,"function parameter list")}this.state.strict=oldStrict}},pp$3.parseExprList=function(close,allowEmpty,refShorthandDefaultPos){for(var elts=[],first=!0;!this.eat(close);){if(first)first=!1;else if(this.expect(types.comma),this.eat(close))break;elts.push(this.parseExprListItem(allowEmpty,refShorthandDefaultPos))}return elts},pp$3.parseExprListItem=function(allowEmpty,refShorthandDefaultPos,refNeedsArrowPos){return allowEmpty&&this.match(types.comma)?null:this.match(types.ellipsis)?this.parseSpread(refShorthandDefaultPos):this.parseMaybeAssign(!1,refShorthandDefaultPos,this.parseParenItem,refNeedsArrowPos)},pp$3.parseIdentifier=function(liberal){var node=this.startNode();return liberal||this.checkReservedWord(this.state.value,this.state.start,!!this.state.type.keyword,!1),this.match(types.name)?node.name=this.state.value:this.state.type.keyword?node.name=this.state.type.keyword:this.unexpected(),!liberal&&"await"===node.name&&this.state.inAsync&&this.raise(node.start,"invalid use of await inside of an async function"),node.loc.identifierName=node.name,this.next(),this.finishNode(node,"Identifier")},pp$3.checkReservedWord=function(word,startLoc,checkKeywords,isBinding){(this.isReservedWord(word)||checkKeywords&&this.isKeyword(word))&&this.raise(startLoc,word+" is a reserved word"),this.state.strict&&(reservedWords.strict(word)||isBinding&&reservedWords.strictBind(word))&&this.raise(startLoc,word+" is a reserved word in strict mode")},pp$3.parseAwait=function(node){return this.state.inAsync||this.unexpected(),this.match(types.star)&&this.raise(node.start,"await* has been removed from the async functions proposal. Use Promise.all() instead."),node.argument=this.parseMaybeUnary(),this.finishNode(node,"AwaitExpression")},pp$3.parseYield=function(){var node=this.startNode();return this.next(),this.match(types.semi)||this.canInsertSemicolon()||!this.match(types.star)&&!this.state.type.startsExpr?(node.delegate=!1,node.argument=null):(node.delegate=this.eat(types.star),node.argument=this.parseMaybeAssign()),this.finishNode(node,"YieldExpression")};var pp$4=Parser.prototype,commentKeys=["leadingComments","trailingComments","innerComments"],Node=function(){function Node(pos,loc,filename){classCallCheck(this,Node),this.type="",this.start=pos,this.end=0,this.loc=new SourceLocation(loc),filename&&(this.loc.filename=filename)}return Node.prototype.__clone=function(){var node2=new Node;for(var key in this)commentKeys.indexOf(key)<0&&(node2[key]=this[key]);return node2},Node}();pp$4.startNode=function(){return new Node(this.state.start,this.state.startLoc,this.filename)},pp$4.startNodeAt=function(pos,loc){return new Node(pos,loc,this.filename)},pp$4.finishNode=function(node,type){return finishNodeAt.call(this,node,type,this.state.lastTokEnd,this.state.lastTokEndLoc)},pp$4.finishNodeAt=function(node,type,pos,loc){return finishNodeAt.call(this,node,type,pos,loc)},Parser.prototype.raise=function(pos,message){var loc=getLineInfo(this.input,pos);message+=" ("+loc.line+":"+loc.column+")";var err=new SyntaxError(message);throw err.pos=pos,err.loc=loc,err};var pp$6=Parser.prototype;pp$6.addComment=function(comment){this.filename&&(comment.loc.filename=this.filename),this.state.trailingComments.push(comment),this.state.leadingComments.push(comment)},pp$6.processComment=function(node){if(!("Program"===node.type&&node.body.length>0)){var stack=this.state.commentStack,firstChild=void 0,lastChild=void 0,trailingComments=void 0,i=void 0,j=void 0;if(this.state.trailingComments.length>0)this.state.trailingComments[0].start>=node.end?(trailingComments=this.state.trailingComments,this.state.trailingComments=[]):this.state.trailingComments.length=0;else{var lastInStack=last(stack);stack.length>0&&lastInStack.trailingComments&&lastInStack.trailingComments[0].start>=node.end&&(trailingComments=lastInStack.trailingComments,lastInStack.trailingComments=null)}for(stack.length>0&&last(stack).start>=node.start&&(firstChild=stack.pop());stack.length>0&&last(stack).start>=node.start;)lastChild=stack.pop();if(!lastChild&&firstChild&&(lastChild=firstChild),firstChild&&this.state.leadingComments.length>0){var lastComment=last(this.state.leadingComments);if("ObjectProperty"===firstChild.type){if(lastComment.start>=node.start&&this.state.commentPreviousNode){for(j=0;j<this.state.leadingComments.length;j++)this.state.leadingComments[j].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(j,1),j--);this.state.leadingComments.length>0&&(firstChild.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}else if("CallExpression"===node.type&&node.arguments&&node.arguments.length){var lastArg=last(node.arguments);lastArg&&lastComment.start>=lastArg.start&&lastComment.end<=node.end&&this.state.commentPreviousNode&&this.state.leadingComments.length>0&&(lastArg.trailingComments=this.state.leadingComments,this.state.leadingComments=[])}}if(lastChild){if(lastChild.leadingComments)if(lastChild!==node&&last(lastChild.leadingComments).end<=node.start)node.leadingComments=lastChild.leadingComments,lastChild.leadingComments=null;else for(i=lastChild.leadingComments.length-2;i>=0;--i)if(lastChild.leadingComments[i].end<=node.start){node.leadingComments=lastChild.leadingComments.splice(0,i+1);break}}else if(this.state.leadingComments.length>0)if(last(this.state.leadingComments).end<=node.start){if(this.state.commentPreviousNode)for(j=0;j<this.state.leadingComments.length;j++)this.state.leadingComments[j].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(j,1),j--);this.state.leadingComments.length>0&&(node.leadingComments=this.state.leadingComments,this.state.leadingComments=[])}else{for(i=0;i<this.state.leadingComments.length&&!(this.state.leadingComments[i].end>node.start);i++);node.leadingComments=this.state.leadingComments.slice(0,i),0===node.leadingComments.length&&(node.leadingComments=null),trailingComments=this.state.leadingComments.slice(i),0===trailingComments.length&&(trailingComments=null)}this.state.commentPreviousNode=node,trailingComments&&(trailingComments.length&&trailingComments[0].start>=node.start&&last(trailingComments).end<=node.end?node.innerComments=trailingComments:node.trailingComments=trailingComments),stack.push(node)}};var pp$7=Parser.prototype;pp$7.estreeParseRegExpLiteral=function(_ref){var pattern=_ref.pattern,flags=_ref.flags,regex=null;try{regex=new RegExp(pattern,flags)}catch(e){}var node=this.estreeParseLiteral(regex);return node.regex={pattern:pattern,flags:flags},node},pp$7.estreeParseLiteral=function(value){return this.parseLiteral(value,"Literal")},pp$7.directiveToStmt=function(directive){var directiveLiteral=directive.value,stmt=this.startNodeAt(directive.start,directive.loc.start),expression=this.startNodeAt(directiveLiteral.start,directiveLiteral.loc.start);return expression.value=directiveLiteral.value,expression.raw=directiveLiteral.extra.raw,stmt.expression=this.finishNodeAt(expression,"Literal",directiveLiteral.end,directiveLiteral.loc.end),stmt.directive=directiveLiteral.extra.raw.slice(1,-1),this.finishNodeAt(stmt,"ExpressionStatement",directive.end,directive.loc.end)};var estreePlugin=function(instance){instance.extend("checkDeclaration",function(inner){return function(node){isSimpleProperty(node)?this.checkDeclaration(node.value):inner.call(this,node)}}),instance.extend("checkGetterSetterParamCount",function(){return function(prop){var paramCount="get"===prop.kind?0:1;if(prop.value.params.length!==paramCount){var start=prop.start;"get"===prop.kind?this.raise(start,"getter should have no params"):this.raise(start,"setter should have exactly one param")}}}),instance.extend("checkLVal",function(inner){return function(expr,isBinding,checkClashes){var _this=this;switch(expr.type){case"ObjectPattern":expr.properties.forEach(function(prop){_this.checkLVal("Property"===prop.type?prop.value:prop,isBinding,checkClashes,"object destructuring pattern")});break;default:for(var _len=arguments.length,args=Array(_len>3?_len-3:0),_key=3;_key<_len;_key++)args[_key-3]=arguments[_key];inner.call.apply(inner,[this,expr,isBinding,checkClashes].concat(args))}}}),instance.extend("checkPropClash",function(){return function(prop,propHash){if(!prop.computed&&isSimpleProperty(prop)){var key=prop.key;"__proto__"===("Identifier"===key.type?key.name:String(key.value))&&(propHash.proto&&this.raise(key.start,"Redefinition of __proto__ property"),propHash.proto=!0)}}}),instance.extend("isStrictBody",function(){return function(node,isExpression){if(!isExpression&&node.body.body.length>0)for(var _iterator=node.body.body,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref2;if(_isArray){if(_i>=_iterator.length)break;_ref2=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref2=_i.value}var directive=_ref2;if("ExpressionStatement"!==directive.type||"Literal"!==directive.expression.type)break;if("use strict"===directive.expression.value)return!0}return!1}}),instance.extend("isValidDirective",function(){return function(stmt){return!("ExpressionStatement"!==stmt.type||"Literal"!==stmt.expression.type||"string"!=typeof stmt.expression.value||stmt.expression.extra&&stmt.expression.extra.parenthesized)}}),instance.extend("stmtToDirective",function(inner){return function(stmt){var directive=inner.call(this,stmt),value=stmt.expression.value;return directive.value.value=value,directive}}),instance.extend("parseBlockBody",function(inner){return function(node){for(var _this2=this,_len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];inner.call.apply(inner,[this,node].concat(args)),node.directives.reverse().forEach(function(directive){node.body.unshift(_this2.directiveToStmt(directive))}),delete node.directives}}),instance.extend("parseClassMethod",function(){return function(classBody,method,isGenerator,isAsync){this.parseMethod(method,isGenerator,isAsync),method.typeParameters&&(method.value.typeParameters=method.typeParameters,delete method.typeParameters),classBody.body.push(this.finishNode(method,"MethodDefinition"))}}),instance.extend("parseExprAtom",function(inner){return function(){switch(this.state.type){case types.regexp:return this.estreeParseRegExpLiteral(this.state.value);case types.num:case types.string:return this.estreeParseLiteral(this.state.value);case types._null:return this.estreeParseLiteral(null);case types._true:return this.estreeParseLiteral(!0);case types._false:return this.estreeParseLiteral(!1);default:for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return inner.call.apply(inner,[this].concat(args))}}}),instance.extend("parseLiteral",function(inner){return function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];var node=inner.call.apply(inner,[this].concat(args));return node.raw=node.extra.raw,delete node.extra,node}}),instance.extend("parseMethod",function(inner){return function(node){var funcNode=this.startNode();funcNode.kind=node.kind;for(var _len5=arguments.length,args=Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)args[_key5-1]=arguments[_key5];return funcNode=inner.call.apply(inner,[this,funcNode].concat(args)),delete funcNode.kind,node.value=this.finishNode(funcNode,"FunctionExpression"),node}}),instance.extend("parseObjectMethod",function(inner){return function(){for(var _len6=arguments.length,args=Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];var node=inner.call.apply(inner,[this].concat(args));return node&&("method"===node.kind&&(node.kind="init"),node.type="Property"),node}}),instance.extend("parseObjectProperty",function(inner){return function(){for(var _len7=arguments.length,args=Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];var node=inner.call.apply(inner,[this].concat(args));return node&&(node.kind="init",node.type="Property"),node}}),instance.extend("toAssignable",function(inner){return function(node,isBinding){for(var _len8=arguments.length,args=Array(_len8>2?_len8-2:0),_key8=2;_key8<_len8;_key8++)args[_key8-2]=arguments[_key8];if(isSimpleProperty(node))return this.toAssignable.apply(this,[node.value,isBinding].concat(args)),node;if("ObjectExpression"===node.type){node.type="ObjectPattern";for(var _iterator2=node.properties,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref3;if(_isArray2){if(_i2>=_iterator2.length)break;_ref3=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref3=_i2.value}var prop=_ref3;"get"===prop.kind||"set"===prop.kind?this.raise(prop.key.start,"Object pattern can't contain getter or setter"):prop.method?this.raise(prop.key.start,"Object pattern can't contain methods"):this.toAssignable(prop,isBinding,"object destructuring pattern")}return node}return inner.call.apply(inner,[this,node,isBinding].concat(args))}})},primitiveTypes=["any","mixed","empty","bool","boolean","number","string","void","null"],pp$8=Parser.prototype;pp$8.flowParseTypeInitialiser=function(tok){var oldInType=this.state.inType;this.state.inType=!0,this.expect(tok||types.colon);var type=this.flowParseType();return this.state.inType=oldInType,type},pp$8.flowParsePredicate=function(){var node=this.startNode(),moduloLoc=this.state.startLoc,moduloPos=this.state.start;this.expect(types.modulo);var checksLoc=this.state.startLoc;return this.expectContextual("checks"),moduloLoc.line===checksLoc.line&&moduloLoc.column===checksLoc.column-1||this.raise(moduloPos,"Spaces between ´%´ and ´checks´ are not allowed here."),this.eat(types.parenL)?(node.expression=this.parseExpression(),this.expect(types.parenR),this.finishNode(node,"DeclaredPredicate")):this.finishNode(node,"InferredPredicate")},pp$8.flowParseTypeAndPredicateInitialiser=function(){var oldInType=this.state.inType;this.state.inType=!0,this.expect(types.colon);var type=null,predicate=null;return this.match(types.modulo)?(this.state.inType=oldInType,predicate=this.flowParsePredicate()):(type=this.flowParseType(),this.state.inType=oldInType,this.match(types.modulo)&&(predicate=this.flowParsePredicate())),[type,predicate]},pp$8.flowParseDeclareClass=function(node){return this.next(),this.flowParseInterfaceish(node,!0),this.finishNode(node,"DeclareClass")},pp$8.flowParseDeclareFunction=function(node){this.next();var id=node.id=this.parseIdentifier(),typeNode=this.startNode(),typeContainer=this.startNode();this.isRelational("<")?typeNode.typeParameters=this.flowParseTypeParameterDeclaration():typeNode.typeParameters=null,this.expect(types.parenL);var tmp=this.flowParseFunctionTypeParams();typeNode.params=tmp.params,typeNode.rest=tmp.rest,this.expect(types.parenR);var predicate=null,_flowParseTypeAndPred=this.flowParseTypeAndPredicateInitialiser();return typeNode.returnType=_flowParseTypeAndPred[0],predicate=_flowParseTypeAndPred[1],typeContainer.typeAnnotation=this.finishNode(typeNode,"FunctionTypeAnnotation"),typeContainer.predicate=predicate,id.typeAnnotation=this.finishNode(typeContainer,"TypeAnnotation"),this.finishNode(id,id.type),this.semicolon(),this.finishNode(node,"DeclareFunction")},pp$8.flowParseDeclare=function(node){return this.match(types._class)?this.flowParseDeclareClass(node):this.match(types._function)?this.flowParseDeclareFunction(node):this.match(types._var)?this.flowParseDeclareVariable(node):this.isContextual("module")?this.lookahead().type===types.dot?this.flowParseDeclareModuleExports(node):this.flowParseDeclareModule(node):this.isContextual("type")?this.flowParseDeclareTypeAlias(node):this.isContextual("opaque")?this.flowParseDeclareOpaqueType(node):this.isContextual("interface")?this.flowParseDeclareInterface(node):this.match(types._export)?this.flowParseDeclareExportDeclaration(node):void this.unexpected()},pp$8.flowParseDeclareExportDeclaration=function(node){if(this.expect(types._export),this.isContextual("opaque"))return node.declaration=this.flowParseDeclare(this.startNode()),node.default=!1,this.finishNode(node,"DeclareExportDeclaration");throw this.unexpected()},pp$8.flowParseDeclareVariable=function(node){return this.next(),node.id=this.flowParseTypeAnnotatableIdentifier(),this.semicolon(),this.finishNode(node,"DeclareVariable")},pp$8.flowParseDeclareModule=function(node){this.next(),this.match(types.string)?node.id=this.parseExprAtom():node.id=this.parseIdentifier();var bodyNode=node.body=this.startNode(),body=bodyNode.body=[];for(this.expect(types.braceL);!this.match(types.braceR);){var _bodyNode=this.startNode();if(this.match(types._import)){var lookahead=this.lookahead();"type"!==lookahead.value&&"typeof"!==lookahead.value&&this.unexpected(null,"Imports within a `declare module` body must always be `import type` or `import typeof`"),this.parseImport(_bodyNode)}else this.expectContextual("declare","Only declares and type imports are allowed inside declare module"),_bodyNode=this.flowParseDeclare(_bodyNode,!0);body.push(_bodyNode)}return this.expect(types.braceR),this.finishNode(bodyNode,"BlockStatement"),this.finishNode(node,"DeclareModule")},pp$8.flowParseDeclareModuleExports=function(node){return this.expectContextual("module"),this.expect(types.dot),this.expectContextual("exports"),node.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(node,"DeclareModuleExports")},pp$8.flowParseDeclareTypeAlias=function(node){return this.next(),this.flowParseTypeAlias(node),this.finishNode(node,"DeclareTypeAlias")},pp$8.flowParseDeclareOpaqueType=function(node){return this.next(),this.flowParseOpaqueType(node,!0),this.finishNode(node,"DeclareOpaqueType")},pp$8.flowParseDeclareInterface=function(node){return this.next(),this.flowParseInterfaceish(node),this.finishNode(node,"DeclareInterface")},pp$8.flowParseInterfaceish=function(node){if(node.id=this.parseIdentifier(),this.isRelational("<")?node.typeParameters=this.flowParseTypeParameterDeclaration():node.typeParameters=null,node.extends=[],node.mixins=[],this.eat(types._extends))do{node.extends.push(this.flowParseInterfaceExtends())}while(this.eat(types.comma));if(this.isContextual("mixins")){this.next();do{node.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(types.comma))}node.body=this.flowParseObjectType(!0,!1,!1)},pp$8.flowParseInterfaceExtends=function(){var node=this.startNode();return node.id=this.flowParseQualifiedTypeIdentifier(),this.isRelational("<")?node.typeParameters=this.flowParseTypeParameterInstantiation():node.typeParameters=null,this.finishNode(node,"InterfaceExtends")},pp$8.flowParseInterface=function(node){return this.flowParseInterfaceish(node,!1),this.finishNode(node,"InterfaceDeclaration")},pp$8.flowParseRestrictedIdentifier=function(liberal){return primitiveTypes.indexOf(this.state.value)>-1&&this.raise(this.state.start,"Cannot overwrite primitive type "+this.state.value),this.parseIdentifier(liberal)},pp$8.flowParseTypeAlias=function(node){return node.id=this.flowParseRestrictedIdentifier(),this.isRelational("<")?node.typeParameters=this.flowParseTypeParameterDeclaration():node.typeParameters=null,node.right=this.flowParseTypeInitialiser(types.eq),this.semicolon(),this.finishNode(node,"TypeAlias")},pp$8.flowParseOpaqueType=function(node,declare){return this.expectContextual("type"),node.id=this.flowParseRestrictedIdentifier(),this.isRelational("<")?node.typeParameters=this.flowParseTypeParameterDeclaration():node.typeParameters=null,node.supertype=null,this.match(types.colon)&&(node.supertype=this.flowParseTypeInitialiser(types.colon)),node.impltype=null,declare||(node.impltype=this.flowParseTypeInitialiser(types.eq)),this.semicolon(),
this.finishNode(node,"OpaqueType")},pp$8.flowParseTypeParameter=function(){var node=this.startNode(),variance=this.flowParseVariance(),ident=this.flowParseTypeAnnotatableIdentifier();return node.name=ident.name,node.variance=variance,node.bound=ident.typeAnnotation,this.match(types.eq)&&(this.eat(types.eq),node.default=this.flowParseType()),this.finishNode(node,"TypeParameter")},pp$8.flowParseTypeParameterDeclaration=function(){var oldInType=this.state.inType,node=this.startNode();node.params=[],this.state.inType=!0,this.isRelational("<")||this.match(types.jsxTagStart)?this.next():this.unexpected();do{node.params.push(this.flowParseTypeParameter()),this.isRelational(">")||this.expect(types.comma)}while(!this.isRelational(">"));return this.expectRelational(">"),this.state.inType=oldInType,this.finishNode(node,"TypeParameterDeclaration")},pp$8.flowParseTypeParameterInstantiation=function(){var node=this.startNode(),oldInType=this.state.inType;for(node.params=[],this.state.inType=!0,this.expectRelational("<");!this.isRelational(">");)node.params.push(this.flowParseType()),this.isRelational(">")||this.expect(types.comma);return this.expectRelational(">"),this.state.inType=oldInType,this.finishNode(node,"TypeParameterInstantiation")},pp$8.flowParseObjectPropertyKey=function(){return this.match(types.num)||this.match(types.string)?this.parseExprAtom():this.parseIdentifier(!0)},pp$8.flowParseObjectTypeIndexer=function(node,isStatic,variance){return node.static=isStatic,this.expect(types.bracketL),this.lookahead().type===types.colon?(node.id=this.flowParseObjectPropertyKey(),node.key=this.flowParseTypeInitialiser()):(node.id=null,node.key=this.flowParseType()),this.expect(types.bracketR),node.value=this.flowParseTypeInitialiser(),node.variance=variance,this.flowObjectTypeSemicolon(),this.finishNode(node,"ObjectTypeIndexer")},pp$8.flowParseObjectTypeMethodish=function(node){for(node.params=[],node.rest=null,node.typeParameters=null,this.isRelational("<")&&(node.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(types.parenL);!this.match(types.parenR)&&!this.match(types.ellipsis);)node.params.push(this.flowParseFunctionTypeParam()),this.match(types.parenR)||this.expect(types.comma);return this.eat(types.ellipsis)&&(node.rest=this.flowParseFunctionTypeParam()),this.expect(types.parenR),node.returnType=this.flowParseTypeInitialiser(),this.finishNode(node,"FunctionTypeAnnotation")},pp$8.flowParseObjectTypeMethod=function(startPos,startLoc,isStatic,key){var node=this.startNodeAt(startPos,startLoc);return node.value=this.flowParseObjectTypeMethodish(this.startNodeAt(startPos,startLoc)),node.static=isStatic,node.key=key,node.optional=!1,this.flowObjectTypeSemicolon(),this.finishNode(node,"ObjectTypeProperty")},pp$8.flowParseObjectTypeCallProperty=function(node,isStatic){var valueNode=this.startNode();return node.static=isStatic,node.value=this.flowParseObjectTypeMethodish(valueNode),this.flowObjectTypeSemicolon(),this.finishNode(node,"ObjectTypeCallProperty")},pp$8.flowParseObjectType=function(allowStatic,allowExact,allowSpread){var oldInType=this.state.inType;this.state.inType=!0;var nodeStart=this.startNode(),node=void 0,propertyKey=void 0,isStatic=!1;nodeStart.callProperties=[],nodeStart.properties=[],nodeStart.indexers=[];var endDelim=void 0,exact=void 0;for(allowExact&&this.match(types.braceBarL)?(this.expect(types.braceBarL),endDelim=types.braceBarR,exact=!0):(this.expect(types.braceL),endDelim=types.braceR,exact=!1),nodeStart.exact=exact;!this.match(endDelim);){var optional=!1,startPos=this.state.start,startLoc=this.state.startLoc;node=this.startNode(),allowStatic&&this.isContextual("static")&&this.lookahead().type!==types.colon&&(this.next(),isStatic=!0);var variancePos=this.state.start,variance=this.flowParseVariance();this.match(types.bracketL)?nodeStart.indexers.push(this.flowParseObjectTypeIndexer(node,isStatic,variance)):this.match(types.parenL)||this.isRelational("<")?(variance&&this.unexpected(variancePos),nodeStart.callProperties.push(this.flowParseObjectTypeCallProperty(node,isStatic))):this.match(types.ellipsis)?(allowSpread||this.unexpected(null,"Spread operator cannot appear in class or interface definitions"),variance&&this.unexpected(variance.start,"Spread properties cannot have variance"),this.expect(types.ellipsis),node.argument=this.flowParseType(),this.flowObjectTypeSemicolon(),nodeStart.properties.push(this.finishNode(node,"ObjectTypeSpreadProperty"))):(propertyKey=this.flowParseObjectPropertyKey(),this.isRelational("<")||this.match(types.parenL)?(variance&&this.unexpected(variance.start),nodeStart.properties.push(this.flowParseObjectTypeMethod(startPos,startLoc,isStatic,propertyKey))):(this.eat(types.question)&&(optional=!0),node.key=propertyKey,node.value=this.flowParseTypeInitialiser(),node.optional=optional,node.static=isStatic,node.variance=variance,this.flowObjectTypeSemicolon(),nodeStart.properties.push(this.finishNode(node,"ObjectTypeProperty")))),isStatic=!1}this.expect(endDelim);var out=this.finishNode(nodeStart,"ObjectTypeAnnotation");return this.state.inType=oldInType,out},pp$8.flowObjectTypeSemicolon=function(){this.eat(types.semi)||this.eat(types.comma)||this.match(types.braceR)||this.match(types.braceBarR)||this.unexpected()},pp$8.flowParseQualifiedTypeIdentifier=function(startPos,startLoc,id){startPos=startPos||this.state.start,startLoc=startLoc||this.state.startLoc;for(var node=id||this.parseIdentifier();this.eat(types.dot);){var node2=this.startNodeAt(startPos,startLoc);node2.qualification=node,node2.id=this.parseIdentifier(),node=this.finishNode(node2,"QualifiedTypeIdentifier")}return node},pp$8.flowParseGenericType=function(startPos,startLoc,id){var node=this.startNodeAt(startPos,startLoc);return node.typeParameters=null,node.id=this.flowParseQualifiedTypeIdentifier(startPos,startLoc,id),this.isRelational("<")&&(node.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(node,"GenericTypeAnnotation")},pp$8.flowParseTypeofType=function(){var node=this.startNode();return this.expect(types._typeof),node.argument=this.flowParsePrimaryType(),this.finishNode(node,"TypeofTypeAnnotation")},pp$8.flowParseTupleType=function(){var node=this.startNode();for(node.types=[],this.expect(types.bracketL);this.state.pos<this.input.length&&!this.match(types.bracketR)&&(node.types.push(this.flowParseType()),!this.match(types.bracketR));)this.expect(types.comma);return this.expect(types.bracketR),this.finishNode(node,"TupleTypeAnnotation")},pp$8.flowParseFunctionTypeParam=function(){var name=null,optional=!1,typeAnnotation=null,node=this.startNode(),lh=this.lookahead();return lh.type===types.colon||lh.type===types.question?(name=this.parseIdentifier(),this.eat(types.question)&&(optional=!0),typeAnnotation=this.flowParseTypeInitialiser()):typeAnnotation=this.flowParseType(),node.name=name,node.optional=optional,node.typeAnnotation=typeAnnotation,this.finishNode(node,"FunctionTypeParam")},pp$8.reinterpretTypeAsFunctionTypeParam=function(type){var node=this.startNodeAt(type.start,type.loc.start);return node.name=null,node.optional=!1,node.typeAnnotation=type,this.finishNode(node,"FunctionTypeParam")},pp$8.flowParseFunctionTypeParams=function(){for(var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ret={params:params,rest:null};!this.match(types.parenR)&&!this.match(types.ellipsis);)ret.params.push(this.flowParseFunctionTypeParam()),this.match(types.parenR)||this.expect(types.comma);return this.eat(types.ellipsis)&&(ret.rest=this.flowParseFunctionTypeParam()),ret},pp$8.flowIdentToTypeAnnotation=function(startPos,startLoc,node,id){switch(id.name){case"any":return this.finishNode(node,"AnyTypeAnnotation");case"void":return this.finishNode(node,"VoidTypeAnnotation");case"bool":case"boolean":return this.finishNode(node,"BooleanTypeAnnotation");case"mixed":return this.finishNode(node,"MixedTypeAnnotation");case"empty":return this.finishNode(node,"EmptyTypeAnnotation");case"number":return this.finishNode(node,"NumberTypeAnnotation");case"string":return this.finishNode(node,"StringTypeAnnotation");default:return this.flowParseGenericType(startPos,startLoc,id)}},pp$8.flowParsePrimaryType=function(){var startPos=this.state.start,startLoc=this.state.startLoc,node=this.startNode(),tmp=void 0,type=void 0,isGroupedType=!1,oldNoAnonFunctionType=this.state.noAnonFunctionType;switch(this.state.type){case types.name:return this.flowIdentToTypeAnnotation(startPos,startLoc,node,this.parseIdentifier());case types.braceL:return this.flowParseObjectType(!1,!1,!0);case types.braceBarL:return this.flowParseObjectType(!1,!0,!0);case types.bracketL:return this.flowParseTupleType();case types.relational:if("<"===this.state.value)return node.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(types.parenL),tmp=this.flowParseFunctionTypeParams(),node.params=tmp.params,node.rest=tmp.rest,this.expect(types.parenR),this.expect(types.arrow),node.returnType=this.flowParseType(),this.finishNode(node,"FunctionTypeAnnotation");break;case types.parenL:if(this.next(),!this.match(types.parenR)&&!this.match(types.ellipsis))if(this.match(types.name)){var token=this.lookahead().type;isGroupedType=token!==types.question&&token!==types.colon}else isGroupedType=!0;if(isGroupedType){if(this.state.noAnonFunctionType=!1,type=this.flowParseType(),this.state.noAnonFunctionType=oldNoAnonFunctionType,this.state.noAnonFunctionType||!(this.match(types.comma)||this.match(types.parenR)&&this.lookahead().type===types.arrow))return this.expect(types.parenR),type;this.eat(types.comma)}return tmp=type?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(type)]):this.flowParseFunctionTypeParams(),node.params=tmp.params,node.rest=tmp.rest,this.expect(types.parenR),this.expect(types.arrow),node.returnType=this.flowParseType(),node.typeParameters=null,this.finishNode(node,"FunctionTypeAnnotation");case types.string:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case types._true:case types._false:return node.value=this.match(types._true),this.next(),this.finishNode(node,"BooleanLiteralTypeAnnotation");case types.plusMin:if("-"===this.state.value)return this.next(),this.match(types.num)||this.unexpected(null,"Unexpected token, expected number"),this.parseLiteral(-this.state.value,"NumericLiteralTypeAnnotation",node.start,node.loc.start);this.unexpected();case types.num:return this.parseLiteral(this.state.value,"NumericLiteralTypeAnnotation");case types._null:return node.value=this.match(types._null),this.next(),this.finishNode(node,"NullLiteralTypeAnnotation");case types._this:return node.value=this.match(types._this),this.next(),this.finishNode(node,"ThisTypeAnnotation");case types.star:return this.next(),this.finishNode(node,"ExistentialTypeParam");default:if("typeof"===this.state.type.keyword)return this.flowParseTypeofType()}this.unexpected()},pp$8.flowParsePostfixType=function(){for(var startPos=this.state.start,startLoc=this.state.startLoc,type=this.flowParsePrimaryType();!this.canInsertSemicolon()&&this.match(types.bracketL);){var node=this.startNodeAt(startPos,startLoc);node.elementType=type,this.expect(types.bracketL),this.expect(types.bracketR),type=this.finishNode(node,"ArrayTypeAnnotation")}return type},pp$8.flowParsePrefixType=function(){var node=this.startNode();return this.eat(types.question)?(node.typeAnnotation=this.flowParsePrefixType(),this.finishNode(node,"NullableTypeAnnotation")):this.flowParsePostfixType()},pp$8.flowParseAnonFunctionWithoutParens=function(){var param=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(types.arrow)){var node=this.startNodeAt(param.start,param.loc.start);return node.params=[this.reinterpretTypeAsFunctionTypeParam(param)],node.rest=null,node.returnType=this.flowParseType(),node.typeParameters=null,this.finishNode(node,"FunctionTypeAnnotation")}return param},pp$8.flowParseIntersectionType=function(){var node=this.startNode();this.eat(types.bitwiseAND);var type=this.flowParseAnonFunctionWithoutParens();for(node.types=[type];this.eat(types.bitwiseAND);)node.types.push(this.flowParseAnonFunctionWithoutParens());return 1===node.types.length?type:this.finishNode(node,"IntersectionTypeAnnotation")},pp$8.flowParseUnionType=function(){var node=this.startNode();this.eat(types.bitwiseOR);var type=this.flowParseIntersectionType();for(node.types=[type];this.eat(types.bitwiseOR);)node.types.push(this.flowParseIntersectionType());return 1===node.types.length?type:this.finishNode(node,"UnionTypeAnnotation")},pp$8.flowParseType=function(){var oldInType=this.state.inType;this.state.inType=!0;var type=this.flowParseUnionType();return this.state.inType=oldInType,type},pp$8.flowParseTypeAnnotation=function(){var node=this.startNode();return node.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(node,"TypeAnnotation")},pp$8.flowParseTypeAndPredicateAnnotation=function(){var node=this.startNode(),_flowParseTypeAndPred2=this.flowParseTypeAndPredicateInitialiser();return node.typeAnnotation=_flowParseTypeAndPred2[0],node.predicate=_flowParseTypeAndPred2[1],this.finishNode(node,"TypeAnnotation")},pp$8.flowParseTypeAnnotatableIdentifier=function(){var ident=this.flowParseRestrictedIdentifier();return this.match(types.colon)&&(ident.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(ident,ident.type)),ident},pp$8.typeCastToParameter=function(node){return node.expression.typeAnnotation=node.typeAnnotation,this.finishNodeAt(node.expression,node.expression.type,node.typeAnnotation.end,node.typeAnnotation.loc.end)},pp$8.flowParseVariance=function(){var variance=null;return this.match(types.plusMin)&&("+"===this.state.value?variance="plus":"-"===this.state.value&&(variance="minus"),this.next()),variance};var flowPlugin=function(instance){instance.extend("parseFunctionBody",function(inner){return function(node,allowExpression){return this.match(types.colon)&&!allowExpression&&(node.returnType=this.flowParseTypeAndPredicateAnnotation()),inner.call(this,node,allowExpression)}}),instance.extend("parseStatement",function(inner){return function(declaration,topLevel){if(this.state.strict&&this.match(types.name)&&"interface"===this.state.value){var node=this.startNode();return this.next(),this.flowParseInterface(node)}return inner.call(this,declaration,topLevel)}}),instance.extend("parseExpressionStatement",function(inner){return function(node,expr){if("Identifier"===expr.type)if("declare"===expr.name){if(this.match(types._class)||this.match(types.name)||this.match(types._function)||this.match(types._var)||this.match(types._export))return this.flowParseDeclare(node)}else if(this.match(types.name)){if("interface"===expr.name)return this.flowParseInterface(node);if("type"===expr.name)return this.flowParseTypeAlias(node);if("opaque"===expr.name)return this.flowParseOpaqueType(node,!1)}return inner.call(this,node,expr)}}),instance.extend("shouldParseExportDeclaration",function(inner){return function(){return this.isContextual("type")||this.isContextual("interface")||this.isContextual("opaque")||inner.call(this)}}),instance.extend("isExportDefaultSpecifier",function(inner){return function(){return(!this.match(types.name)||"type"!==this.state.value&&"interface"!==this.state.value&&"opaque"!==this.state.value)&&inner.call(this)}}),instance.extend("parseConditional",function(inner){return function(expr,noIn,startPos,startLoc,refNeedsArrowPos){if(refNeedsArrowPos&&this.match(types.question)){var state=this.state.clone();try{return inner.call(this,expr,noIn,startPos,startLoc)}catch(err){if(err instanceof SyntaxError)return this.state=state,refNeedsArrowPos.start=err.pos||this.state.start,expr;throw err}}return inner.call(this,expr,noIn,startPos,startLoc)}}),instance.extend("parseParenItem",function(inner){return function(node,startPos,startLoc){if(node=inner.call(this,node,startPos,startLoc),this.eat(types.question)&&(node.optional=!0),this.match(types.colon)){var typeCastNode=this.startNodeAt(startPos,startLoc);return typeCastNode.expression=node,typeCastNode.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(typeCastNode,"TypeCastExpression")}return node}}),instance.extend("parseExport",function(inner){return function(node){return node=inner.call(this,node),"ExportNamedDeclaration"===node.type&&(node.exportKind=node.exportKind||"value"),node}}),instance.extend("parseExportDeclaration",function(inner){return function(node){if(this.isContextual("type")){node.exportKind="type";var declarationNode=this.startNode();return this.next(),this.match(types.braceL)?(node.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(node),null):this.flowParseTypeAlias(declarationNode)}if(this.isContextual("opaque")){node.exportKind="type";var _declarationNode=this.startNode();return this.next(),this.flowParseOpaqueType(_declarationNode,!1)}if(this.isContextual("interface")){node.exportKind="type";var _declarationNode2=this.startNode();return this.next(),this.flowParseInterface(_declarationNode2)}return inner.call(this,node)}}),instance.extend("parseClassId",function(inner){return function(node){inner.apply(this,arguments),this.isRelational("<")&&(node.typeParameters=this.flowParseTypeParameterDeclaration())}}),instance.extend("isKeyword",function(inner){return function(name){return(!this.state.inType||"void"!==name)&&inner.call(this,name)}}),instance.extend("readToken",function(inner){return function(code){return!this.state.inType||62!==code&&60!==code?inner.call(this,code):this.finishOp(types.relational,1)}}),instance.extend("jsx_readToken",function(inner){return function(){if(!this.state.inType)return inner.call(this)}}),instance.extend("toAssignable",function(inner){return function(node,isBinding,contextDescription){return"TypeCastExpression"===node.type?inner.call(this,this.typeCastToParameter(node),isBinding,contextDescription):inner.call(this,node,isBinding,contextDescription)}}),instance.extend("toAssignableList",function(inner){return function(exprList,isBinding,contextDescription){for(var i=0;i<exprList.length;i++){var expr=exprList[i];expr&&"TypeCastExpression"===expr.type&&(exprList[i]=this.typeCastToParameter(expr))}return inner.call(this,exprList,isBinding,contextDescription)}}),instance.extend("toReferencedList",function(){return function(exprList){for(var i=0;i<exprList.length;i++){var expr=exprList[i];expr&&expr._exprListItem&&"TypeCastExpression"===expr.type&&this.raise(expr.start,"Unexpected type cast")}return exprList}}),instance.extend("parseExprListItem",function(inner){return function(){for(var container=this.startNode(),_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var node=inner.call.apply(inner,[this].concat(args));return this.match(types.colon)?(container._exprListItem=!0,container.expression=node,container.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(container,"TypeCastExpression")):node}}),instance.extend("checkLVal",function(inner){return function(node){if("TypeCastExpression"!==node.type)return inner.apply(this,arguments)}}),instance.extend("parseClassProperty",function(inner){return function(node){return delete node.variancePos,this.match(types.colon)&&(node.typeAnnotation=this.flowParseTypeAnnotation()),inner.call(this,node)}}),instance.extend("isClassMethod",function(inner){return function(){return this.isRelational("<")||inner.call(this)}}),instance.extend("isClassProperty",function(inner){return function(){return this.match(types.colon)||inner.call(this)}}),instance.extend("isNonstaticConstructor",function(inner){return function(method){return!this.match(types.colon)&&inner.call(this,method)}}),instance.extend("parseClassMethod",function(inner){return function(classBody,method){method.variance&&this.unexpected(method.variancePos),delete method.variance,delete method.variancePos,this.isRelational("<")&&(method.typeParameters=this.flowParseTypeParameterDeclaration());for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];inner.call.apply(inner,[this,classBody,method].concat(args))}}),instance.extend("parseClassSuper",function(inner){return function(node,isStatement){if(inner.call(this,node,isStatement),node.superClass&&this.isRelational("<")&&(node.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual("implements")){this.next();var implemented=node.implements=[];do{var _node=this.startNode();_node.id=this.parseIdentifier(),this.isRelational("<")?_node.typeParameters=this.flowParseTypeParameterInstantiation():_node.typeParameters=null,implemented.push(this.finishNode(_node,"ClassImplements"))}while(this.eat(types.comma))}}}),instance.extend("parsePropertyName",function(inner){return function(node){var variancePos=this.state.start,variance=this.flowParseVariance(),key=inner.call(this,node);return node.variance=variance,node.variancePos=variancePos,key}}),instance.extend("parseObjPropValue",function(inner){return function(prop){prop.variance&&this.unexpected(prop.variancePos),delete prop.variance,delete prop.variancePos;var typeParameters=void 0;this.isRelational("<")&&(typeParameters=this.flowParseTypeParameterDeclaration(),this.match(types.parenL)||this.unexpected()),inner.apply(this,arguments),typeParameters&&((prop.value||prop).typeParameters=typeParameters)}}),instance.extend("parseAssignableListItemTypes",function(){return function(param){return this.eat(types.question)&&(param.optional=!0),this.match(types.colon)&&(param.typeAnnotation=this.flowParseTypeAnnotation()),this.finishNode(param,param.type),param}}),instance.extend("parseMaybeDefault",function(inner){return function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];var node=inner.apply(this,args);return"AssignmentPattern"===node.type&&node.typeAnnotation&&node.right.start<node.typeAnnotation.start&&this.raise(node.typeAnnotation.start,"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`"),node}}),instance.extend("parseImportSpecifiers",function(inner){return function(node){node.importKind="value";var kind=null;if(this.match(types._typeof)?kind="typeof":this.isContextual("type")&&(kind="type"),kind){var lh=this.lookahead();(lh.type===types.name&&"from"!==lh.value||lh.type===types.braceL||lh.type===types.star)&&(this.next(),node.importKind=kind)}inner.call(this,node)}}),instance.extend("parseImportSpecifier",function(){return function(node){var specifier=this.startNode(),firstIdentLoc=this.state.start,firstIdent=this.parseIdentifier(!0),specifierTypeKind=null;"type"===firstIdent.name?specifierTypeKind="type":"typeof"===firstIdent.name&&(specifierTypeKind="typeof");var isBinding=!1;if(this.isContextual("as")){var as_ident=this.parseIdentifier(!0);null===specifierTypeKind||this.match(types.name)||this.state.type.keyword?(specifier.imported=firstIdent,specifier.importKind=null,specifier.local=this.parseIdentifier()):(specifier.imported=as_ident,specifier.importKind=specifierTypeKind,specifier.local=as_ident.__clone())}else null!==specifierTypeKind&&(this.match(types.name)||this.state.type.keyword)?(specifier.imported=this.parseIdentifier(!0),specifier.importKind=specifierTypeKind,this.eatContextual("as")?specifier.local=this.parseIdentifier():(isBinding=!0,specifier.local=specifier.imported.__clone())):(isBinding=!0,specifier.imported=firstIdent,specifier.importKind=null,specifier.local=specifier.imported.__clone());"type"!==node.importKind&&"typeof"!==node.importKind||"type"!==specifier.importKind&&"typeof"!==specifier.importKind||this.raise(firstIdentLoc,"`The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements`"),isBinding&&this.checkReservedWord(specifier.local.name,specifier.start,!0,!0),this.checkLVal(specifier.local,!0,void 0,"import specifier"),node.specifiers.push(this.finishNode(specifier,"ImportSpecifier"))}}),instance.extend("parseFunctionParams",function(inner){return function(node){this.isRelational("<")&&(node.typeParameters=this.flowParseTypeParameterDeclaration()),inner.call(this,node)}}),instance.extend("parseVarHead",function(inner){return function(decl){inner.call(this,decl),this.match(types.colon)&&(decl.id.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(decl.id,decl.id.type))}}),instance.extend("parseAsyncArrowFromCallExpression",function(inner){return function(node,call){if(this.match(types.colon)){var oldNoAnonFunctionType=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,node.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=oldNoAnonFunctionType}return inner.call(this,node,call)}}),instance.extend("shouldParseAsyncArrow",function(inner){return function(){return this.match(types.colon)||inner.call(this)}}),instance.extend("parseMaybeAssign",function(inner){return function(){for(var jsxError=null,_len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];if(types.jsxTagStart&&this.match(types.jsxTagStart)){var state=this.state.clone();try{return inner.apply(this,args)}catch(err){if(!(err instanceof SyntaxError))throw err;this.state=state,this.state.context.length-=2,jsxError=err}}if(null!=jsxError||this.isRelational("<")){var arrowExpression=void 0,typeParameters=void 0;try{typeParameters=this.flowParseTypeParameterDeclaration(),arrowExpression=inner.apply(this,args),arrowExpression.typeParameters=typeParameters,arrowExpression.start=typeParameters.start,arrowExpression.loc.start=typeParameters.loc.start}catch(err){throw jsxError||err}if("ArrowFunctionExpression"===arrowExpression.type)return arrowExpression;if(null!=jsxError)throw jsxError;this.raise(typeParameters.start,"Expected an arrow function after this type parameter declaration")}return inner.apply(this,args)}}),instance.extend("parseArrow",function(inner){return function(node){if(this.match(types.colon)){var state=this.state.clone();try{var oldNoAnonFunctionType=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;var returnType=this.flowParseTypeAndPredicateAnnotation();this.state.noAnonFunctionType=oldNoAnonFunctionType,this.canInsertSemicolon()&&this.unexpected(),this.match(types.arrow)||this.unexpected(),node.returnType=returnType}catch(err){if(!(err instanceof SyntaxError))throw err;this.state=state}}return inner.call(this,node)}}),instance.extend("shouldParseArrow",function(inner){return function(){return this.match(types.colon)||inner.call(this)}})},fromCodePoint=String.fromCodePoint;if(!fromCodePoint){var stringFromCharCode=String.fromCharCode,floor=Math.floor;fromCodePoint=function(){var codeUnits=[],highSurrogate=void 0,lowSurrogate=void 0,index=-1,length=arguments.length;if(!length)return"";for(var result="";++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!=codePoint)throw RangeError("Invalid code point: "+codePoint);codePoint<=65535?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=55296+(codePoint>>10),lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate)),(index+1==length||codeUnits.length>16384)&&(result+=stringFromCharCode.apply(null,codeUnits),codeUnits.length=0)}return result}}var fromCodePoint$1=fromCodePoint,XHTMLEntities={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},HEX_NUMBER=/^[\da-fA-F]+$/,DECIMAL_NUMBER=/^\d+$/;types$1.j_oTag=new TokContext("<tag",!1),types$1.j_cTag=new TokContext("</tag",!1),types$1.j_expr=new TokContext("<tag>...</tag>",!0,!0),types.jsxName=new TokenType("jsxName"),types.jsxText=new TokenType("jsxText",{beforeExpr:!0}),types.jsxTagStart=new TokenType("jsxTagStart",{startsExpr:!0}),types.jsxTagEnd=new TokenType("jsxTagEnd"),types.jsxTagStart.updateContext=function(){this.state.context.push(types$1.j_expr),this.state.context.push(types$1.j_oTag),this.state.exprAllowed=!1},types.jsxTagEnd.updateContext=function(prevType){var out=this.state.context.pop();out===types$1.j_oTag&&prevType===types.slash||out===types$1.j_cTag?(this.state.context.pop(),this.state.exprAllowed=this.curContext()===types$1.j_expr):this.state.exprAllowed=!0};var pp$9=Parser.prototype;pp$9.jsxReadToken=function(){for(var out="",chunkStart=this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated JSX contents");var ch=this.input.charCodeAt(this.state.pos);switch(ch){case 60:case 123:return this.state.pos===this.state.start?60===ch&&this.state.exprAllowed?(++this.state.pos,this.finishToken(types.jsxTagStart)):this.getTokenFromCode(ch):(out+=this.input.slice(chunkStart,this.state.pos),this.finishToken(types.jsxText,out));case 38:out+=this.input.slice(chunkStart,this.state.pos),out+=this.jsxReadEntity(),chunkStart=this.state.pos;break;default:isNewLine(ch)?(out+=this.input.slice(chunkStart,this.state.pos),out+=this.jsxReadNewLine(!0),chunkStart=this.state.pos):++this.state.pos}}},pp$9.jsxReadNewLine=function(normalizeCRLF){var ch=this.input.charCodeAt(this.state.pos),out=void 0;return++this.state.pos,13===ch&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,out=normalizeCRLF?"\n":"\r\n"):out=String.fromCharCode(ch),++this.state.curLine,this.state.lineStart=this.state.pos,out},pp$9.jsxReadString=function(quote){for(var out="",chunkStart=++this.state.pos;;){this.state.pos>=this.input.length&&this.raise(this.state.start,"Unterminated string constant");var ch=this.input.charCodeAt(this.state.pos);if(ch===quote)break
;38===ch?(out+=this.input.slice(chunkStart,this.state.pos),out+=this.jsxReadEntity(),chunkStart=this.state.pos):isNewLine(ch)?(out+=this.input.slice(chunkStart,this.state.pos),out+=this.jsxReadNewLine(!1),chunkStart=this.state.pos):++this.state.pos}return out+=this.input.slice(chunkStart,this.state.pos++),this.finishToken(types.string,out)},pp$9.jsxReadEntity=function(){for(var str="",count=0,entity=void 0,ch=this.input[this.state.pos],startPos=++this.state.pos;this.state.pos<this.input.length&&count++<10;){if(";"===(ch=this.input[this.state.pos++])){"#"===str[0]?"x"===str[1]?(str=str.substr(2),HEX_NUMBER.test(str)&&(entity=fromCodePoint$1(parseInt(str,16)))):(str=str.substr(1),DECIMAL_NUMBER.test(str)&&(entity=fromCodePoint$1(parseInt(str,10)))):entity=XHTMLEntities[str];break}str+=ch}return entity||(this.state.pos=startPos,"&")},pp$9.jsxReadWord=function(){var ch=void 0,start=this.state.pos;do{ch=this.input.charCodeAt(++this.state.pos)}while(isIdentifierChar(ch)||45===ch);return this.finishToken(types.jsxName,this.input.slice(start,this.state.pos))},pp$9.jsxParseIdentifier=function(){var node=this.startNode();return this.match(types.jsxName)?node.name=this.state.value:this.state.type.keyword?node.name=this.state.type.keyword:this.unexpected(),this.next(),this.finishNode(node,"JSXIdentifier")},pp$9.jsxParseNamespacedName=function(){var startPos=this.state.start,startLoc=this.state.startLoc,name=this.jsxParseIdentifier();if(!this.eat(types.colon))return name;var node=this.startNodeAt(startPos,startLoc);return node.namespace=name,node.name=this.jsxParseIdentifier(),this.finishNode(node,"JSXNamespacedName")},pp$9.jsxParseElementName=function(){for(var startPos=this.state.start,startLoc=this.state.startLoc,node=this.jsxParseNamespacedName();this.eat(types.dot);){var newNode=this.startNodeAt(startPos,startLoc);newNode.object=node,newNode.property=this.jsxParseIdentifier(),node=this.finishNode(newNode,"JSXMemberExpression")}return node},pp$9.jsxParseAttributeValue=function(){var node=void 0;switch(this.state.type){case types.braceL:if(node=this.jsxParseExpressionContainer(),"JSXEmptyExpression"!==node.expression.type)return node;this.raise(node.start,"JSX attributes must only be assigned a non-empty expression");case types.jsxTagStart:case types.string:return node=this.parseExprAtom(),node.extra=null,node;default:this.raise(this.state.start,"JSX value should be either an expression or a quoted JSX text")}},pp$9.jsxParseEmptyExpression=function(){var node=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(node,"JSXEmptyExpression",this.state.start,this.state.startLoc)},pp$9.jsxParseSpreadChild=function(){var node=this.startNode();return this.expect(types.braceL),this.expect(types.ellipsis),node.expression=this.parseExpression(),this.expect(types.braceR),this.finishNode(node,"JSXSpreadChild")},pp$9.jsxParseExpressionContainer=function(){var node=this.startNode();return this.next(),this.match(types.braceR)?node.expression=this.jsxParseEmptyExpression():node.expression=this.parseExpression(),this.expect(types.braceR),this.finishNode(node,"JSXExpressionContainer")},pp$9.jsxParseAttribute=function(){var node=this.startNode();return this.eat(types.braceL)?(this.expect(types.ellipsis),node.argument=this.parseMaybeAssign(),this.expect(types.braceR),this.finishNode(node,"JSXSpreadAttribute")):(node.name=this.jsxParseNamespacedName(),node.value=this.eat(types.eq)?this.jsxParseAttributeValue():null,this.finishNode(node,"JSXAttribute"))},pp$9.jsxParseOpeningElementAt=function(startPos,startLoc){var node=this.startNodeAt(startPos,startLoc);for(node.attributes=[],node.name=this.jsxParseElementName();!this.match(types.slash)&&!this.match(types.jsxTagEnd);)node.attributes.push(this.jsxParseAttribute());return node.selfClosing=this.eat(types.slash),this.expect(types.jsxTagEnd),this.finishNode(node,"JSXOpeningElement")},pp$9.jsxParseClosingElementAt=function(startPos,startLoc){var node=this.startNodeAt(startPos,startLoc);return node.name=this.jsxParseElementName(),this.expect(types.jsxTagEnd),this.finishNode(node,"JSXClosingElement")},pp$9.jsxParseElementAt=function(startPos,startLoc){var node=this.startNodeAt(startPos,startLoc),children=[],openingElement=this.jsxParseOpeningElementAt(startPos,startLoc),closingElement=null;if(!openingElement.selfClosing){contents:for(;;)switch(this.state.type){case types.jsxTagStart:if(startPos=this.state.start,startLoc=this.state.startLoc,this.next(),this.eat(types.slash)){closingElement=this.jsxParseClosingElementAt(startPos,startLoc);break contents}children.push(this.jsxParseElementAt(startPos,startLoc));break;case types.jsxText:children.push(this.parseExprAtom());break;case types.braceL:this.lookahead().type===types.ellipsis?children.push(this.jsxParseSpreadChild()):children.push(this.jsxParseExpressionContainer());break;default:this.unexpected()}getQualifiedJSXName(closingElement.name)!==getQualifiedJSXName(openingElement.name)&&this.raise(closingElement.start,"Expected corresponding JSX closing tag for <"+getQualifiedJSXName(openingElement.name)+">")}return node.openingElement=openingElement,node.closingElement=closingElement,node.children=children,this.match(types.relational)&&"<"===this.state.value&&this.raise(this.state.start,"Adjacent JSX elements must be wrapped in an enclosing tag"),this.finishNode(node,"JSXElement")},pp$9.jsxParseElement=function(){var startPos=this.state.start,startLoc=this.state.startLoc;return this.next(),this.jsxParseElementAt(startPos,startLoc)};var jsxPlugin=function(instance){instance.extend("parseExprAtom",function(inner){return function(refShortHandDefaultPos){if(this.match(types.jsxText)){var node=this.parseLiteral(this.state.value,"JSXText");return node.extra=null,node}return this.match(types.jsxTagStart)?this.jsxParseElement():inner.call(this,refShortHandDefaultPos)}}),instance.extend("readToken",function(inner){return function(code){if(this.state.inPropertyName)return inner.call(this,code);var context=this.curContext();if(context===types$1.j_expr)return this.jsxReadToken();if(context===types$1.j_oTag||context===types$1.j_cTag){if(isIdentifierStart(code))return this.jsxReadWord();if(62===code)return++this.state.pos,this.finishToken(types.jsxTagEnd);if((34===code||39===code)&&context===types$1.j_oTag)return this.jsxReadString(code)}return 60===code&&this.state.exprAllowed?(++this.state.pos,this.finishToken(types.jsxTagStart)):inner.call(this,code)}}),instance.extend("updateContext",function(inner){return function(prevType){if(this.match(types.braceL)){var curContext=this.curContext();curContext===types$1.j_oTag?this.state.context.push(types$1.braceExpression):curContext===types$1.j_expr?this.state.context.push(types$1.templateQuasi):inner.call(this,prevType),this.state.exprAllowed=!0}else{if(!this.match(types.slash)||prevType!==types.jsxTagStart)return inner.call(this,prevType);this.state.context.length-=2,this.state.context.push(types$1.j_cTag),this.state.exprAllowed=!1}}})};plugins.estree=estreePlugin,plugins.flow=flowPlugin,plugins.jsx=jsxPlugin,exports.parse=parse,exports.parseExpression=parseExpression,exports.tokTypes=types},{}],38:[function(require,module,exports){"use strict";function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}function toByteArray(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(_byteLength(b64,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],39:[function(require,module,exports){},{}],40:[function(require,module,exports){arguments[4][39][0].apply(exports,arguments)},{dup:39}],41:[function(require,module,exports){"use strict";function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError('The value "'+length+'" is invalid for option "size"');var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return fromString(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=fromObject(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function alloc(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromString(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('"length" is outside of buffer bounds');var buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),buf.__proto__=Buffer.prototype,buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}return void 0!==obj.length?"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj):"Buffer"===obj.type&&Array.isArray(obj.data)?fromArrayLike(obj.data):void 0}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,numberIsNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=str.split("=")[0],str=str.trim().replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!=0;)str+="=";return str}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,
byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g},{"base64-js":38,ieee754:230}],42:[function(require,module,exports){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],43:[function(require,module,exports){"use strict";function parse(src,state,options){options=options||{},state=state||exports.defaultState();for(var start=options.start||0,end=options.end||src.length,index=start;index<end;){try{parseChar(src[index],state)}catch(ex){throw ex.index=index,ex}index++}return state}function parseUntil(src,delimiter,options){options=options||{};for(var start=options.start||0,index=start,state=exports.defaultState();index<src.length;){if((options.ignoreNesting||!state.isNesting(options))&&matches(src,delimiter,index)){var end=index;return{start:start,end:end,src:src.substring(start,end)}}try{parseChar(src[index],state)}catch(ex){throw ex.index=index,ex}index++}var err=new Error("The end of the string was reached with no closing bracket found.");throw err.code="CHARACTER_PARSER:END_OF_STRING_REACHED",err.index=index,err}function parseChar(character,state){if(1!==character.length){var err=new Error("Character must be a string of length 1");throw err.name="InvalidArgumentError",err.code="CHARACTER_PARSER:CHAR_LENGTH_NOT_ONE",err}state=state||exports.defaultState(),state.src+=character;var wasComment=state.isComment(),lastChar=state.history?state.history[0]:"";switch(state.regexpStart&&("/"!==character&&"*"!=character||state.stack.pop(),state.regexpStart=!1),state.current()){case TOKEN_TYPES.LINE_COMMENT:"\n"===character&&state.stack.pop();break;case TOKEN_TYPES.BLOCK_COMMENT:"*"===state.lastChar&&"/"===character&&state.stack.pop();break;case TOKEN_TYPES.SINGLE_QUOTE:"'"!==character||state.escaped?"\\"!==character||state.escaped?state.escaped=!1:state.escaped=!0:state.stack.pop();break;case TOKEN_TYPES.DOUBLE_QUOTE:'"'!==character||state.escaped?"\\"!==character||state.escaped?state.escaped=!1:state.escaped=!0:state.stack.pop();break;case TOKEN_TYPES.TEMPLATE_QUOTE:"`"!==character||state.escaped?"\\"!==character||state.escaped?"$"!==character||state.escaped?"{"===character&&state.hasDollar?state.stack.push(BRACKETS[character]):(state.escaped=!1,state.hasDollar=!1):state.hasDollar=!0:(state.escaped=!0,state.hasDollar=!1):(state.stack.pop(),state.hasDollar=!1);break;case TOKEN_TYPES.REGEXP:"/"!==character||state.escaped?"\\"!==character||state.escaped?state.escaped=!1:state.escaped=!0:state.stack.pop();break;default:if(character in BRACKETS)state.stack.push(BRACKETS[character]);else if(character in BRACKETS_REVERSED){if(state.current()!==character){var err=new SyntaxError("Mismatched Bracket: "+character);throw err.code="CHARACTER_PARSER:MISMATCHED_BRACKET",err}state.stack.pop()}else"/"===lastChar&&"/"===character?(state.history=state.history.substr(1),state.stack.push(TOKEN_TYPES.LINE_COMMENT)):"/"===lastChar&&"*"===character?(state.history=state.history.substr(1),state.stack.push(TOKEN_TYPES.BLOCK_COMMENT)):"/"===character&&isRegexp(state.history)?(state.stack.push(TOKEN_TYPES.REGEXP),state.regexpStart=!0):"'"===character?state.stack.push(TOKEN_TYPES.SINGLE_QUOTE):'"'===character?state.stack.push(TOKEN_TYPES.DOUBLE_QUOTE):"`"===character&&state.stack.push(TOKEN_TYPES.TEMPLATE_QUOTE)}return state.isComment()||wasComment||(state.history=character+state.history),state.lastChar=character,state}function State(){this.stack=[],this.regexpStart=!1,this.escaped=!1,this.hasDollar=!1,this.src="",this.history="",this.lastChar=""}function matches(str,matcher,i){return objIsRegex(matcher)?matcher.test(str.substr(i||0)):str.substr(i||0,matcher.length)===matcher}function isPunctuator(c){if(!c)return!0;switch(c.charCodeAt(0)){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 33:case 61:return!0;default:return!1}}function isKeyword(id){return"if"===id||"in"===id||"do"===id||"var"===id||"for"===id||"new"===id||"try"===id||"let"===id||"this"===id||"else"===id||"case"===id||"void"===id||"with"===id||"enum"===id||"while"===id||"break"===id||"catch"===id||"throw"===id||"const"===id||"yield"===id||"class"===id||"super"===id||"return"===id||"typeof"===id||"delete"===id||"switch"===id||"export"===id||"import"===id||"default"===id||"finally"===id||"extends"===id||"function"===id||"continue"===id||"debugger"===id||"package"===id||"private"===id||"interface"===id||"instanceof"===id||"implements"===id||"protected"===id||"public"===id||"static"===id}function isRegexp(history){return history=history.replace(/^\s*/,""),")"!==history[0]&&("}"===history[0]||(!!isPunctuator(history[0])||!(!/^\w+\b/.test(history)||!isKeyword(/^\w+\b/.exec(history)[0].split("").reverse().join("")))))}var objIsRegex=require("is-regex");exports=module.exports=parse;var TOKEN_TYPES=exports.TOKEN_TYPES={LINE_COMMENT:"//",BLOCK_COMMENT:"/**/",SINGLE_QUOTE:"'",DOUBLE_QUOTE:'"',TEMPLATE_QUOTE:"`",REGEXP:"//g"},BRACKETS=exports.BRACKETS={"(":")","{":"}","[":"]"},BRACKETS_REVERSED={")":"(","}":"{","]":"["};exports.parse=parse,exports.parseUntil=parseUntil,exports.parseChar=parseChar,exports.defaultState=function(){return new State},State.prototype.current=function(){return this.stack[this.stack.length-1]},State.prototype.isString=function(){return this.current()===TOKEN_TYPES.SINGLE_QUOTE||this.current()===TOKEN_TYPES.DOUBLE_QUOTE||this.current()===TOKEN_TYPES.TEMPLATE_QUOTE},State.prototype.isComment=function(){return this.current()===TOKEN_TYPES.LINE_COMMENT||this.current()===TOKEN_TYPES.BLOCK_COMMENT},State.prototype.isNesting=function(opts){return(!opts||!opts.ignoreLineComment||1!==this.stack.length||this.stack[0]!==TOKEN_TYPES.LINE_COMMENT)&&!!this.stack.length},exports.isPunctuator=isPunctuator,exports.isKeyword=isKeyword},{"is-regex":236}],44:[function(require,module,exports){module.exports=require("./lib/clean")},{"./lib/clean":45}],45:[function(require,module,exports){(function(process){function minify(input,options,maybeSourceMap,maybeCallback){var sourceMap="function"!=typeof maybeSourceMap?maybeSourceMap:null,callback="function"==typeof maybeCallback?maybeCallback:"function"==typeof maybeSourceMap?maybeSourceMap:null,context={stats:{efficiency:0,minifiedSize:0,originalSize:0,startedAt:Date.now(),timeSpent:0},cache:{specificity:{}},errors:[],inlinedStylesheets:[],inputSourceMapTracker:inputSourceMapTracker(),localOnly:!callback,options:options,source:null,sourcesContent:{},validator:validator(options.compatibility),warnings:[]};return sourceMap&&context.inputSourceMapTracker.track(void 0,sourceMap),runner(context.localOnly)(function(){return readSources(input,context,function(tokens){var serialize=context.options.sourceMap?serializeStylesAndSourceMap:serializeStyles,optimizedTokens=optimize(tokens,context),optimizedStyles=serialize(optimizedTokens,context),output=withMetadata(optimizedStyles,context);return callback?callback(context.errors.length>0?context.errors:null,output):output})})}function runner(localOnly){return localOnly?function(callback){return callback()}:process.nextTick}function optimize(tokens,context){var optimized;return optimized=level0Optimize(tokens,context),optimized=OptimizationLevel.One in context.options.level?level1Optimize(tokens,context):tokens,optimized=OptimizationLevel.Two in context.options.level?level2Optimize(tokens,context,!0):optimized}function withMetadata(output,context){return output.stats=calculateStatsFrom(output.styles,context),output.errors=context.errors,output.inlinedStylesheets=context.inlinedStylesheets,output.warnings=context.warnings,output}function calculateStatsFrom(styles,context){var finishedAt=Date.now(),timeSpent=finishedAt-context.stats.startedAt;return delete context.stats.startedAt,context.stats.timeSpent=timeSpent,context.stats.efficiency=1-styles.length/context.stats.originalSize,context.stats.minifiedSize=styles.length,context.stats}var level0Optimize=require("./optimizer/level-0/optimize"),level1Optimize=require("./optimizer/level-1/optimize"),level2Optimize=require("./optimizer/level-2/optimize"),validator=require("./optimizer/validator"),compatibilityFrom=require("./options/compatibility"),fetchFrom=require("./options/fetch"),formatFrom=require("./options/format").formatFrom,inlineFrom=require("./options/inline"),inlineRequestFrom=require("./options/inline-request"),inlineTimeoutFrom=require("./options/inline-timeout"),OptimizationLevel=require("./options/optimization-level").OptimizationLevel,optimizationLevelFrom=require("./options/optimization-level").optimizationLevelFrom,rebaseFrom=require("./options/rebase"),rebaseToFrom=require("./options/rebase-to"),inputSourceMapTracker=require("./reader/input-source-map-tracker"),readSources=require("./reader/read-sources"),serializeStyles=require("./writer/simple"),serializeStylesAndSourceMap=require("./writer/source-maps"),CleanCSS=module.exports=function(options){options=options||{},this.options={compatibility:compatibilityFrom(options.compatibility),fetch:fetchFrom(options.fetch),format:formatFrom(options.format),inline:inlineFrom(options.inline),inlineRequest:inlineRequestFrom(options.inlineRequest),inlineTimeout:inlineTimeoutFrom(options.inlineTimeout),level:optimizationLevelFrom(options.level),rebase:rebaseFrom(options.rebase),rebaseTo:rebaseToFrom(options.rebaseTo),returnPromise:!!options.returnPromise,sourceMap:!!options.sourceMap,sourceMapInlineSources:!!options.sourceMapInlineSources}};CleanCSS.process=function(input,opts){var cleanCss,optsTo=opts.to;return delete opts.to,cleanCss=new CleanCSS(Object.assign({returnPromise:!0,rebaseTo:optsTo},opts)),cleanCss.minify(input).then(function(output){return{css:output.styles}})},CleanCSS.prototype.minify=function(input,maybeSourceMap,maybeCallback){var options=this.options;return options.returnPromise?new Promise(function(resolve,reject){minify(input,options,maybeSourceMap,function(errors,output){return errors?reject(errors):resolve(output)})}):minify(input,options,maybeSourceMap,maybeCallback)}}).call(this,require("_process"))},{"./optimizer/level-0/optimize":47,"./optimizer/level-1/optimize":48,"./optimizer/level-2/optimize":67,"./optimizer/validator":95,"./options/compatibility":97,"./options/fetch":98,"./options/format":99,"./options/inline":102,"./options/inline-request":100,"./options/inline-timeout":101,"./options/optimization-level":103,"./options/rebase":105,"./options/rebase-to":104,"./reader/input-source-map-tracker":109,"./reader/read-sources":115,"./writer/simple":137,"./writer/source-maps":138,_process:371}],46:[function(require,module,exports){var Hack={ASTERISK:"asterisk",BANG:"bang",BACKSLASH:"backslash",UNDERSCORE:"underscore"};module.exports=Hack},{}],47:[function(require,module,exports){function level0Optimize(tokens){return tokens}module.exports=level0Optimize},{}],48:[function(require,module,exports){function isNegative(value){return value&&"-"==value[1][0]&&parseFloat(value[1])<0}function isQuoted(value){return QUOTED_PATTERN.test(value)}function isUrl(value){return URL_PREFIX_PATTERN.test(value)}function normalizeUrl(value){return value.replace(URL_PREFIX_PATTERN,"url(").replace(/\\?\n|\\?\r\n/g,"")}function optimizeBackground(property){var values=property.value;1==values.length&&"none"==values[0][1]&&(values[0][1]="0 0"),1==values.length&&"transparent"==values[0][1]&&(values[0][1]="0 0")}function optimizeBorderRadius(property){var spliceAt,values=property.value;3==values.length&&"/"==values[1][1]&&values[0][1]==values[2][1]?spliceAt=1:5==values.length&&"/"==values[2][1]&&values[0][1]==values[3][1]&&values[1][1]==values[4][1]?spliceAt=2:7==values.length&&"/"==values[3][1]&&values[0][1]==values[4][1]&&values[1][1]==values[5][1]&&values[2][1]==values[6][1]?spliceAt=3:9==values.length&&"/"==values[4][1]&&values[0][1]==values[5][1]&&values[1][1]==values[6][1]&&values[2][1]==values[7][1]&&values[3][1]==values[8][1]&&(spliceAt=4),spliceAt&&(property.value.splice(spliceAt),property.dirty=!0)}function optimizeColors(name,value,compatibility){return-1===value.indexOf("#")&&-1==value.indexOf("rgb")&&-1==value.indexOf("hsl")?shortenHex(value):(value=value.replace(/rgb\((\-?\d+),(\-?\d+),(\-?\d+)\)/g,function(match,red,green,blue){return shortenRgb(red,green,blue)}).replace(/hsl\((-?\d+),(-?\d+)%?,(-?\d+)%?\)/g,function(match,hue,saturation,lightness){return shortenHsl(hue,saturation,lightness)}).replace(/(^|[^='"])#([0-9a-f]{6})/gi,function(match,prefix,color,at,inputValue){var suffix=inputValue[at+match.length];return suffix&&HEX_VALUE_PATTERN.test(suffix)?match:color[0]==color[1]&&color[2]==color[3]&&color[4]==color[5]?(prefix+"#"+color[0]+color[2]+color[4]).toLowerCase():(prefix+"#"+color).toLowerCase()}).replace(/(^|[^='"])#([0-9a-f]{3})/gi,function(match,prefix,color){return prefix+"#"+color.toLowerCase()}).replace(/(rgb|rgba|hsl|hsla)\(([^\)]+)\)/g,function(match,colorFunction,colorDef){var tokens=colorDef.split(",");return"hsl"==colorFunction&&3==tokens.length||"hsla"==colorFunction&&4==tokens.length||"rgb"==colorFunction&&3==tokens.length&&colorDef.indexOf("%")>0||"rgba"==colorFunction&&4==tokens.length&&colorDef.indexOf("%")>0?(-1==tokens[1].indexOf("%")&&(tokens[1]+="%"),-1==tokens[2].indexOf("%")&&(tokens[2]+="%"),colorFunction+"("+tokens.join(",")+")"):match}),compatibility.colors.opacity&&-1==name.indexOf("background")&&(value=value.replace(/(?:rgba|hsla)\(0,0%?,0%?,0\)/g,function(match){return split(value,",").pop().indexOf("gradient(")>-1?match:"transparent"})),shortenHex(value))}function optimizeFilter(property){1==property.value.length&&(property.value[0][1]=property.value[0][1].replace(/progid:DXImageTransform\.Microsoft\.(Alpha|Chroma)(\W)/,function(match,filter,suffix){return filter.toLowerCase()+suffix})),property.value[0][1]=property.value[0][1].replace(/,(\S)/g,", $1").replace(/ ?= ?/g,"=")}function optimizeFontWeight(property,atIndex){var value=property.value[atIndex][1];"normal"==value?value="400":"bold"==value&&(value="700"),property.value[atIndex][1]=value}function optimizeMultipleZeros(property){var spliceAt,values=property.value;4==values.length&&"0"===values[0][1]&&"0"===values[1][1]&&"0"===values[2][1]&&"0"===values[3][1]&&(spliceAt=property.name.indexOf("box-shadow")>-1?2:1),spliceAt&&(property.value.splice(spliceAt),property.dirty=!0)}function optimizeOutline(property){var values=property.value;1==values.length&&"none"==values[0][1]&&(values[0][1]="0")}function optimizePixelLengths(_,value,compatibility){return WHOLE_PIXEL_VALUE.test(value)?value.replace(WHOLE_PIXEL_VALUE,function(match,val){var newValue,intVal=parseInt(val);return 0===intVal?match:(compatibility.properties.shorterLengthUnits&&compatibility.units.pt&&3*intVal%4==0&&(newValue=3*intVal/4+"pt"),compatibility.properties.shorterLengthUnits&&compatibility.units.pc&&intVal%16==0&&(newValue=intVal/16+"pc"),compatibility.properties.shorterLengthUnits&&compatibility.units.in&&intVal%96==0&&(newValue=intVal/96+"in"),newValue&&(newValue=match.substring(0,match.indexOf(val))+newValue),newValue&&newValue.length<match.length?newValue:match)}):value}function optimizePrecision(_,value,precisionOptions){return precisionOptions.enabled&&-1!==value.indexOf(".")?value.replace(precisionOptions.decimalPointMatcher,"$1$2$3").replace(precisionOptions.zeroMatcher,function(match,integerPart,fractionPart,unit){var multiplier=precisionOptions.units[unit].multiplier,parsedInteger=parseInt(integerPart),integer=isNaN(parsedInteger)?0:parsedInteger,fraction=parseFloat(fractionPart);return Math.round((integer+fraction)*multiplier)/multiplier+unit}):value}function optimizeTimeUnits(_,value){return TIME_VALUE.test(value)?value.replace(TIME_VALUE,function(match,val,unit){var newValue;return"ms"==unit?newValue=parseInt(val)/1e3+"s":"s"==unit&&(newValue=1e3*parseFloat(val)+"ms"),newValue.length<match.length?newValue:match}):value}function optimizeUnits(name,value,unitsRegexp){return/^(?:\-moz\-calc|\-webkit\-calc|calc|rgb|hsl|rgba|hsla)\(/.test(value)?value:"flex"==name||"-ms-flex"==name||"-webkit-flex"==name||"flex-basis"==name||"-webkit-flex-basis"==name?value:value.indexOf("%")>0&&("height"==name||"max-height"==name||"width"==name||"max-width"==name)?value:value.replace(unitsRegexp,"$10$2").replace(unitsRegexp,"$10$2")}function optimizeWhitespace(name,value){return name.indexOf("filter")>-1||-1==value.indexOf(" ")||0===value.indexOf("expression")?value:value.indexOf(Marker.SINGLE_QUOTE)>-1||value.indexOf(Marker.DOUBLE_QUOTE)>-1?value:(value=value.replace(/\s+/g," "),value.indexOf("calc")>-1&&(value=value.replace(/\) ?\/ ?/g,")/ ")),value.replace(/(\(;?)\s+/g,"$1").replace(/\s+(;?\))/g,"$1").replace(/, /g,","))}function optimizeZeroDegUnit(_,value){return-1==value.indexOf("0deg")?value:value.replace(/\(0deg\)/g,"(0)")}function optimizeZeroUnits(name,value){return-1==value.indexOf("0")?value:(value.indexOf("-")>-1&&(value=value.replace(/([^\w\d\-]|^)\-0([^\.]|$)/g,"$10$2").replace(/([^\w\d\-]|^)\-0([^\.]|$)/g,"$10$2")),value.replace(/(^|\s)0+([1-9])/g,"$1$2").replace(/(^|\D)\.0+(\D|$)/g,"$10$2").replace(/(^|\D)\.0+(\D|$)/g,"$10$2").replace(/\.([1-9]*)0+(\D|$)/g,function(match,nonZeroPart,suffix){return(nonZeroPart.length>0?".":"")+nonZeroPart+suffix}).replace(/(^|\D)0\.(\d)/g,"$1.$2"))}function removeQuotes(name,value){return"content"==name||name.indexOf("font-variation-settings")>-1||name.indexOf("font-feature-settings")>-1||name.indexOf("grid-")>-1?value:QUOTED_BUT_SAFE_PATTERN.test(value)?value.substring(1,value.length-1):value}function removeUrlQuotes(value){return!/^url\(['"].+['"]\)$/.test(value)||/^url\(['"].*[\*\s\(\)'"].*['"]\)$/.test(value)||/^url\(['"]data:[^;]+;charset/.test(value)?value:value.replace(/["']/g,"")}function transformValue(propertyName,propertyValue,rule,transformCallback){var selector=serializeRules(rule),transformedValue=transformCallback(propertyName,propertyValue,selector);return void 0===transformedValue?propertyValue:!1===transformedValue?IgnoreProperty:transformedValue}function optimizeBody(rule,properties,context){var property,name,type,value,valueIsUrl,propertyToken,options=context.options,levelOptions=options.level[OptimizationLevel.One],_properties=wrapForOptimizing(properties,!0);propertyLoop:for(var i=0,l=_properties.length;i<l;i++)if(property=_properties[i],name=property.name,PROPERTY_NAME_PATTERN.test(name)||(propertyToken=property.all[property.position],context.warnings.push("Invalid property name '"+name+"' at "+formatPosition(propertyToken[1][2][0])+". Ignoring."),property.unused=!0),0===property.value.length&&(propertyToken=property.all[property.position],context.warnings.push("Empty property '"+name+"' at "+formatPosition(propertyToken[1][2][0])+". Ignoring."),property.unused=!0),property.hack&&((property.hack[0]==Hack.ASTERISK||property.hack[0]==Hack.UNDERSCORE)&&!options.compatibility.properties.iePrefixHack||property.hack[0]==Hack.BACKSLASH&&!options.compatibility.properties.ieSuffixHack||property.hack[0]==Hack.BANG&&!options.compatibility.properties.ieBangHack)&&(property.unused=!0),levelOptions.removeNegativePaddings&&0===name.indexOf("padding")&&(isNegative(property.value[0])||isNegative(property.value[1])||isNegative(property.value[2])||isNegative(property.value[3]))&&(property.unused=!0),!options.compatibility.properties.ieFilters&&isLegacyFilter(property)&&(property.unused=!0),!property.unused)if(property.block)optimizeBody(rule,property.value[0][1],context);else if(!VARIABLE_NAME_PATTERN.test(name)){for(var j=0,m=property.value.length;j<m;j++){if(type=property.value[j][0],value=property.value[j][1],valueIsUrl=isUrl(value),type==Token.PROPERTY_BLOCK){property.unused=!0,context.warnings.push("Invalid value token at "+formatPosition(value[0][1][2][0])+". Ignoring.");break}if(valueIsUrl&&!context.validator.isUrl(value)){property.unused=!0,context.warnings.push("Broken URL '"+value+"' at "+formatPosition(property.value[j][2][0])+". Ignoring.");break}if(valueIsUrl?(value=levelOptions.normalizeUrls?normalizeUrl(value):value,value=options.compatibility.properties.urlQuotes?value:removeUrlQuotes(value)):isQuoted(value)?value=levelOptions.removeQuotes?removeQuotes(name,value):value:(value=levelOptions.removeWhitespace?optimizeWhitespace(name,value):value,value=optimizePrecision(name,value,options.precision),value=optimizePixelLengths(name,value,options.compatibility),value=levelOptions.replaceTimeUnits?optimizeTimeUnits(name,value):value,value=levelOptions.replaceZeroUnits?optimizeZeroUnits(name,value):value,options.compatibility.properties.zeroUnits&&(value=optimizeZeroDegUnit(name,value),value=optimizeUnits(name,value,options.unitsRegexp)),options.compatibility.properties.colors&&(value=optimizeColors(name,value,options.compatibility))),(value=transformValue(name,value,rule,levelOptions.transform))===IgnoreProperty){property.unused=!0;continue propertyLoop}property.value[j][1]=value}levelOptions.replaceMultipleZeros&&optimizeMultipleZeros(property),"background"==name&&levelOptions.optimizeBackground?optimizeBackground(property):0===name.indexOf("border")&&name.indexOf("radius")>0&&levelOptions.optimizeBorderRadius?optimizeBorderRadius(property):"filter"==name&&levelOptions.optimizeFilter&&options.compatibility.properties.ieFilters?optimizeFilter(property):"font-weight"==name&&levelOptions.optimizeFontWeight?optimizeFontWeight(property,0):"outline"==name&&levelOptions.optimizeOutline&&optimizeOutline(property)}restoreFromOptimizing(_properties),removeUnused(_properties),removeComments(properties,options)}function removeComments(tokens,options){var token,i;for(i=0;i<tokens.length;i++)token=tokens[i],token[0]==Token.COMMENT&&(optimizeComment(token,options),0===token[1].length&&(tokens.splice(i,1),i--))}function optimizeComment(token,options){if(token[1][2]==Marker.EXCLAMATION&&("all"==options.level[OptimizationLevel.One].specialComments||options.commentsKept<options.level[OptimizationLevel.One].specialComments))return void options.commentsKept++;token[1]=[]}function cleanupCharsets(tokens){for(var hasCharset=!1,i=0,l=tokens.length;i<l;i++){var token=tokens[i];token[0]==Token.AT_RULE&&(CHARSET_REGEXP.test(token[1])&&(hasCharset||-1==token[1].indexOf(CHARSET_TOKEN)?(tokens.splice(i,1),i--,l--):(hasCharset=!0,tokens.splice(i,1),tokens.unshift([Token.AT_RULE,token[1].replace(CHARSET_REGEXP,CHARSET_TOKEN)]))))}}function buildUnitRegexp(options){var units=["px","em","ex","cm","mm","in","pt","pc","%"];return["ch","rem","vh","vm","vmax","vmin","vw"].forEach(function(unit){options.compatibility.units[unit]&&units.push(unit)}),new RegExp("(^|\\s|\\(|,)0(?:"+units.join("|")+")(\\W|$)","g")}function buildPrecisionOptions(roundingPrecision){var unit,value,precisionOptions={matcher:null,units:{}},optimizable=[]
;for(unit in roundingPrecision)(value=roundingPrecision[unit])!=DEFAULT_ROUNDING_PRECISION&&(precisionOptions.units[unit]={},precisionOptions.units[unit].value=value,precisionOptions.units[unit].multiplier=Math.pow(10,value),optimizable.push(unit));return optimizable.length>0&&(precisionOptions.enabled=!0,precisionOptions.decimalPointMatcher=new RegExp("(\\d)\\.($|"+optimizable.join("|")+")($|W)","g"),precisionOptions.zeroMatcher=new RegExp("(\\d*)(\\.\\d+)("+optimizable.join("|")+")","g")),precisionOptions}function isImport(token){return IMPORT_PREFIX_PATTERN.test(token[1])}function isLegacyFilter(property){var value;return("filter"==property.name||"-ms-filter"==property.name)&&(value=property.value[0][1],value.indexOf("progid")>-1||0===value.indexOf("alpha")||0===value.indexOf("chroma"))}function level1Optimize(tokens,context){var options=context.options,levelOptions=options.level[OptimizationLevel.One],ie7Hack=options.compatibility.selectors.ie7Hack,adjacentSpace=options.compatibility.selectors.adjacentSpace,spaceAfterClosingBrace=options.compatibility.properties.spaceAfterClosingBrace,format=options.format,mayHaveCharset=!1,afterRules=!1;options.unitsRegexp=options.unitsRegexp||buildUnitRegexp(options),options.precision=options.precision||buildPrecisionOptions(levelOptions.roundingPrecision),options.commentsKept=options.commentsKept||0;for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];switch(token[0]){case Token.AT_RULE:token[1]=isImport(token)&&afterRules?"":token[1],token[1]=levelOptions.tidyAtRules?tidyAtRule(token[1]):token[1],mayHaveCharset=!0;break;case Token.AT_RULE_BLOCK:optimizeBody(token[1],token[2],context),afterRules=!0;break;case Token.NESTED_BLOCK:token[1]=levelOptions.tidyBlockScopes?tidyBlock(token[1],spaceAfterClosingBrace):token[1],level1Optimize(token[2],context),afterRules=!0;break;case Token.COMMENT:optimizeComment(token,options);break;case Token.RULE:token[1]=levelOptions.tidySelectors?tidyRules(token[1],!ie7Hack,adjacentSpace,format,context.warnings):token[1],token[1]=token[1].length>1?sortSelectors(token[1],levelOptions.selectorsSortingMethod):token[1],optimizeBody(token[1],token[2],context),afterRules=!0}(token[0]==Token.COMMENT&&0===token[1].length||levelOptions.removeEmpty&&(0===token[1].length||token[2]&&0===token[2].length))&&(tokens.splice(i,1),i--,l--)}return levelOptions.cleanupCharsets&&mayHaveCharset&&cleanupCharsets(tokens),tokens}var shortenHex=require("./shorten-hex"),shortenHsl=require("./shorten-hsl"),shortenRgb=require("./shorten-rgb"),sortSelectors=require("./sort-selectors"),tidyRules=require("./tidy-rules"),tidyBlock=require("./tidy-block"),tidyAtRule=require("./tidy-at-rule"),Hack=require("../hack"),removeUnused=require("../remove-unused"),restoreFromOptimizing=require("../restore-from-optimizing"),wrapForOptimizing=require("../wrap-for-optimizing").all,OptimizationLevel=require("../../options/optimization-level").OptimizationLevel,Token=require("../../tokenizer/token"),Marker=require("../../tokenizer/marker"),formatPosition=require("../../utils/format-position"),split=require("../../utils/split"),serializeRules=require("../../writer/one-time").rules,IgnoreProperty="ignore-property",CHARSET_TOKEN="@charset",CHARSET_REGEXP=new RegExp("^"+CHARSET_TOKEN,"i"),DEFAULT_ROUNDING_PRECISION=require("../../options/rounding-precision").DEFAULT,WHOLE_PIXEL_VALUE=/(?:^|\s|\()(-?\d+)px/,TIME_VALUE=/^(\-?[\d\.]+)(m?s)$/,HEX_VALUE_PATTERN=/[0-9a-f]/i,PROPERTY_NAME_PATTERN=/^(?:\-chrome\-|\-[\w\-]+\w|\w[\w\-]+\w|\-\-\S+)$/,IMPORT_PREFIX_PATTERN=/^@import/i,QUOTED_PATTERN=/^('.*'|".*")$/,QUOTED_BUT_SAFE_PATTERN=/^['"][a-zA-Z][a-zA-Z\d\-_]+['"]$/,URL_PREFIX_PATTERN=/^url\(/i,VARIABLE_NAME_PATTERN=/^--\S+$/;module.exports=level1Optimize},{"../../options/optimization-level":103,"../../options/rounding-precision":106,"../../tokenizer/marker":121,"../../tokenizer/token":122,"../../utils/format-position":125,"../../utils/split":134,"../../writer/one-time":136,"../hack":46,"../remove-unused":93,"../restore-from-optimizing":94,"../wrap-for-optimizing":96,"./shorten-hex":49,"./shorten-hsl":50,"./shorten-rgb":51,"./sort-selectors":52,"./tidy-at-rule":53,"./tidy-block":54,"./tidy-rules":55}],49:[function(require,module,exports){function hexConverter(match,prefix,colorValue,suffix){return prefix+toHex[colorValue.toLowerCase()]+suffix}function nameConverter(match,colorValue,suffix){return toName[colorValue.toLowerCase()]+suffix}function shortenHex(value){var hasHex=value.indexOf("#")>-1,shortened=value.replace(toHexPattern,hexConverter);return shortened!=value&&(shortened=shortened.replace(toHexPattern,hexConverter)),hasHex?shortened.replace(toNamePattern,nameConverter):shortened}var COLORS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},toHex={},toName={};for(var name in COLORS){var hex=COLORS[name];name.length<hex.length?toName[hex]=name:toHex[name]=hex}var toHexPattern=new RegExp("(^| |,|\\))("+Object.keys(toHex).join("|")+")( |,|\\)|$)","ig"),toNamePattern=new RegExp("("+Object.keys(toName).join("|")+")([^a-f0-9]|$)","ig");module.exports=shortenHex},{}],50:[function(require,module,exports){function hslToRgb(h,s,l){var r,g,b;if(h%=360,h<0&&(h+=360),h=~~h/360,s<0?s=0:s>100&&(s=100),s=~~s/100,l<0?l=0:l>100&&(l=100),l=~~l/100,0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hueToRgb(p,q,h+1/3),g=hueToRgb(p,q,h),b=hueToRgb(p,q,h-1/3)}return[~~(255*r),~~(255*g),~~(255*b)]}function hueToRgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function shortenHsl(hue,saturation,lightness){var asRgb=hslToRgb(hue,saturation,lightness),redAsHex=asRgb[0].toString(16),greenAsHex=asRgb[1].toString(16),blueAsHex=asRgb[2].toString(16);return"#"+(1==redAsHex.length?"0":"")+redAsHex+(1==greenAsHex.length?"0":"")+greenAsHex+(1==blueAsHex.length?"0":"")+blueAsHex}module.exports=shortenHsl},{}],51:[function(require,module,exports){function shortenRgb(red,green,blue){return"#"+("00000"+(Math.max(0,Math.min(parseInt(red),255))<<16|Math.max(0,Math.min(parseInt(green),255))<<8|Math.max(0,Math.min(parseInt(blue),255))).toString(16)).slice(-6)}module.exports=shortenRgb},{}],52:[function(require,module,exports){function naturalSorter(scope1,scope2){return naturalCompare(scope1[1],scope2[1])}function standardSorter(scope1,scope2){return scope1[1]>scope2[1]?1:-1}function sortSelectors(selectors,method){switch(method){case"natural":return selectors.sort(naturalSorter);case"standard":return selectors.sort(standardSorter);case"none":case!1:return selectors}}var naturalCompare=require("../../utils/natural-compare");module.exports=sortSelectors},{"../../utils/natural-compare":132}],53:[function(require,module,exports){function tidyAtRule(value){return value.replace(/\s+/g," ").replace(/url\(\s+/g,"url(").replace(/\s+\)/g,")").trim()}module.exports=tidyAtRule},{}],54:[function(require,module,exports){function tidyBlock(values,spaceAfterClosingBrace){var withoutSpaceAfterClosingBrace,i;for(i=values.length-1;i>=0;i--)withoutSpaceAfterClosingBrace=!spaceAfterClosingBrace&&SUPPORTED_COMPACT_BLOCK_MATCHER.test(values[i][1]),values[i][1]=values[i][1].replace(/\n|\r\n/g," ").replace(/\s+/g," ").replace(/(,|:|\() /g,"$1").replace(/ \)/g,")").replace(/'([a-zA-Z][a-zA-Z\d\-_]+)'/,"$1").replace(/"([a-zA-Z][a-zA-Z\d\-_]+)"/,"$1").replace(withoutSpaceAfterClosingBrace?/\) /g:null,")");return values}var SUPPORTED_COMPACT_BLOCK_MATCHER=/^@media\W/;module.exports=tidyBlock},{}],55:[function(require,module,exports){function hasInvalidCharacters(value){var isEscaped,character,i,l,isInvalid=!1,isQuote=!1;for(i=0,l=value.length;i<l;i++){if(character=value[i],isEscaped);else if(character==Marker.SINGLE_QUOTE||character==Marker.DOUBLE_QUOTE)isQuote=!isQuote;else{if(!(isQuote||character!=Marker.CLOSE_CURLY_BRACKET&&character!=Marker.EXCLAMATION&&character!=LESS_THAN&&character!=Marker.SEMICOLON)){isInvalid=!0;break}if(!isQuote&&0===i&&RELATION_PATTERN.test(character)){isInvalid=!0;break}}isEscaped=character==Marker.BACK_SLASH}return isInvalid}function removeWhitespace(value,format){var character,isNewLineNix,isNewLineWin,isEscaped,wasEscaped,isQuoted,isSingleQuoted,isDoubleQuoted,isAttribute,isRelation,isWhitespace,i,l,stripped=[],roundBracketLevel=0,wasRelation=!1,wasWhitespace=!1,withCaseAttribute=CASE_ATTRIBUTE_PATTERN.test(value),spaceAroundRelation=format&&format.spaces[Spaces.AroundSelectorRelation];for(i=0,l=value.length;i<l;i++){if(character=value[i],isNewLineNix=character==Marker.NEW_LINE_NIX,isNewLineWin=character==Marker.NEW_LINE_NIX&&value[i-1]==Marker.CARRIAGE_RETURN,isQuoted=isSingleQuoted||isDoubleQuoted,isRelation=!isAttribute&&!isEscaped&&0===roundBracketLevel&&RELATION_PATTERN.test(character),isWhitespace=WHITESPACE_PATTERN.test(character),wasEscaped&&isQuoted&&isNewLineWin)stripped.pop(),stripped.pop();else if(isEscaped&&isQuoted&&isNewLineNix)stripped.pop();else if(isEscaped)stripped.push(character);else if(character!=Marker.OPEN_SQUARE_BRACKET||isQuoted)if(character!=Marker.CLOSE_SQUARE_BRACKET||isQuoted)if(character!=Marker.OPEN_ROUND_BRACKET||isQuoted)if(character!=Marker.CLOSE_ROUND_BRACKET||isQuoted)if(character!=Marker.SINGLE_QUOTE||isQuoted)if(character!=Marker.DOUBLE_QUOTE||isQuoted)if(character==Marker.SINGLE_QUOTE&&isQuoted)stripped.push(character),isSingleQuoted=!1;else if(character==Marker.DOUBLE_QUOTE&&isQuoted)stripped.push(character),isDoubleQuoted=!1;else{if(isWhitespace&&wasRelation&&!spaceAroundRelation)continue;!isWhitespace&&wasRelation&&spaceAroundRelation?(stripped.push(Marker.SPACE),stripped.push(character)):isWhitespace&&(isAttribute||roundBracketLevel>0)&&!isQuoted||isWhitespace&&wasWhitespace&&!isQuoted||(isNewLineWin||isNewLineNix)&&(isAttribute||roundBracketLevel>0)&&isQuoted||(isRelation&&wasWhitespace&&!spaceAroundRelation?(stripped.pop(),stripped.push(character)):isRelation&&!wasWhitespace&&spaceAroundRelation?(stripped.push(Marker.SPACE),stripped.push(character)):isWhitespace?stripped.push(Marker.SPACE):stripped.push(character))}else stripped.push(character),isDoubleQuoted=!0;else stripped.push(character),isSingleQuoted=!0;else stripped.push(character),roundBracketLevel--;else stripped.push(character),roundBracketLevel++;else stripped.push(character),isAttribute=!1;else stripped.push(character),isAttribute=!0;wasEscaped=isEscaped,isEscaped=character==Marker.BACK_SLASH,wasRelation=isRelation,wasWhitespace=isWhitespace}return withCaseAttribute?stripped.join("").replace(CASE_RESTORE_PATTERN,"$1 $2]"):stripped.join("")}function removeQuotes(value){return-1==value.indexOf("'")&&-1==value.indexOf('"')?value:value.replace(SINGLE_QUOTE_CASE_PATTERN,"=$1 $2").replace(SINGLE_QUOTE_PATTERN,"=$1$2").replace(DOUBLE_QUOTE_CASE_PATTERN,"=$1 $2").replace(DOUBLE_QUOTE_PATTERN,"=$1$2")}function tidyRules(rules,removeUnsupported,adjacentSpace,format,warnings){function removeHTMLComment(rule,match){return warnings.push("HTML comment '"+match+"' at "+formatPosition(rule[2][0])+". Removing."),""}for(var list=[],repeated=[],i=0,l=rules.length;i<l;i++){var rule=rules[i],reduced=rule[1];reduced=reduced.replace(HTML_COMMENT_PATTERN,removeHTMLComment.bind(null,rule)),hasInvalidCharacters(reduced)?warnings.push("Invalid selector '"+rule[1]+"' at "+formatPosition(rule[2][0])+". Ignoring."):(reduced=removeWhitespace(reduced,format),reduced=removeQuotes(reduced),adjacentSpace&&reduced.indexOf("nav")>0&&(reduced=reduced.replace(/\+nav(\S|$)/,"+ nav$1")),removeUnsupported&&reduced.indexOf(ASTERISK_PLUS_HTML_HACK)>-1||removeUnsupported&&reduced.indexOf(ASTERISK_FIRST_CHILD_PLUS_HTML_HACK)>-1||(reduced.indexOf("*")>-1&&(reduced=reduced.replace(/\*([:#\.\[])/g,"$1").replace(/^(\:first\-child)?\+html/,"*$1+html")),repeated.indexOf(reduced)>-1||(rule[1]=reduced,repeated.push(reduced),list.push(rule))))}return 1==list.length&&0===list[0][1].length&&(warnings.push("Empty selector '"+list[0][1]+"' at "+formatPosition(list[0][2][0])+". Ignoring."),list=[]),list}var Spaces=require("../../options/format").Spaces,Marker=require("../../tokenizer/marker"),formatPosition=require("../../utils/format-position"),CASE_ATTRIBUTE_PATTERN=/[\s"'][iI]\s*\]/,CASE_RESTORE_PATTERN=/([\d\w])([iI])\]/g,DOUBLE_QUOTE_CASE_PATTERN=/="([a-zA-Z][a-zA-Z\d\-_]+)"([iI])/g,DOUBLE_QUOTE_PATTERN=/="([a-zA-Z][a-zA-Z\d\-_]+)"(\s|\])/g,HTML_COMMENT_PATTERN=/^(?:(?:<!--|-->)\s*)+/,SINGLE_QUOTE_CASE_PATTERN=/='([a-zA-Z][a-zA-Z\d\-_]+)'([iI])/g,SINGLE_QUOTE_PATTERN=/='([a-zA-Z][a-zA-Z\d\-_]+)'(\s|\])/g,RELATION_PATTERN=/[>\+~]/,WHITESPACE_PATTERN=/\s/,ASTERISK_PLUS_HTML_HACK="*+html ",ASTERISK_FIRST_CHILD_PLUS_HTML_HACK="*:first-child+html ",LESS_THAN="<";module.exports=tidyRules},{"../../options/format":99,"../../tokenizer/marker":121,"../../utils/format-position":125}],56:[function(require,module,exports){function _anyIsInherit(values){var i,l;for(i=0,l=values.length;i<l;i++)if("inherit"==values[i][1])return!0;return!1}function _colorFilter(validator){return function(value){return"invert"==value[1]||validator.isColor(value[1])||validator.isPrefixed(value[1])}}function _styleFilter(validator){return function(value){return"inherit"!=value[1]&&validator.isStyleKeyword(value[1])&&!validator.isColorFunction(value[1])}}function _wrapDefault(name,property,compactable){var descriptor=compactable[name];return wrapSingle(descriptor.doubleValues&&2==descriptor.defaultValue.length?[Token.PROPERTY,[Token.PROPERTY_NAME,name],[Token.PROPERTY_VALUE,descriptor.defaultValue[0]],[Token.PROPERTY_VALUE,descriptor.defaultValue[1]]]:descriptor.doubleValues&&1==descriptor.defaultValue.length?[Token.PROPERTY,[Token.PROPERTY_NAME,name],[Token.PROPERTY_VALUE,descriptor.defaultValue[0]]]:[Token.PROPERTY,[Token.PROPERTY_NAME,name],[Token.PROPERTY_VALUE,descriptor.defaultValue]])}function _widthFilter(validator){return function(value){return"inherit"!=value[1]&&(validator.isWidth(value[1])||validator.isUnit(value[1])&&!validator.isDynamicUnit(value[1]))&&!validator.isStyleKeyword(value[1])&&!validator.isColorFunction(value[1])}}function animation(property,compactable,validator){var value,i,l,duration=_wrapDefault(property.name+"-duration",property,compactable),timing=_wrapDefault(property.name+"-timing-function",property,compactable),delay=_wrapDefault(property.name+"-delay",property,compactable),iteration=_wrapDefault(property.name+"-iteration-count",property,compactable),direction=_wrapDefault(property.name+"-direction",property,compactable),fill=_wrapDefault(property.name+"-fill-mode",property,compactable),play=_wrapDefault(property.name+"-play-state",property,compactable),name=_wrapDefault(property.name+"-name",property,compactable),components=[duration,timing,delay,iteration,direction,fill,play,name],values=property.value,durationSet=!1,timingSet=!1,delaySet=!1,iterationSet=!1,directionSet=!1,fillSet=!1,playSet=!1,nameSet=!1;if(1==property.value.length&&"inherit"==property.value[0][1])return duration.value=timing.value=delay.value=iteration.value=direction.value=fill.value=play.value=name.value=property.value,components;if(values.length>1&&_anyIsInherit(values))throw new InvalidPropertyError("Invalid animation values at "+formatPosition(values[0][2][0])+". Ignoring.");for(i=0,l=values.length;i<l;i++)if(value=values[i],validator.isTime(value[1])&&!durationSet)duration.value=[value],durationSet=!0;else if(validator.isTime(value[1])&&!delaySet)delay.value=[value],delaySet=!0;else if(!validator.isGlobal(value[1])&&!validator.isTimingFunction(value[1])||timingSet)if(!validator.isAnimationIterationCountKeyword(value[1])&&!validator.isPositiveNumber(value[1])||iterationSet)if(validator.isAnimationDirectionKeyword(value[1])&&!directionSet)direction.value=[value],directionSet=!0;else if(validator.isAnimationFillModeKeyword(value[1])&&!fillSet)fill.value=[value],fillSet=!0;else if(validator.isAnimationPlayStateKeyword(value[1])&&!playSet)play.value=[value],playSet=!0;else{if(!validator.isAnimationNameKeyword(value[1])&&!validator.isIdentifier(value[1])||nameSet)throw new InvalidPropertyError("Invalid animation value at "+formatPosition(value[2][0])+". Ignoring.");name.value=[value],nameSet=!0}else iteration.value=[value],iterationSet=!0;else timing.value=[value],timingSet=!0;return components}function background(property,compactable,validator){var image=_wrapDefault("background-image",property,compactable),position=_wrapDefault("background-position",property,compactable),size=_wrapDefault("background-size",property,compactable),repeat=_wrapDefault("background-repeat",property,compactable),attachment=_wrapDefault("background-attachment",property,compactable),origin=_wrapDefault("background-origin",property,compactable),clip=_wrapDefault("background-clip",property,compactable),color=_wrapDefault("background-color",property,compactable),components=[image,position,size,repeat,attachment,origin,clip,color],values=property.value,positionSet=!1,clipSet=!1,originSet=!1,repeatSet=!1,anyValueSet=!1;if(1==property.value.length&&"inherit"==property.value[0][1])return color.value=image.value=repeat.value=position.value=size.value=origin.value=clip.value=property.value,components;if(1==property.value.length&&"0 0"==property.value[0][1])return components;for(var i=values.length-1;i>=0;i--){var value=values[i];if(validator.isBackgroundAttachmentKeyword(value[1]))attachment.value=[value],anyValueSet=!0;else if(validator.isBackgroundClipKeyword(value[1])||validator.isBackgroundOriginKeyword(value[1]))clipSet?(origin.value=[value],originSet=!0):(clip.value=[value],clipSet=!0),anyValueSet=!0;else if(validator.isBackgroundRepeatKeyword(value[1]))repeatSet?repeat.value.unshift(value):(repeat.value=[value],repeatSet=!0),anyValueSet=!0;else if(validator.isBackgroundPositionKeyword(value[1])||validator.isBackgroundSizeKeyword(value[1])||validator.isUnit(value[1])||validator.isDynamicUnit(value[1])){if(i>0){var previousValue=values[i-1];previousValue[1]==Marker.FORWARD_SLASH?size.value=[value]:i>1&&values[i-2][1]==Marker.FORWARD_SLASH?(size.value=[previousValue,value],i-=2):(positionSet||(position.value=[]),position.value.unshift(value),positionSet=!0)}else positionSet||(position.value=[]),position.value.unshift(value),positionSet=!0;anyValueSet=!0}else color.value[0][1]!=compactable[color.name].defaultValue&&"none"!=color.value[0][1]||!validator.isColor(value[1])&&!validator.isPrefixed(value[1])?(validator.isUrl(value[1])||validator.isFunction(value[1]))&&(image.value=[value],anyValueSet=!0):(color.value=[value],anyValueSet=!0)}if(clipSet&&!originSet&&(origin.value=clip.value.slice(0)),!anyValueSet)throw new InvalidPropertyError("Invalid background value at "+formatPosition(values[0][2][0])+". Ignoring.");return components}function borderRadius(property,compactable){for(var values=property.value,splitAt=-1,i=0,l=values.length;i<l;i++)if(values[i][1]==Marker.FORWARD_SLASH){splitAt=i;break}if(0===splitAt||splitAt===values.length-1)throw new InvalidPropertyError("Invalid border-radius value at "+formatPosition(values[0][2][0])+". Ignoring.");var target=_wrapDefault(property.name,property,compactable);target.value=splitAt>-1?values.slice(0,splitAt):values.slice(0),target.components=fourValues(target,compactable);var remainder=_wrapDefault(property.name,property,compactable);remainder.value=splitAt>-1?values.slice(splitAt+1):values.slice(0),remainder.components=fourValues(remainder,compactable);for(var j=0;j<4;j++)target.components[j].multiplex=!0,target.components[j].value=target.components[j].value.concat(remainder.components[j].value);return target.components}function font(property,compactable,validator){var isStretchValid,isStyleValid,isVariantValid,isWeightValid,style=_wrapDefault("font-style",property,compactable),variant=_wrapDefault("font-variant",property,compactable),weight=_wrapDefault("font-weight",property,compactable),stretch=_wrapDefault("font-stretch",property,compactable),size=_wrapDefault("font-size",property,compactable),height=_wrapDefault("line-height",property,compactable),family=_wrapDefault("font-family",property,compactable),components=[style,variant,weight,stretch,size,height,family],values=property.value,index=0,isStretchSet=!1,isStyleSet=!1,isVariantSet=!1,isWeightSet=!1,isSizeSet=!1,appendableFamilyName=!1;if(!values[index])throw new InvalidPropertyError("Missing font values at "+formatPosition(property.all[property.position][1][2][0])+". Ignoring.");if(1==values.length&&"inherit"==values[0][1])return style.value=variant.value=weight.value=stretch.value=size.value=height.value=family.value=values,components;if(1==values.length&&(validator.isFontKeyword(values[0][1])||validator.isGlobal(values[0][1])||validator.isPrefixed(values[0][1])))return values[0][1]=Marker.INTERNAL+values[0][1],style.value=variant.value=weight.value=stretch.value=size.value=height.value=family.value=values,components;if(values.length<2||!_anyIsFontSize(values,validator)||!_anyIsFontFamily(values,validator))throw new InvalidPropertyError("Invalid font values at "+formatPosition(property.all[property.position][1][2][0])+". Ignoring.");if(values.length>1&&_anyIsInherit(values))throw new InvalidPropertyError("Invalid font values at "+formatPosition(values[0][2][0])+". Ignoring.");for(;index<4;){if(isStretchValid=validator.isFontStretchKeyword(values[index][1])||validator.isGlobal(values[index][1]),isStyleValid=validator.isFontStyleKeyword(values[index][1])||validator.isGlobal(values[index][1]),isVariantValid=validator.isFontVariantKeyword(values[index][1])||validator.isGlobal(values[index][1]),isWeightValid=validator.isFontWeightKeyword(values[index][1])||validator.isGlobal(values[index][1]),isStyleValid&&!isStyleSet)style.value=[values[index]],isStyleSet=!0;else if(isVariantValid&&!isVariantSet)variant.value=[values[index]],isVariantSet=!0;else if(isWeightValid&&!isWeightSet)weight.value=[values[index]],isWeightSet=!0;else{if(!isStretchValid||isStretchSet){if(isStyleValid&&isStyleSet||isVariantValid&&isVariantSet||isWeightValid&&isWeightSet||isStretchValid&&isStretchSet)throw new InvalidPropertyError("Invalid font style / variant / weight / stretch value at "+formatPosition(values[0][2][0])+". Ignoring.");break}stretch.value=[values[index]],isStretchSet=!0}index++}if(!(validator.isFontSizeKeyword(values[index][1])||validator.isUnit(values[index][1])&&!validator.isDynamicUnit(values[index][1])))throw new InvalidPropertyError("Missing font size at "+formatPosition(values[0][2][0])+". Ignoring.");if(size.value=[values[index]],isSizeSet=!0,index++,!values[index])throw new InvalidPropertyError("Missing font family at "+formatPosition(values[0][2][0])+". Ignoring.");for(isSizeSet&&values[index]&&values[index][1]==Marker.FORWARD_SLASH&&values[index+1]&&(validator.isLineHeightKeyword(values[index+1][1])||validator.isUnit(values[index+1][1])||validator.isNumber(values[index+1][1]))&&(height.value=[values[index+1]],index++,index++),family.value=[];values[index];)values[index][1]==Marker.COMMA?appendableFamilyName=!1:(appendableFamilyName?family.value[family.value.length-1][1]+=Marker.SPACE+values[index][1]:family.value.push(values[index]),appendableFamilyName=!0),index++;if(0===family.value.length)throw new InvalidPropertyError("Missing font family at "+formatPosition(values[0][2][0])+". Ignoring.");return components}function _anyIsFontSize(values,validator){var value,i,l;for(i=0,l=values.length;i<l;i++)if(value=values[i],validator.isFontSizeKeyword(value[1])||validator.isUnit(value[1])&&!validator.isDynamicUnit(value[1])||validator.isFunction(value[1]))return!0;return!1}function _anyIsFontFamily(values,validator){var value,i,l;for(i=0,l=values.length;i<l;i++)if(value=values[i],validator.isIdentifier(value[1]))return!0;return!1}function fourValues(property,compactable){var componentNames=compactable[property.name].components,components=[],value=property.value;if(value.length<1)return[];value.length<2&&(value[1]=value[0].slice(0)),value.length<3&&(value[2]=value[0].slice(0)),value.length<4&&(value[3]=value[1].slice(0));for(var i=componentNames.length-1;i>=0;i--){var component=wrapSingle([Token.PROPERTY,[Token.PROPERTY_NAME,componentNames[i]]]);component.value=[value[i]],components.unshift(component)}return components}function multiplex(splitWith){return function(property,compactable,validator){var i,j,l,m,splitsAt=[],values=property.value;for(i=0,l=values.length;i<l;i++)","==values[i][1]&&splitsAt.push(i);if(0===splitsAt.length)return splitWith(property,compactable,validator);var splitComponents=[];for(i=0,l=splitsAt.length;i<=l;i++){var from=0===i?0:splitsAt[i-1]+1,to=i<l?splitsAt[i]:values.length,_property=_wrapDefault(property.name,property,compactable);_property.value=values.slice(from,to),splitComponents.push(splitWith(_property,compactable,validator))}var components=splitComponents[0];for(i=0,l=components.length;i<l;i++)for(components[i].multiplex=!0,j=1,m=splitComponents.length;j<m;j++)components[i].value.push([Token.PROPERTY_VALUE,Marker.COMMA]),Array.prototype.push.apply(components[i].value,splitComponents[j][i].value);return components}}function listStyle(property,compactable,validator){var type=_wrapDefault("list-style-type",property,compactable),position=_wrapDefault("list-style-position",property,compactable),image=_wrapDefault("list-style-image",property,compactable),components=[type,position,image];if(1==property.value.length&&"inherit"==property.value[0][1])return type.value=position.value=image.value=[property.value[0]],components;var values=property.value.slice(0),total=values.length,index=0;for(index=0,total=values.length;index<total;index++)if(validator.isUrl(values[index][1])||"0"==values[index][1]){image.value=[values[index]],values.splice(index,1);break}for(index=0,total=values.length;index<total;index++)if(validator.isListStylePositionKeyword(values[index][1])){position.value=[values[index]],values.splice(index,1);break}return values.length>0&&(validator.isListStyleTypeKeyword(values[0][1])||validator.isIdentifier(values[0][1]))&&(type.value=[values[0]]),components}function transition(property,compactable,validator){var value,i,l,prop=_wrapDefault(property.name+"-property",property,compactable),duration=_wrapDefault(property.name+"-duration",property,compactable),timing=_wrapDefault(property.name+"-timing-function",property,compactable),delay=_wrapDefault(property.name+"-delay",property,compactable),components=[prop,duration,timing,delay],values=property.value,durationSet=!1,delaySet=!1,propSet=!1,timingSet=!1;if(1==property.value.length&&"inherit"==property.value[0][1])return prop.value=duration.value=timing.value=delay.value=property.value,components;if(values.length>1&&_anyIsInherit(values))throw new InvalidPropertyError("Invalid animation values at "+formatPosition(values[0][2][0])+". Ignoring.");for(i=0,l=values.length;i<l;i++)if(value=values[i],validator.isTime(value[1])&&!durationSet)duration.value=[value],durationSet=!0;else if(validator.isTime(value[1])&&!delaySet)delay.value=[value],delaySet=!0;else if(!validator.isGlobal(value[1])&&!validator.isTimingFunction(value[1])||timingSet){if(!validator.isIdentifier(value[1])||propSet)throw new InvalidPropertyError("Invalid animation value at "+formatPosition(value[2][0])+". Ignoring.");prop.value=[value],propSet=!0}else timing.value=[value],timingSet=!0;return components}function widthStyleColor(property,compactable,validator){for(var color,style,width,descriptor=compactable[property.name],components=[_wrapDefault(descriptor.components[0],property,compactable),_wrapDefault(descriptor.components[1],property,compactable),_wrapDefault(descriptor.components[2],property,compactable)],i=0;i<3;i++){var component=components[i];component.name.indexOf("color")>0?color=component:component.name.indexOf("style")>0?style=component:width=component}if(1==property.value.length&&"inherit"==property.value[0][1]||3==property.value.length&&"inherit"==property.value[0][1]&&"inherit"==property.value[1][1]&&"inherit"==property.value[2][1])return color.value=style.value=width.value=[property.value[0]],components;var match,matches,values=property.value.slice(0);return values.length>0&&(matches=values.filter(_widthFilter(validator)),(match=matches.length>1&&("none"==matches[0][1]||"auto"==matches[0][1])?matches[1]:matches[0])&&(width.value=[match],values.splice(values.indexOf(match),1))),values.length>0&&(match=values.filter(_styleFilter(validator))[0])&&(style.value=[match],values.splice(values.indexOf(match),1)),values.length>0&&(match=values.filter(_colorFilter(validator))[0])&&(color.value=[match],values.splice(values.indexOf(match),1)),components}var InvalidPropertyError=require("./invalid-property-error"),wrapSingle=require("../wrap-for-optimizing").single,Token=require("../../tokenizer/token"),Marker=require("../../tokenizer/marker"),formatPosition=require("../../utils/format-position");module.exports={animation:animation,background:background,border:widthStyleColor,borderRadius:borderRadius,font:font,fourValues:fourValues,listStyle:listStyle,multiplex:multiplex,outline:widthStyleColor,transition:transition}},{"../../tokenizer/marker":121,"../../tokenizer/token":122,"../../utils/format-position":125,"../wrap-for-optimizing":96,"./invalid-property-error":61}],
57:[function(require,module,exports){function animationIterationCount(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isAnimationIterationCountKeyword(value2)||validator.isPositiveNumber(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(validator.isAnimationIterationCountKeyword(value2)||validator.isPositiveNumber(value2)))}function animationName(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isAnimationNameKeyword(value2)||validator.isIdentifier(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(validator.isAnimationNameKeyword(value2)||validator.isIdentifier(value2)))}function areSameFunction(validator,value1,value2){return!(!validator.isFunction(value1)||!validator.isFunction(value2))&&value1.substring(0,value1.indexOf("("))===value2.substring(0,value2.indexOf("("))}function backgroundPosition(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isBackgroundPositionKeyword(value2)||validator.isGlobal(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(!(!validator.isBackgroundPositionKeyword(value2)&&!validator.isGlobal(value2))||unit(validator,value1,value2)))}function backgroundSize(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isBackgroundSizeKeyword(value2)||validator.isGlobal(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(!(!validator.isBackgroundSizeKeyword(value2)&&!validator.isGlobal(value2))||unit(validator,value1,value2)))}function color(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isColor(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||!(!validator.colorOpacity&&(validator.isRgbColor(value1)||validator.isHslColor(value1)))&&(!(!validator.colorOpacity&&(validator.isRgbColor(value2)||validator.isHslColor(value2)))&&(!(!validator.isColor(value1)||!validator.isColor(value2))||sameFunctionOrValue(validator,value1,value2))))}function components(overrideCheckers){return function(validator,value1,value2,position){return overrideCheckers[position](validator,value1,value2)}}function fontFamily(validator,value1,value2){return understandable(validator,value1,value2,0,!0)}function image(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isImage(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(!!validator.isImage(value2)||!validator.isImage(value1)&&sameFunctionOrValue(validator,value1,value2)))}function keyword(propertyName){return function(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isKeyword(propertyName)(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||validator.isKeyword(propertyName)(value2))}}function keywordWithGlobal(propertyName){return function(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isKeyword(propertyName)(value2)||validator.isGlobal(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(validator.isKeyword(propertyName)(value2)||validator.isGlobal(value2)))}}function propertyName(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isIdentifier(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||validator.isIdentifier(value2))}function sameFunctionOrValue(validator,value1,value2){return!!areSameFunction(validator,value1,value2)||value1===value2}function textShadow(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isUnit(value2)||validator.isColor(value2)||validator.isGlobal(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(validator.isUnit(value2)||validator.isColor(value2)||validator.isGlobal(value2)))}function time(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isTime(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||!(validator.isTime(value1)&&!validator.isTime(value2))&&(!!validator.isTime(value2)||!validator.isTime(value1)&&(!(!validator.isFunction(value1)||validator.isPrefixed(value1)||!validator.isFunction(value2)||validator.isPrefixed(value2))||sameFunctionOrValue(validator,value1,value2))))}function timingFunction(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isTimingFunction(value2)||validator.isGlobal(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||(validator.isTimingFunction(value2)||validator.isGlobal(value2)))}function unit(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isUnit(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||!(validator.isUnit(value1)&&!validator.isUnit(value2))&&(!!validator.isUnit(value2)||!validator.isUnit(value1)&&(!(!validator.isFunction(value1)||validator.isPrefixed(value1)||!validator.isFunction(value2)||validator.isPrefixed(value2))||sameFunctionOrValue(validator,value1,value2))))}function unitOrKeywordWithGlobal(propertyName){var byKeyword=keywordWithGlobal(propertyName);return function(validator,value1,value2){return unit(validator,value1,value2)||byKeyword(validator,value1,value2)}}function unitOrNumber(validator,value1,value2){return!!(understandable(validator,value1,value2,0,!0)||validator.isUnit(value2)||validator.isNumber(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||!((validator.isUnit(value1)||validator.isNumber(value1))&&!validator.isUnit(value2)&&!validator.isNumber(value2))&&(!(!validator.isUnit(value2)&&!validator.isNumber(value2))||!validator.isUnit(value1)&&!validator.isNumber(value1)&&(!(!validator.isFunction(value1)||validator.isPrefixed(value1)||!validator.isFunction(value2)||validator.isPrefixed(value2))||sameFunctionOrValue(validator,value1,value2))))}function zIndex(validator,value1,value2){return!(!understandable(validator,value1,value2,0,!0)&&!validator.isZIndex(value2))&&(!(!validator.isVariable(value1)||!validator.isVariable(value2))||validator.isZIndex(value2))}var understandable=require("./properties/understandable");module.exports={generic:{color:color,components:components,image:image,propertyName:propertyName,time:time,timingFunction:timingFunction,unit:unit,unitOrNumber:unitOrNumber},property:{animationDirection:keywordWithGlobal("animation-direction"),animationFillMode:keyword("animation-fill-mode"),animationIterationCount:animationIterationCount,animationName:animationName,animationPlayState:keywordWithGlobal("animation-play-state"),backgroundAttachment:keyword("background-attachment"),backgroundClip:keywordWithGlobal("background-clip"),backgroundOrigin:keyword("background-origin"),backgroundPosition:backgroundPosition,backgroundRepeat:keyword("background-repeat"),backgroundSize:backgroundSize,bottom:unitOrKeywordWithGlobal("bottom"),borderCollapse:keyword("border-collapse"),borderStyle:keywordWithGlobal("*-style"),clear:keywordWithGlobal("clear"),cursor:keywordWithGlobal("cursor"),display:keywordWithGlobal("display"),float:keywordWithGlobal("float"),left:unitOrKeywordWithGlobal("left"),fontFamily:fontFamily,fontStretch:keywordWithGlobal("font-stretch"),fontStyle:keywordWithGlobal("font-style"),fontVariant:keywordWithGlobal("font-variant"),fontWeight:keywordWithGlobal("font-weight"),listStyleType:keywordWithGlobal("list-style-type"),listStylePosition:keywordWithGlobal("list-style-position"),outlineStyle:keywordWithGlobal("*-style"),overflow:keywordWithGlobal("overflow"),position:keywordWithGlobal("position"),right:unitOrKeywordWithGlobal("right"),textAlign:keywordWithGlobal("text-align"),textDecoration:keywordWithGlobal("text-decoration"),textOverflow:keywordWithGlobal("text-overflow"),textShadow:textShadow,top:unitOrKeywordWithGlobal("top"),transform:sameFunctionOrValue,verticalAlign:unitOrKeywordWithGlobal("vertical-align"),visibility:keywordWithGlobal("visibility"),whiteSpace:keywordWithGlobal("white-space"),zIndex:zIndex}}},{"./properties/understandable":78}],58:[function(require,module,exports){function deep(property){for(var cloned=shallow(property),i=property.components.length-1;i>=0;i--){var component=shallow(property.components[i]);component.value=property.components[i].value.slice(0),cloned.components.unshift(component)}return cloned.dirty=!0,cloned.value=property.value.slice(0),cloned}function shallow(property){var cloned=wrapSingle([Token.PROPERTY,[Token.PROPERTY_NAME,property.name]]);return cloned.important=property.important,cloned.hack=property.hack,cloned.unused=!1,cloned}var wrapSingle=require("../wrap-for-optimizing").single,Token=require("../../tokenizer/token");module.exports={deep:deep,shallow:shallow}},{"../../tokenizer/token":122,"../wrap-for-optimizing":96}],59:[function(require,module,exports){var breakUp=require("./break-up"),canOverride=require("./can-override"),restore=require("./restore"),override=require("../../utils/override"),compactable={animation:{canOverride:canOverride.generic.components([canOverride.generic.time,canOverride.generic.timingFunction,canOverride.generic.time,canOverride.property.animationIterationCount,canOverride.property.animationDirection,canOverride.property.animationFillMode,canOverride.property.animationPlayState,canOverride.property.animationName]),components:["animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state","animation-name"],breakUp:breakUp.multiplex(breakUp.animation),defaultValue:"none",restore:restore.multiplex(restore.withoutDefaults),shorthand:!0,vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-delay":{canOverride:canOverride.generic.time,componentOf:["animation"],defaultValue:"0s",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-direction":{canOverride:canOverride.property.animationDirection,componentOf:["animation"],defaultValue:"normal",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-duration":{canOverride:canOverride.generic.time,componentOf:["animation"],defaultValue:"0s",intoMultiplexMode:"real",keepUnlessDefault:"animation-delay",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-fill-mode":{canOverride:canOverride.property.animationFillMode,componentOf:["animation"],defaultValue:"none",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-iteration-count":{canOverride:canOverride.property.animationIterationCount,componentOf:["animation"],defaultValue:"1",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-name":{canOverride:canOverride.property.animationName,componentOf:["animation"],defaultValue:"none",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-play-state":{canOverride:canOverride.property.animationPlayState,componentOf:["animation"],defaultValue:"running",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"animation-timing-function":{canOverride:canOverride.generic.timingFunction,componentOf:["animation"],defaultValue:"ease",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},background:{canOverride:canOverride.generic.components([canOverride.generic.image,canOverride.property.backgroundPosition,canOverride.property.backgroundSize,canOverride.property.backgroundRepeat,canOverride.property.backgroundAttachment,canOverride.property.backgroundOrigin,canOverride.property.backgroundClip,canOverride.generic.color]),components:["background-image","background-position","background-size","background-repeat","background-attachment","background-origin","background-clip","background-color"],breakUp:breakUp.multiplex(breakUp.background),defaultValue:"0 0",restore:restore.multiplex(restore.background),shortestValue:"0",shorthand:!0},"background-attachment":{canOverride:canOverride.property.backgroundAttachment,componentOf:["background"],defaultValue:"scroll",intoMultiplexMode:"real"},"background-clip":{canOverride:canOverride.property.backgroundClip,componentOf:["background"],defaultValue:"border-box",intoMultiplexMode:"real",shortestValue:"border-box"},"background-color":{canOverride:canOverride.generic.color,componentOf:["background"],defaultValue:"transparent",intoMultiplexMode:"real",multiplexLastOnly:!0,nonMergeableValue:"none",shortestValue:"red"},"background-image":{canOverride:canOverride.generic.image,componentOf:["background"],defaultValue:"none",intoMultiplexMode:"default"},"background-origin":{canOverride:canOverride.property.backgroundOrigin,componentOf:["background"],defaultValue:"padding-box",intoMultiplexMode:"real",shortestValue:"border-box"},"background-position":{canOverride:canOverride.property.backgroundPosition,componentOf:["background"],defaultValue:["0","0"],doubleValues:!0,intoMultiplexMode:"real",shortestValue:"0"},"background-repeat":{canOverride:canOverride.property.backgroundRepeat,componentOf:["background"],defaultValue:["repeat"],doubleValues:!0,intoMultiplexMode:"real"},"background-size":{canOverride:canOverride.property.backgroundSize,componentOf:["background"],defaultValue:["auto"],doubleValues:!0,intoMultiplexMode:"real",shortestValue:"0 0"},bottom:{canOverride:canOverride.property.bottom,defaultValue:"auto"},border:{breakUp:breakUp.border,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.property.borderStyle,canOverride.generic.color]),components:["border-width","border-style","border-color"],defaultValue:"none",overridesShorthands:["border-bottom","border-left","border-right","border-top"],restore:restore.withoutDefaults,shorthand:!0,shorthandComponents:!0},"border-bottom":{breakUp:breakUp.border,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.property.borderStyle,canOverride.generic.color]),components:["border-bottom-width","border-bottom-style","border-bottom-color"],defaultValue:"none",restore:restore.withoutDefaults,shorthand:!0},"border-bottom-color":{canOverride:canOverride.generic.color,componentOf:["border-bottom","border-color"],defaultValue:"none"},"border-bottom-left-radius":{canOverride:canOverride.generic.unit,componentOf:["border-radius"],defaultValue:"0",vendorPrefixes:["-moz-","-o-"]},"border-bottom-right-radius":{canOverride:canOverride.generic.unit,componentOf:["border-radius"],defaultValue:"0",vendorPrefixes:["-moz-","-o-"]},"border-bottom-style":{canOverride:canOverride.property.borderStyle,componentOf:["border-bottom","border-style"],defaultValue:"none"},"border-bottom-width":{canOverride:canOverride.generic.unit,componentOf:["border-bottom","border-width"],defaultValue:"medium",oppositeTo:"border-top-width",shortestValue:"0"},"border-collapse":{canOverride:canOverride.property.borderCollapse,defaultValue:"separate"},"border-color":{breakUp:breakUp.fourValues,canOverride:canOverride.generic.components([canOverride.generic.color,canOverride.generic.color,canOverride.generic.color,canOverride.generic.color]),componentOf:["border"],components:["border-top-color","border-right-color","border-bottom-color","border-left-color"],defaultValue:"none",restore:restore.fourValues,shortestValue:"red",shorthand:!0},"border-left":{breakUp:breakUp.border,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.property.borderStyle,canOverride.generic.color]),components:["border-left-width","border-left-style","border-left-color"],defaultValue:"none",restore:restore.withoutDefaults,shorthand:!0},"border-left-color":{canOverride:canOverride.generic.color,componentOf:["border-color","border-left"],defaultValue:"none"},"border-left-style":{canOverride:canOverride.property.borderStyle,componentOf:["border-left","border-style"],defaultValue:"none"},"border-left-width":{canOverride:canOverride.generic.unit,componentOf:["border-left","border-width"],defaultValue:"medium",oppositeTo:"border-right-width",shortestValue:"0"},"border-radius":{breakUp:breakUp.borderRadius,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit]),components:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],defaultValue:"0",restore:restore.borderRadius,shorthand:!0,vendorPrefixes:["-moz-","-o-"]},"border-right":{breakUp:breakUp.border,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.property.borderStyle,canOverride.generic.color]),components:["border-right-width","border-right-style","border-right-color"],defaultValue:"none",restore:restore.withoutDefaults,shorthand:!0},"border-right-color":{canOverride:canOverride.generic.color,componentOf:["border-color","border-right"],defaultValue:"none"},"border-right-style":{canOverride:canOverride.property.borderStyle,componentOf:["border-right","border-style"],defaultValue:"none"},"border-right-width":{canOverride:canOverride.generic.unit,componentOf:["border-right","border-width"],defaultValue:"medium",oppositeTo:"border-left-width",shortestValue:"0"},"border-style":{breakUp:breakUp.fourValues,canOverride:canOverride.generic.components([canOverride.property.borderStyle,canOverride.property.borderStyle,canOverride.property.borderStyle,canOverride.property.borderStyle]),componentOf:["border"],components:["border-top-style","border-right-style","border-bottom-style","border-left-style"],defaultValue:"none",restore:restore.fourValues,shorthand:!0},"border-top":{breakUp:breakUp.border,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.property.borderStyle,canOverride.generic.color]),components:["border-top-width","border-top-style","border-top-color"],defaultValue:"none",restore:restore.withoutDefaults,shorthand:!0},"border-top-color":{canOverride:canOverride.generic.color,componentOf:["border-color","border-top"],defaultValue:"none"},"border-top-left-radius":{canOverride:canOverride.generic.unit,componentOf:["border-radius"],defaultValue:"0",vendorPrefixes:["-moz-","-o-"]},"border-top-right-radius":{canOverride:canOverride.generic.unit,componentOf:["border-radius"],defaultValue:"0",vendorPrefixes:["-moz-","-o-"]},"border-top-style":{canOverride:canOverride.property.borderStyle,componentOf:["border-style","border-top"],defaultValue:"none"},"border-top-width":{canOverride:canOverride.generic.unit,componentOf:["border-top","border-width"],defaultValue:"medium",oppositeTo:"border-bottom-width",shortestValue:"0"},"border-width":{breakUp:breakUp.fourValues,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit]),componentOf:["border"],components:["border-top-width","border-right-width","border-bottom-width","border-left-width"],defaultValue:"medium",restore:restore.fourValues,shortestValue:"0",shorthand:!0},clear:{canOverride:canOverride.property.clear,defaultValue:"none"},color:{canOverride:canOverride.generic.color,defaultValue:"transparent",shortestValue:"red"},cursor:{canOverride:canOverride.property.cursor,defaultValue:"auto"},display:{canOverride:canOverride.property.display},float:{canOverride:canOverride.property.float,defaultValue:"none"},font:{breakUp:breakUp.font,canOverride:canOverride.generic.components([canOverride.property.fontStyle,canOverride.property.fontVariant,canOverride.property.fontWeight,canOverride.property.fontStretch,canOverride.generic.unit,canOverride.generic.unit,canOverride.property.fontFamily]),components:["font-style","font-variant","font-weight","font-stretch","font-size","line-height","font-family"],restore:restore.font,shorthand:!0},"font-family":{canOverride:canOverride.property.fontFamily,defaultValue:"user|agent|specific"},"font-size":{canOverride:canOverride.generic.unit,defaultValue:"medium",shortestValue:"0"},"font-stretch":{canOverride:canOverride.property.fontStretch,defaultValue:"normal"},"font-style":{canOverride:canOverride.property.fontStyle,defaultValue:"normal"},"font-variant":{canOverride:canOverride.property.fontVariant,defaultValue:"normal"},"font-weight":{canOverride:canOverride.property.fontWeight,defaultValue:"normal",shortestValue:"400"},height:{canOverride:canOverride.generic.unit,defaultValue:"auto",shortestValue:"0"},left:{canOverride:canOverride.property.left,defaultValue:"auto"},"line-height":{canOverride:canOverride.generic.unitOrNumber,defaultValue:"normal",shortestValue:"0"},"list-style":{canOverride:canOverride.generic.components([canOverride.property.listStyleType,canOverride.property.listStylePosition,canOverride.property.listStyleImage]),components:["list-style-type","list-style-position","list-style-image"],breakUp:breakUp.listStyle,restore:restore.withoutDefaults,defaultValue:"outside",shortestValue:"none",shorthand:!0},"list-style-image":{canOverride:canOverride.generic.image,componentOf:["list-style"],defaultValue:"none"},"list-style-position":{canOverride:canOverride.property.listStylePosition,componentOf:["list-style"],defaultValue:"outside",shortestValue:"inside"},"list-style-type":{canOverride:canOverride.property.listStyleType,componentOf:["list-style"],defaultValue:"decimal|disc",shortestValue:"none"},margin:{breakUp:breakUp.fourValues,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit]),components:["margin-top","margin-right","margin-bottom","margin-left"],defaultValue:"0",restore:restore.fourValues,shorthand:!0},"margin-bottom":{canOverride:canOverride.generic.unit,componentOf:["margin"],defaultValue:"0",oppositeTo:"margin-top"},"margin-left":{canOverride:canOverride.generic.unit,componentOf:["margin"],defaultValue:"0",oppositeTo:"margin-right"},"margin-right":{canOverride:canOverride.generic.unit,componentOf:["margin"],defaultValue:"0",oppositeTo:"margin-left"},"margin-top":{canOverride:canOverride.generic.unit,componentOf:["margin"],defaultValue:"0",oppositeTo:"margin-bottom"},outline:{canOverride:canOverride.generic.components([canOverride.generic.color,canOverride.property.outlineStyle,canOverride.generic.unit]),components:["outline-color","outline-style","outline-width"],breakUp:breakUp.outline,restore:restore.withoutDefaults,defaultValue:"0",shorthand:!0},"outline-color":{canOverride:canOverride.generic.color,componentOf:["outline"],defaultValue:"invert",shortestValue:"red"},"outline-style":{canOverride:canOverride.property.outlineStyle,componentOf:["outline"],defaultValue:"none"},"outline-width":{canOverride:canOverride.generic.unit,componentOf:["outline"],defaultValue:"medium",shortestValue:"0"},overflow:{canOverride:canOverride.property.overflow,defaultValue:"visible"},"overflow-x":{canOverride:canOverride.property.overflow,defaultValue:"visible"},"overflow-y":{canOverride:canOverride.property.overflow,defaultValue:"visible"},padding:{breakUp:breakUp.fourValues,canOverride:canOverride.generic.components([canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit,canOverride.generic.unit]),components:["padding-top","padding-right","padding-bottom","padding-left"],defaultValue:"0",restore:restore.fourValues,shorthand:!0},"padding-bottom":{canOverride:canOverride.generic.unit,componentOf:["padding"],defaultValue:"0",oppositeTo:"padding-top"},"padding-left":{canOverride:canOverride.generic.unit,componentOf:["padding"],defaultValue:"0",oppositeTo:"padding-right"},"padding-right":{canOverride:canOverride.generic.unit,componentOf:["padding"],defaultValue:"0",oppositeTo:"padding-left"},"padding-top":{canOverride:canOverride.generic.unit,componentOf:["padding"],defaultValue:"0",oppositeTo:"padding-bottom"},position:{canOverride:canOverride.property.position,defaultValue:"static"},right:{canOverride:canOverride.property.right,defaultValue:"auto"},"text-align":{canOverride:canOverride.property.textAlign,defaultValue:"left|right"},"text-decoration":{canOverride:canOverride.property.textDecoration,defaultValue:"none"},"text-overflow":{canOverride:canOverride.property.textOverflow,defaultValue:"none"},"text-shadow":{canOverride:canOverride.property.textShadow,defaultValue:"none"},top:{canOverride:canOverride.property.top,defaultValue:"auto"},transform:{canOverride:canOverride.property.transform,vendorPrefixes:["-moz-","-ms-","-webkit-"]},transition:{breakUp:breakUp.multiplex(breakUp.transition),canOverride:canOverride.generic.components([canOverride.property.transitionProperty,canOverride.generic.time,canOverride.generic.timingFunction,canOverride.generic.time]),components:["transition-property","transition-duration","transition-timing-function","transition-delay"],defaultValue:"none",restore:restore.multiplex(restore.withoutDefaults),shorthand:!0,vendorPrefixes:["-moz-","-o-","-webkit-"]},"transition-delay":{canOverride:canOverride.generic.time,componentOf:["transition"],defaultValue:"0s",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"transition-duration":{canOverride:canOverride.generic.time,componentOf:["transition"],defaultValue:"0s",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"transition-property":{canOverride:canOverride.generic.propertyName,componentOf:["transition"],defaultValue:"all",intoMultiplexMode:"placeholder",placeholderValue:"_",vendorPrefixes:["-moz-","-o-","-webkit-"]},"transition-timing-function":{canOverride:canOverride.generic.timingFunction,componentOf:["transition"],defaultValue:"ease",intoMultiplexMode:"real",vendorPrefixes:["-moz-","-o-","-webkit-"]},"vertical-align":{canOverride:canOverride.property.verticalAlign,defaultValue:"baseline"},visibility:{canOverride:canOverride.property.visibility,defaultValue:"visible"},"white-space":{canOverride:canOverride.property.whiteSpace,defaultValue:"normal"},width:{canOverride:canOverride.generic.unit,defaultValue:"auto",shortestValue:"0"},"z-index":{canOverride:canOverride.property.zIndex,defaultValue:"auto"}},vendorPrefixedCompactable={};for(var propertyName in compactable){var descriptor=compactable[propertyName];if("vendorPrefixes"in descriptor){for(var i=0;i<descriptor.vendorPrefixes.length;i++){var prefix=descriptor.vendorPrefixes[i],clonedDescriptor=function(propertyName,prefix){var clonedDescriptor=override(compactable[propertyName],{});return"componentOf"in clonedDescriptor&&(clonedDescriptor.componentOf=clonedDescriptor.componentOf.map(function(shorthandName){return prefix+shorthandName})),"components"in clonedDescriptor&&(clonedDescriptor.components=clonedDescriptor.components.map(function(longhandName){return prefix+longhandName})),"keepUnlessDefault"in clonedDescriptor&&(clonedDescriptor.keepUnlessDefault=prefix+clonedDescriptor.keepUnlessDefault),clonedDescriptor}(propertyName,prefix);delete clonedDescriptor.vendorPrefixes,vendorPrefixedCompactable[prefix+propertyName]=clonedDescriptor}delete descriptor.vendorPrefixes}}module.exports=override(compactable,vendorPrefixedCompactable)},{"../../utils/override":133,"./break-up":56,"./can-override":57,"./restore":87}],60:[function(require,module,exports){function extractProperties(token){var inSpecificSelector,property,name,value,i,l,properties=[];if(token[0]==Token.RULE)for(inSpecificSelector=!/[\.\+>~]/.test(serializeRules(token[1])),i=0,l=token[2].length;i<l;i++)property=token[2][i],property[0]==Token.PROPERTY&&(name=property[1][1],0!==name.length&&0!==name.indexOf("--")&&(value=serializeValue(property,i),properties.push([name,value,findNameRoot(name),token[2][i],name+":"+value,token[1],inSpecificSelector])));else if(token[0]==Token.NESTED_BLOCK)for(i=0,l=token[2].length;i<l;i++)properties=properties.concat(extractProperties(token[2][i]));return properties}function findNameRoot(name){return"list-style"==name?name:name.indexOf("-radius")>0?"border-radius":"border-collapse"==name||"border-spacing"==name||"border-image"==name?name:0===name.indexOf("border-")&&/^border\-\w+\-\w+$/.test(name)?name.match(/border\-\w+/)[0]:0===name.indexOf("border-")&&/^border\-\w+$/.test(name)?"border":0===name.indexOf("text-")?name:"-chrome-"==name?name:name.replace(/^\-\w+\-/,"").match(/([a-zA-Z]+)/)[0].toLowerCase()}var Token=require("../../tokenizer/token"),serializeRules=require("../../writer/one-time").rules,serializeValue=require("../../writer/one-time").value;module.exports=extractProperties},{"../../tokenizer/token":122,"../../writer/one-time":136}],61:[function(require,module,exports){function InvalidPropertyError(message){this.name="InvalidPropertyError",this.message=message,this.stack=(new Error).stack}InvalidPropertyError.prototype=Object.create(Error.prototype),InvalidPropertyError.prototype.constructor=InvalidPropertyError,module.exports=InvalidPropertyError},{}],62:[function(require,module,exports){function isMergeable(selector,mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging){var singleSelector,i,l,singleSelectors=split(selector,Marker.COMMA);for(i=0,l=singleSelectors.length;i<l;i++)if(singleSelector=singleSelectors[i],0===singleSelector.length||isDeepSelector(singleSelector)||singleSelector.indexOf(Marker.COLON)>-1&&!areMergeable(singleSelector,extractPseudoFrom(singleSelector),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging))return!1;return!0}function isDeepSelector(selector){return DEEP_SELECTOR_PATTERN.test(selector)}function extractPseudoFrom(selector){var character,isQuoted,isEscaped,isRelation,index,len,list=[],buffer=[],level=Level.ROOT,roundBracketLevel=0,isPseudo=!1,wasColon=!1;for(index=0,len=selector.length;index<len;index++)character=selector[index],isRelation=!isEscaped&&RELATION_PATTERN.test(character),isQuoted=level==Level.DOUBLE_QUOTE||level==Level.SINGLE_QUOTE,isEscaped?buffer.push(character):character==Marker.DOUBLE_QUOTE&&level==Level.ROOT?(buffer.push(character),level=Level.DOUBLE_QUOTE):character==Marker.DOUBLE_QUOTE&&level==Level.DOUBLE_QUOTE?(buffer.push(character),level=Level.ROOT):character==Marker.SINGLE_QUOTE&&level==Level.ROOT?(buffer.push(character),level=Level.SINGLE_QUOTE):character==Marker.SINGLE_QUOTE&&level==Level.SINGLE_QUOTE?(buffer.push(character),level=Level.ROOT):isQuoted?buffer.push(character):character==Marker.OPEN_ROUND_BRACKET?(buffer.push(character),roundBracketLevel++):character==Marker.CLOSE_ROUND_BRACKET&&1==roundBracketLevel&&isPseudo?(buffer.push(character),list.push(buffer.join("")),roundBracketLevel--,buffer=[],isPseudo=!1):character==Marker.CLOSE_ROUND_BRACKET?(buffer.push(character),roundBracketLevel--):character==Marker.COLON&&0===roundBracketLevel&&isPseudo&&!wasColon?(list.push(buffer.join("")),buffer=[],buffer.push(character)):character!=Marker.COLON||0!==roundBracketLevel||wasColon?character==Marker.SPACE&&0===roundBracketLevel&&isPseudo?(list.push(buffer.join("")),buffer=[],isPseudo=!1):isRelation&&0===roundBracketLevel&&isPseudo?(list.push(buffer.join("")),buffer=[],isPseudo=!1):buffer.push(character):(buffer=[],buffer.push(character),isPseudo=!0),isEscaped=character==Marker.BACK_SLASH,wasColon=character==Marker.COLON;return buffer.length>0&&isPseudo&&list.push(buffer.join("")),list}function areMergeable(selector,matches,mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging){return areAllowed(matches,mergeablePseudoClasses,mergeablePseudoElements)&&needArguments(matches)&&(matches.length<2||!someIncorrectlyChained(selector,matches))&&(matches.length<2||multiplePseudoMerging&&allMixable(matches))}function areAllowed(matches,mergeablePseudoClasses,mergeablePseudoElements){var match,name,i,l;for(i=0,l=matches.length;i<l;i++)if(match=matches[i],name=match.indexOf(Marker.OPEN_ROUND_BRACKET)>-1?match.substring(0,match.indexOf(Marker.OPEN_ROUND_BRACKET)):match,-1===mergeablePseudoClasses.indexOf(name)&&-1===mergeablePseudoElements.indexOf(name))return!1;return!0}function needArguments(matches){var match,name,bracketOpensAt,hasArguments,i,l;for(i=0,
l=matches.length;i<l;i++){if(match=matches[i],bracketOpensAt=match.indexOf(Marker.OPEN_ROUND_BRACKET),hasArguments=bracketOpensAt>-1,name=hasArguments?match.substring(0,bracketOpensAt):match,hasArguments&&-1==PSEUDO_CLASSES_WITH_ARGUMENTS.indexOf(name))return!1;if(!hasArguments&&PSEUDO_CLASSES_WITH_ARGUMENTS.indexOf(name)>-1)return!1}return!0}function someIncorrectlyChained(selector,matches){var match,matchAt,nextMatch,nextMatchAt,name,nextName,i,l,positionInSelector=0;for(i=0,l=matches.length;i<l&&(match=matches[i],nextMatch=matches[i+1]);i++)if(matchAt=selector.indexOf(match,positionInSelector),nextMatchAt=selector.indexOf(match,matchAt+1),positionInSelector=nextMatchAt,matchAt+match.length==nextMatchAt&&(name=match.indexOf(Marker.OPEN_ROUND_BRACKET)>-1?match.substring(0,match.indexOf(Marker.OPEN_ROUND_BRACKET)):match,nextName=nextMatch.indexOf(Marker.OPEN_ROUND_BRACKET)>-1?nextMatch.substring(0,nextMatch.indexOf(Marker.OPEN_ROUND_BRACKET)):nextMatch,name!=NOT_PSEUDO||nextName!=NOT_PSEUDO))return!0;return!1}function allMixable(matches){var match,i,l,unmixableMatches=0;for(i=0,l=matches.length;i<l;i++)if(match=matches[i],isPseudoElement(match)?unmixableMatches+=UNMIXABLE_PSEUDO_ELEMENTS.indexOf(match)>-1?1:0:unmixableMatches+=UNMIXABLE_PSEUDO_CLASSES.indexOf(match)>-1?1:0,unmixableMatches>1)return!1;return!0}function isPseudoElement(pseudo){return DOUBLE_COLON_PATTERN.test(pseudo)}var Marker=require("../../tokenizer/marker"),split=require("../../utils/split"),DEEP_SELECTOR_PATTERN=/\/deep\//,DOUBLE_COLON_PATTERN=/^::/,NOT_PSEUDO=":not",PSEUDO_CLASSES_WITH_ARGUMENTS=[":dir",":lang",":not",":nth-child",":nth-last-child",":nth-last-of-type",":nth-of-type"],RELATION_PATTERN=/[>\+~]/,UNMIXABLE_PSEUDO_CLASSES=[":after",":before",":first-letter",":first-line",":lang"],UNMIXABLE_PSEUDO_ELEMENTS=["::after","::before","::first-letter","::first-line"],Level={DOUBLE_QUOTE:"double-quote",SINGLE_QUOTE:"single-quote",ROOT:"root"};module.exports=isMergeable},{"../../tokenizer/marker":121,"../../utils/split":134}],63:[function(require,module,exports){function mergeAdjacent(tokens,context){for(var lastToken=[null,[],[]],options=context.options,adjacentSpace=options.compatibility.selectors.adjacentSpace,selectorsSortingMethod=options.level[OptimizationLevel.One].selectorsSortingMethod,mergeablePseudoClasses=options.compatibility.selectors.mergeablePseudoClasses,mergeablePseudoElements=options.compatibility.selectors.mergeablePseudoElements,mergeLimit=options.compatibility.selectors.mergeLimit,multiplePseudoMerging=options.compatibility.selectors.multiplePseudoMerging,i=0,l=tokens.length;i<l;i++){var token=tokens[i];token[0]==Token.RULE?lastToken[0]==Token.RULE&&serializeRules(token[1])==serializeRules(lastToken[1])?(Array.prototype.push.apply(lastToken[2],token[2]),optimizeProperties(lastToken[2],!0,!0,context),token[2]=[]):lastToken[0]==Token.RULE&&serializeBody(token[2])==serializeBody(lastToken[2])&&isMergeable(serializeRules(token[1]),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)&&isMergeable(serializeRules(lastToken[1]),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)&&lastToken[1].length<mergeLimit?(lastToken[1]=tidyRules(lastToken[1].concat(token[1]),!1,adjacentSpace,!1,context.warnings),lastToken[1]=lastToken.length>1?sortSelectors(lastToken[1],selectorsSortingMethod):lastToken[1],token[2]=[]):lastToken=token:lastToken=[null,[],[]]}}var isMergeable=require("./is-mergeable"),optimizeProperties=require("./properties/optimize"),sortSelectors=require("../level-1/sort-selectors"),tidyRules=require("../level-1/tidy-rules"),OptimizationLevel=require("../../options/optimization-level").OptimizationLevel,serializeBody=require("../../writer/one-time").body,serializeRules=require("../../writer/one-time").rules,Token=require("../../tokenizer/token");module.exports=mergeAdjacent},{"../../options/optimization-level":103,"../../tokenizer/token":122,"../../writer/one-time":136,"../level-1/sort-selectors":52,"../level-1/tidy-rules":55,"./is-mergeable":62,"./properties/optimize":74}],64:[function(require,module,exports){function mergeMediaQueries(tokens,context){for(var mergeSemantically=context.options.level[OptimizationLevel.Two].mergeSemantically,specificityCache=context.cache.specificity,candidates={},reduced=[],i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]==Token.NESTED_BLOCK){var key=serializeRules(token[1]),candidate=candidates[key];candidate||(candidate=[],candidates[key]=candidate),candidate.push(i)}}for(var name in candidates){var positions=candidates[name];positionLoop:for(var j=positions.length-1;j>0;j--){var positionOne=positions[j],tokenOne=tokens[positionOne],positionTwo=positions[j-1],tokenTwo=tokens[positionTwo];directionLoop:for(var direction=1;direction>=-1;direction-=2){for(var topToBottom=1==direction,from=topToBottom?positionOne+1:positionTwo-1,to=topToBottom?positionTwo:positionOne,delta=topToBottom?1:-1,source=topToBottom?tokenOne:tokenTwo,target=topToBottom?tokenTwo:tokenOne,movedProperties=extractProperties(source);from!=to;){var traversedProperties=extractProperties(tokens[from]);if(from+=delta,!(mergeSemantically&&allSameRulePropertiesCanBeReordered(movedProperties,traversedProperties,specificityCache)||canReorder(movedProperties,traversedProperties,specificityCache)))continue directionLoop}target[2]=topToBottom?source[2].concat(target[2]):target[2].concat(source[2]),source[2]=[],reduced.push(target);continue positionLoop}}}return reduced}function allSameRulePropertiesCanBeReordered(movedProperties,traversedProperties,specificityCache){var movedProperty,movedRule,traversedProperty,traversedRule,i,l,j,m;for(i=0,l=movedProperties.length;i<l;i++)for(movedProperty=movedProperties[i],movedRule=movedProperty[5],j=0,m=traversedProperties.length;j<m;j++)if(traversedProperty=traversedProperties[j],traversedRule=traversedProperty[5],rulesOverlap(movedRule,traversedRule,!0)&&!canReorderSingle(movedProperty,traversedProperty,specificityCache))return!1;return!0}var canReorder=require("./reorderable").canReorder,canReorderSingle=require("./reorderable").canReorderSingle,extractProperties=require("./extract-properties"),rulesOverlap=require("./rules-overlap"),serializeRules=require("../../writer/one-time").rules,OptimizationLevel=require("../../options/optimization-level").OptimizationLevel,Token=require("../../tokenizer/token");module.exports=mergeMediaQueries},{"../../options/optimization-level":103,"../../tokenizer/token":122,"../../writer/one-time":136,"./extract-properties":60,"./reorderable":85,"./rules-overlap":89}],65:[function(require,module,exports){function unsafeSelector(value){return/\.|\*| :/.test(value)}function isBemElement(token){var asString=serializeRules(token[1]);return asString.indexOf("__")>-1||asString.indexOf("--")>-1}function withoutModifier(selector){return selector.replace(/--[^ ,>\+~:]+/g,"")}function removeAnyUnsafeElements(left,candidates){var leftSelector=withoutModifier(serializeRules(left[1]));for(var body in candidates){var right=candidates[body],rightSelector=withoutModifier(serializeRules(right[1]));(rightSelector.indexOf(leftSelector)>-1||leftSelector.indexOf(rightSelector)>-1)&&delete candidates[body]}}function mergeNonAdjacentByBody(tokens,context){for(var options=context.options,mergeSemantically=options.level[OptimizationLevel.Two].mergeSemantically,adjacentSpace=options.compatibility.selectors.adjacentSpace,selectorsSortingMethod=options.level[OptimizationLevel.One].selectorsSortingMethod,mergeablePseudoClasses=options.compatibility.selectors.mergeablePseudoClasses,mergeablePseudoElements=options.compatibility.selectors.mergeablePseudoElements,multiplePseudoMerging=options.compatibility.selectors.multiplePseudoMerging,candidates={},i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]==Token.RULE){token[2].length>0&&!mergeSemantically&&unsafeSelector(serializeRules(token[1]))&&(candidates={}),token[2].length>0&&mergeSemantically&&isBemElement(token)&&removeAnyUnsafeElements(token,candidates);var candidateBody=serializeBody(token[2]),oldToken=candidates[candidateBody];oldToken&&isMergeable(serializeRules(token[1]),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)&&isMergeable(serializeRules(oldToken[1]),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)&&(token[2].length>0?(token[1]=tidyRules(oldToken[1].concat(token[1]),!1,adjacentSpace,!1,context.warnings),token[1]=token[1].length>1?sortSelectors(token[1],selectorsSortingMethod):token[1]):token[1]=oldToken[1].concat(token[1]),oldToken[2]=[],candidates[candidateBody]=null),candidates[serializeBody(token[2])]=token}}}var isMergeable=require("./is-mergeable"),sortSelectors=require("../level-1/sort-selectors"),tidyRules=require("../level-1/tidy-rules"),OptimizationLevel=require("../../options/optimization-level").OptimizationLevel,serializeBody=require("../../writer/one-time").body,serializeRules=require("../../writer/one-time").rules,Token=require("../../tokenizer/token");module.exports=mergeNonAdjacentByBody},{"../../options/optimization-level":103,"../../tokenizer/token":122,"../../writer/one-time":136,"../level-1/sort-selectors":52,"../level-1/tidy-rules":55,"./is-mergeable":62}],66:[function(require,module,exports){function mergeNonAdjacentBySelector(tokens,context){var i,specificityCache=context.cache.specificity,allSelectors={},repeatedSelectors=[];for(i=tokens.length-1;i>=0;i--)if(tokens[i][0]==Token.RULE&&0!==tokens[i][2].length){var selector=serializeRules(tokens[i][1]);allSelectors[selector]=[i].concat(allSelectors[selector]||[]),2==allSelectors[selector].length&&repeatedSelectors.push(selector)}for(i=repeatedSelectors.length-1;i>=0;i--){var positions=allSelectors[repeatedSelectors[i]];selectorIterator:for(var j=positions.length-1;j>0;j--){var positionOne=positions[j-1],tokenOne=tokens[positionOne],positionTwo=positions[j],tokenTwo=tokens[positionTwo];directionIterator:for(var direction=1;direction>=-1;direction-=2){for(var topToBottom=1==direction,from=topToBottom?positionOne+1:positionTwo-1,to=topToBottom?positionTwo:positionOne,delta=topToBottom?1:-1,moved=topToBottom?tokenOne:tokenTwo,target=topToBottom?tokenTwo:tokenOne,movedProperties=extractProperties(moved);from!=to;){var traversedProperties=extractProperties(tokens[from]);from+=delta;var reorderable=topToBottom?canReorder(movedProperties,traversedProperties,specificityCache):canReorder(traversedProperties,movedProperties,specificityCache);if(!reorderable&&!topToBottom)continue selectorIterator;if(!reorderable&&topToBottom)continue directionIterator}topToBottom?(Array.prototype.push.apply(moved[2],target[2]),target[2]=moved[2]):Array.prototype.push.apply(target[2],moved[2]),optimizeProperties(target[2],!0,!0,context),moved[2]=[]}}}}var canReorder=require("./reorderable").canReorder,extractProperties=require("./extract-properties"),optimizeProperties=require("./properties/optimize"),serializeRules=require("../../writer/one-time").rules,Token=require("../../tokenizer/token");module.exports=mergeNonAdjacentBySelector},{"../../tokenizer/token":122,"../../writer/one-time":136,"./extract-properties":60,"./properties/optimize":74,"./reorderable":85}],67:[function(require,module,exports){function removeEmpty(tokens){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i],isEmpty=!1;switch(token[0]){case Token.RULE:isEmpty=0===token[1].length||0===token[2].length;break;case Token.NESTED_BLOCK:removeEmpty(token[2]),isEmpty=0===token[2].length;break;case Token.AT_RULE:isEmpty=0===token[1].length;break;case Token.AT_RULE_BLOCK:isEmpty=0===token[2].length}isEmpty&&(tokens.splice(i,1),i--,l--)}}function recursivelyOptimizeBlocks(tokens,context){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if(token[0]==Token.NESTED_BLOCK){var isKeyframes=/@(-moz-|-o-|-webkit-)?keyframes/.test(token[1][0][1]);level2Optimize(token[2],context,!isKeyframes)}}}function recursivelyOptimizeProperties(tokens,context){for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];switch(token[0]){case Token.RULE:optimizeProperties(token[2],!0,!0,context);break;case Token.NESTED_BLOCK:recursivelyOptimizeProperties(token[2],context)}}}function level2Optimize(tokens,context,withRestructuring){var reduced,i,levelOptions=context.options.level[OptimizationLevel.Two];if(recursivelyOptimizeBlocks(tokens,context),recursivelyOptimizeProperties(tokens,context),levelOptions.removeDuplicateRules&&removeDuplicates(tokens,context),levelOptions.mergeAdjacentRules&&mergeAdjacent(tokens,context),levelOptions.reduceNonAdjacentRules&&reduceNonAdjacent(tokens,context),levelOptions.mergeNonAdjacentRules&&"body"!=levelOptions.mergeNonAdjacentRules&&mergeNonAdjacentBySelector(tokens,context),levelOptions.mergeNonAdjacentRules&&"selector"!=levelOptions.mergeNonAdjacentRules&&mergeNonAdjacentByBody(tokens,context),levelOptions.restructureRules&&levelOptions.mergeAdjacentRules&&withRestructuring&&(restructure(tokens,context),mergeAdjacent(tokens,context)),levelOptions.restructureRules&&!levelOptions.mergeAdjacentRules&&withRestructuring&&restructure(tokens,context),levelOptions.removeDuplicateFontRules&&removeDuplicateFontAtRules(tokens,context),levelOptions.removeDuplicateMediaBlocks&&removeDuplicateMediaQueries(tokens,context),levelOptions.removeUnusedAtRules&&removeUnusedAtRules(tokens,context),levelOptions.mergeMedia)for(reduced=mergeMediaQueries(tokens,context),i=reduced.length-1;i>=0;i--)level2Optimize(reduced[i][2],context,!1);return levelOptions.removeEmpty&&removeEmpty(tokens),tokens}var mergeAdjacent=require("./merge-adjacent"),mergeMediaQueries=require("./merge-media-queries"),mergeNonAdjacentByBody=require("./merge-non-adjacent-by-body"),mergeNonAdjacentBySelector=require("./merge-non-adjacent-by-selector"),reduceNonAdjacent=require("./reduce-non-adjacent"),removeDuplicateFontAtRules=require("./remove-duplicate-font-at-rules"),removeDuplicateMediaQueries=require("./remove-duplicate-media-queries"),removeDuplicates=require("./remove-duplicates"),removeUnusedAtRules=require("./remove-unused-at-rules"),restructure=require("./restructure"),optimizeProperties=require("./properties/optimize"),OptimizationLevel=require("../../options/optimization-level").OptimizationLevel,Token=require("../../tokenizer/token");module.exports=level2Optimize},{"../../options/optimization-level":103,"../../tokenizer/token":122,"./merge-adjacent":63,"./merge-media-queries":64,"./merge-non-adjacent-by-body":65,"./merge-non-adjacent-by-selector":66,"./properties/optimize":74,"./reduce-non-adjacent":80,"./remove-duplicate-font-at-rules":81,"./remove-duplicate-media-queries":82,"./remove-duplicates":83,"./remove-unused-at-rules":84,"./restructure":88}],68:[function(require,module,exports){function everyValuesPair(fn,left,right){var leftValue,rightValue,position,leftSize=left.value.length,rightSize=right.value.length,total=Math.max(leftSize,rightSize),lowerBound=Math.min(leftSize,rightSize)-1;for(position=0;position<total;position++)if(leftValue=left.value[position]&&left.value[position][1]||leftValue,rightValue=right.value[position]&&right.value[position][1]||rightValue,leftValue!=Marker.COMMA&&rightValue!=Marker.COMMA&&!fn(leftValue,rightValue,position,position<=lowerBound))return!1;return!0}var Marker=require("../../../tokenizer/marker");module.exports=everyValuesPair},{"../../../tokenizer/marker":121}],69:[function(require,module,exports){function findComponentIn(shorthand,longhand){var comparator=nameComparator(longhand);return findInDirectComponents(shorthand,comparator)||findInSubComponents(shorthand,comparator)}function nameComparator(to){return function(property){return to.name===property.name}}function findInDirectComponents(shorthand,comparator){return shorthand.components.filter(comparator)[0]}function findInSubComponents(shorthand,comparator){var shorthandComponent,longhandMatch,i,l;if(compactable[shorthand.name].shorthandComponents)for(i=0,l=shorthand.components.length;i<l;i++)if(shorthandComponent=shorthand.components[i],longhandMatch=findInDirectComponents(shorthandComponent,comparator))return longhandMatch}var compactable=require("../compactable");module.exports=findComponentIn},{"../compactable":59}],70:[function(require,module,exports){function hasInherit(property){for(var i=property.value.length-1;i>=0;i--)if("inherit"==property.value[i][1])return!0;return!1}module.exports=hasInherit},{}],71:[function(require,module,exports){function isComponentOf(property1,property2,shallow){return isDirectComponentOf(property1,property2)||!shallow&&!!compactable[property1.name].shorthandComponents&&isSubComponentOf(property1,property2)}function isDirectComponentOf(property1,property2){var descriptor=compactable[property1.name];return"components"in descriptor&&descriptor.components.indexOf(property2.name)>-1}function isSubComponentOf(property1,property2){return property1.components.some(function(component){return isDirectComponentOf(component,property2)})}var compactable=require("../compactable");module.exports=isComponentOf},{"../compactable":59}],72:[function(require,module,exports){function isMergeableShorthand(shorthand){return"font"!=shorthand.name||-1==shorthand.value[0][1].indexOf(Marker.INTERNAL)}var Marker=require("../../../tokenizer/marker");module.exports=isMergeableShorthand},{"../../../tokenizer/marker":121}],73:[function(require,module,exports){function mergeIntoShorthands(properties,validator){var descriptor,componentOf,property,i,l,j,m,candidates={};if(!(properties.length<3)){for(i=0,l=properties.length;i<l;i++)if(property=properties[i],descriptor=compactable[property.name],!property.unused&&!property.hack&&!property.block&&(invalidateOrCompact(properties,i,candidates,validator),descriptor&&descriptor.componentOf))for(j=0,m=descriptor.componentOf.length;j<m;j++)componentOf=descriptor.componentOf[j],candidates[componentOf]=candidates[componentOf]||{},candidates[componentOf][property.name]=property;invalidateOrCompact(properties,i,candidates,validator)}}function invalidateOrCompact(properties,position,candidates,validator){var shorthandName,shorthandDescriptor,candidateComponents,invalidatedBy=properties[position];for(shorthandName in candidates)void 0!==invalidatedBy&&shorthandName==invalidatedBy.name||(shorthandDescriptor=compactable[shorthandName],candidateComponents=candidates[shorthandName],invalidatedBy&&invalidates(candidates,shorthandName,invalidatedBy)?delete candidates[shorthandName]:shorthandDescriptor.components.length>Object.keys(candidateComponents).length||mixedImportance(candidateComponents)||overridable(candidateComponents,shorthandName,validator)&&mergeable(candidateComponents)&&(mixedInherit(candidateComponents)?replaceWithInheritBestFit(properties,candidateComponents,shorthandName,validator):replaceWithShorthand(properties,candidateComponents,shorthandName,validator)))}function invalidates(candidates,shorthandName,invalidatedBy){var componentName,shorthandDescriptor=compactable[shorthandName],invalidatedByDescriptor=compactable[invalidatedBy.name];if("overridesShorthands"in shorthandDescriptor&&shorthandDescriptor.overridesShorthands.indexOf(invalidatedBy.name)>-1)return!0;if(invalidatedByDescriptor&&"componentOf"in invalidatedByDescriptor)for(componentName in candidates[shorthandName])if(invalidatedByDescriptor.componentOf.indexOf(componentName)>-1)return!0;return!1}function mixedImportance(components){var important,componentName;for(componentName in components){if(void 0!==important&&components[componentName].important!=important)return!0;important=components[componentName].important}return!1}function overridable(components,shorthandName,validator){var component,mayOverride,i,l,descriptor=compactable[shorthandName],newValuePlaceholder=[Token.PROPERTY,[Token.PROPERTY_NAME,shorthandName],[Token.PROPERTY_VALUE,descriptor.defaultValue]],newProperty=wrapSingle(newValuePlaceholder);for(populateComponents([newProperty],validator,[]),i=0,l=descriptor.components.length;i<l;i++)if(component=components[descriptor.components[i]],mayOverride=compactable[component.name].canOverride,!everyValuesPair(mayOverride.bind(null,validator),newProperty.components[i],component))return!1;return!0}function mergeable(components){var currentCount,componentName,component,descriptor,values,lastCount=null;for(componentName in components)if(component=components[componentName],"restore"in(descriptor=compactable[componentName])){if(restoreFromOptimizing([component.all[component.position]],restoreWithComponents),values=descriptor.restore(component,compactable),currentCount=values.length,null!==lastCount&&currentCount!==lastCount)return!1;lastCount=currentCount}return!0}function mixedInherit(components){var componentName,currentValue,lastValue=null;for(componentName in components){if(currentValue=hasInherit(components[componentName]),null!==lastValue&&lastValue!==currentValue)return!0;lastValue=currentValue}return!1}function replaceWithInheritBestFit(properties,candidateComponents,shorthandName,validator){var componentName,oldComponent,newComponent,newToken,viaLonghands=buildSequenceWithInheritLonghands(candidateComponents,shorthandName,validator),viaShorthand=buildSequenceWithInheritShorthand(candidateComponents,shorthandName,validator),longhandTokensSequence=viaLonghands[0],shorthandTokensSequence=viaShorthand[0],isLonghandsShorter=serializeBody(longhandTokensSequence).length<serializeBody(shorthandTokensSequence).length,newTokensSequence=isLonghandsShorter?longhandTokensSequence:shorthandTokensSequence,newProperty=isLonghandsShorter?viaLonghands[1]:viaShorthand[1],newComponents=isLonghandsShorter?viaLonghands[2]:viaShorthand[2],all=candidateComponents[Object.keys(candidateComponents)[0]].all;newProperty.position=all.length,newProperty.shorthand=!0,newProperty.dirty=!0,newProperty.all=all,newProperty.all.push(newTokensSequence[0]),properties.push(newProperty);for(componentName in candidateComponents)oldComponent=candidateComponents[componentName],oldComponent.unused=!0,oldComponent.name in newComponents&&(newComponent=newComponents[oldComponent.name],newToken=findTokenIn(newTokensSequence,componentName),newComponent.position=all.length,newComponent.all=all,newComponent.all.push(newToken),properties.push(newComponent))}function buildSequenceWithInheritLonghands(components,shorthandName,validator){var component,longhandToken,newComponent,nameMetadata,i,l,tokensSequence=[],inheritComponents={},nonInheritComponents={},descriptor=compactable[shorthandName],shorthandToken=[Token.PROPERTY,[Token.PROPERTY_NAME,shorthandName],[Token.PROPERTY_VALUE,descriptor.defaultValue]],newProperty=wrapSingle(shorthandToken);for(populateComponents([newProperty],validator,[]),i=0,l=descriptor.components.length;i<l;i++)component=components[descriptor.components[i]],hasInherit(component)?(longhandToken=component.all[component.position].slice(0,2),Array.prototype.push.apply(longhandToken,component.value),tokensSequence.push(longhandToken),newComponent=deepClone(component),newComponent.value=inferComponentValue(components,newComponent.name),newProperty.components[i]=newComponent,inheritComponents[component.name]=deepClone(component)):(newComponent=deepClone(component),newComponent.all=component.all,newProperty.components[i]=newComponent,nonInheritComponents[component.name]=component);return nameMetadata=joinMetadata(nonInheritComponents,1),shorthandToken[1].push(nameMetadata),restoreFromOptimizing([newProperty],restoreWithComponents),shorthandToken=shorthandToken.slice(0,2),Array.prototype.push.apply(shorthandToken,newProperty.value),tokensSequence.unshift(shorthandToken),[tokensSequence,newProperty,inheritComponents]}function inferComponentValue(components,propertyName){var descriptor=compactable[propertyName];return"oppositeTo"in descriptor?components[descriptor.oppositeTo].value:[[Token.PROPERTY_VALUE,descriptor.defaultValue]]}function joinMetadata(components,at){var component,originalValue,componentMetadata,componentName,metadata=[];for(componentName in components)component=components[componentName],originalValue=component.all[component.position],componentMetadata=originalValue[at][originalValue[at].length-1],Array.prototype.push.apply(metadata,componentMetadata);return metadata.sort(metadataSorter)}function metadataSorter(metadata1,metadata2){var line1=metadata1[0],line2=metadata2[0],column1=metadata1[1],column2=metadata2[1];return line1<line2?-1:line1===line2&&column1<column2?-1:1}function buildSequenceWithInheritShorthand(components,shorthandName,validator){var component,longhandToken,nameMetadata,valueMetadata,i,l,tokensSequence=[],inheritComponents={},nonInheritComponents={},descriptor=compactable[shorthandName],shorthandToken=[Token.PROPERTY,[Token.PROPERTY_NAME,shorthandName],[Token.PROPERTY_VALUE,"inherit"]],newProperty=wrapSingle(shorthandToken);for(populateComponents([newProperty],validator,[]),i=0,l=descriptor.components.length;i<l;i++)component=components[descriptor.components[i]],hasInherit(component)?inheritComponents[component.name]=component:(longhandToken=component.all[component.position].slice(0,2),Array.prototype.push.apply(longhandToken,component.value),tokensSequence.push(longhandToken),nonInheritComponents[component.name]=deepClone(component));return nameMetadata=joinMetadata(inheritComponents,1),shorthandToken[1].push(nameMetadata),valueMetadata=joinMetadata(inheritComponents,2),shorthandToken[2].push(valueMetadata),tokensSequence.unshift(shorthandToken),[tokensSequence,newProperty,nonInheritComponents]}function findTokenIn(tokens,componentName){var i,l;for(i=0,l=tokens.length;i<l;i++)if(tokens[i][1][1]==componentName)return tokens[i]}function replaceWithShorthand(properties,candidateComponents,shorthandName,validator){var nameMetadata,valueMetadata,all,descriptor=compactable[shorthandName],newValuePlaceholder=[Token.PROPERTY,[Token.PROPERTY_NAME,shorthandName],[Token.PROPERTY_VALUE,descriptor.defaultValue]],newProperty=wrapSingle(newValuePlaceholder);newProperty.shorthand=!0,newProperty.dirty=!0,populateComponents([newProperty],validator,[]);for(var i=0,l=descriptor.components.length;i<l;i++){var component=candidateComponents[descriptor.components[i]];newProperty.components[i]=deepClone(component),newProperty.important=component.important,all=component.all}for(var componentName in candidateComponents)candidateComponents[componentName].unused=!0;nameMetadata=joinMetadata(candidateComponents,1),newValuePlaceholder[1].push(nameMetadata),valueMetadata=joinMetadata(candidateComponents,2),newValuePlaceholder[2].push(valueMetadata),newProperty.position=all.length,newProperty.all=all,newProperty.all.push(newValuePlaceholder),properties.push(newProperty)}var everyValuesPair=require("./every-values-pair"),hasInherit=require("./has-inherit"),populateComponents=require("./populate-components"),compactable=require("../compactable"),deepClone=require("../clone").deep,restoreWithComponents=require("../restore-with-components"),restoreFromOptimizing=require("../../restore-from-optimizing"),wrapSingle=require("../../wrap-for-optimizing").single,serializeBody=require("../../../writer/one-time").body,Token=require("../../../tokenizer/token");module.exports=mergeIntoShorthands},{"../../../tokenizer/token":122,"../../../writer/one-time":136,"../../restore-from-optimizing":94,"../../wrap-for-optimizing":96,"../clone":58,"../compactable":59,"../restore-with-components":86,"./every-values-pair":68,"./has-inherit":70,"./populate-components":77}],74:[function(require,module,exports){function optimizeProperties(properties,withOverriding,withMerging,context){var _property,i,l,levelOptions=context.options.level[OptimizationLevel.Two],_properties=wrapForOptimizing(properties,!1,levelOptions.skipProperties);for(populateComponents(_properties,context.validator,context.warnings),i=0,l=_properties.length;i<l;i++)_property=_properties[i],_property.block&&optimizeProperties(_property.value[0][1],withOverriding,withMerging,context);withMerging&&levelOptions.mergeIntoShorthands&&mergeIntoShorthands(_properties,context.validator),withOverriding&&levelOptions.overrideProperties&&overrideProperties(_properties,withMerging,context.options.compatibility,context.validator),restoreFromOptimizing(_properties,restoreWithComponents),removeUnused(_properties)}var mergeIntoShorthands=require("./merge-into-shorthands"),overrideProperties=require("./override-properties"),populateComponents=require("./populate-components"),restoreWithComponents=require("../restore-with-components"),wrapForOptimizing=require("../../wrap-for-optimizing").all,removeUnused=require("../../remove-unused"),restoreFromOptimizing=require("../../restore-from-optimizing"),OptimizationLevel=require("../../../options/optimization-level").OptimizationLevel;module.exports=optimizeProperties},{"../../../options/optimization-level":103,"../../remove-unused":93,"../../restore-from-optimizing":94,"../../wrap-for-optimizing":96,"../restore-with-components":86,"./merge-into-shorthands":73,"./override-properties":75,"./populate-components":77}],75:[function(require,module,exports){function wouldBreakCompatibility(property,validator){for(var i=0;i<property.components.length;i++){var component=property.components[i],descriptor=compactable[component.name],canOverride=descriptor&&descriptor.canOverride||canOverride.sameValue,_component=shallowClone(component);if(_component.value=[[Token.PROPERTY_VALUE,descriptor.defaultValue]],!everyValuesPair(canOverride.bind(null,validator),_component,component))return!0}return!1}function overrideIntoMultiplex(property,by){by.unused=!0,turnIntoMultiplex(by,multiplexSize(property)),property.value=by.value}function overrideByMultiplex(property,by){by.unused=!0,property.multiplex=!0,property.value=by.value}function overrideSimple(property,by){by.unused=!0,property.value=by.value}function override(property,by){by.multiplex?overrideByMultiplex(property,by):property.multiplex?overrideIntoMultiplex(property,by):overrideSimple(property,by)}function overrideShorthand(property,by){by.unused=!0;for(var i=0,l=property.components.length;i<l;i++)override(property.components[i],by.components[i],property.multiplex)}function turnIntoMultiplex(property,size){property.multiplex=!0,compactable[property.name].shorthand?turnShorthandValueIntoMultiplex(property,size):turnLonghandValueIntoMultiplex(property,size)}function turnShorthandValueIntoMultiplex(property,size){var component,i,l;for(i=0,l=property.components.length;i<l;i++)component=property.components[i],component.multiplex||turnLonghandValueIntoMultiplex(component,size)}function turnLonghandValueIntoMultiplex(property,size){for(var j,descriptor=compactable[property.name],withRealValue="real"==descriptor.intoMultiplexMode,withValue="real"==descriptor.intoMultiplexMode?property.value.slice(0):"placeholder"==descriptor.intoMultiplexMode?descriptor.placeholderValue:descriptor.defaultValue,i=multiplexSize(property),m=withValue.length;i<size;i++)if(property.value.push([Token.PROPERTY_VALUE,Marker.COMMA]),Array.isArray(withValue))for(j=0;j<m;j++)property.value.push(withRealValue?withValue[j]:[Token.PROPERTY_VALUE,withValue[j]]);else property.value.push(withRealValue?withValue:[Token.PROPERTY_VALUE,withValue])}function multiplexSize(component){for(var size=0,i=0,l=component.value.length;i<l;i++)component.value[i][1]==Marker.COMMA&&size++;return size+1}function lengthOf(property){var fakeAsArray=[Token.PROPERTY,[Token.PROPERTY_NAME,property.name]].concat(property.value);return serializeProperty([fakeAsArray],0).length}function moreSameShorthands(properties,startAt,name){for(var count=0,i=startAt;i>=0&&(properties[i].name!=name||properties[i].unused||count++,!(count>1));i--);return count>1}function overridingFunction(shorthand,validator){for(var i=0,l=shorthand.components.length;i<l;i++)if(!anyValue(validator.isUrl,shorthand.components[i])&&anyValue(validator.isFunction,shorthand.components[i]))return!0;return!1}function anyValue(fn,property){
for(var i=0,l=property.value.length;i<l;i++)if(property.value[i][1]!=Marker.COMMA&&fn(property.value[i][1]))return!0;return!1}function wouldResultInLongerValue(left,right){if(!left.multiplex&&!right.multiplex||left.multiplex&&right.multiplex)return!1;var component,multiplex=left.multiplex?left:right,simple=left.multiplex?right:left,multiplexClone=deepClone(multiplex);restoreFromOptimizing([multiplexClone],restoreWithComponents);var simpleClone=deepClone(simple);restoreFromOptimizing([simpleClone],restoreWithComponents);var lengthBefore=lengthOf(multiplexClone)+1+lengthOf(simpleClone);return left.multiplex?(component=findComponentIn(multiplexClone,simpleClone),overrideIntoMultiplex(component,simpleClone)):(component=findComponentIn(simpleClone,multiplexClone),turnIntoMultiplex(simpleClone,multiplexSize(multiplexClone)),overrideByMultiplex(component,multiplexClone)),restoreFromOptimizing([simpleClone],restoreWithComponents),lengthBefore<=lengthOf(simpleClone)}function isCompactable(property){return property.name in compactable}function noneOverrideHack(left,right){return!left.multiplex&&("background"==left.name||"background-image"==left.name)&&right.multiplex&&("background"==right.name||"background-image"==right.name)&&anyLayerIsNone(right.value)}function anyLayerIsNone(values){for(var layers=intoLayers(values),i=0,l=layers.length;i<l;i++)if(1==layers[i].length&&"none"==layers[i][0][1])return!0;return!1}function intoLayers(values){for(var layers=[],i=0,layer=[],l=values.length;i<l;i++){var value=values[i];value[1]==Marker.COMMA?(layers.push(layer),layer=[]):layer.push(value)}return layers.push(layer),layers}function overrideProperties(properties,withMerging,compatibility,validator){var mayOverride,right,left,component,overriddenComponents,overriddenComponent,overridingComponent,overridable,i,j,k;propertyLoop:for(i=properties.length-1;i>=0;i--)if(right=properties[i],isCompactable(right)&&!right.block){mayOverride=compactable[right.name].canOverride;traverseLoop:for(j=i-1;j>=0;j--)if(left=properties[j],isCompactable(left)&&!left.block&&!left.unused&&!right.unused&&(!left.hack||right.hack||right.important)&&(left.hack||left.important||!right.hack)&&(left.important!=right.important||left.hack[0]==right.hack[0])&&!(left.important==right.important&&(left.hack[0]!=right.hack[0]||left.hack[1]&&left.hack[1]!=right.hack[1])||hasInherit(right)||noneOverrideHack(left,right)))if(right.shorthand&&isComponentOf(right,left)){if(!right.important&&left.important)continue;if(!sameVendorPrefixesIn([left],right.components))continue;if(!anyValue(validator.isFunction,left)&&overridingFunction(right,validator))continue;if(!isMergeableShorthand(right)){left.unused=!0;continue}component=findComponentIn(right,left),mayOverride=compactable[left.name].canOverride,everyValuesPair(mayOverride.bind(null,validator),left,component)&&(left.unused=!0)}else if(right.shorthand&&overridesNonComponentShorthand(right,left)){if(!right.important&&left.important)continue;if(!sameVendorPrefixesIn([left],right.components))continue;if(!anyValue(validator.isFunction,left)&&overridingFunction(right,validator))continue;for(overriddenComponents=left.shorthand?left.components:[left],k=overriddenComponents.length-1;k>=0;k--)if(overriddenComponent=overriddenComponents[k],overridingComponent=findComponentIn(right,overriddenComponent),mayOverride=compactable[overriddenComponent.name].canOverride,!everyValuesPair(mayOverride.bind(null,validator),left,overridingComponent))continue traverseLoop;left.unused=!0}else if(withMerging&&left.shorthand&&!right.shorthand&&isComponentOf(left,right,!0)){if(right.important&&!left.important)continue;if(!right.important&&left.important){right.unused=!0;continue}if(moreSameShorthands(properties,i-1,left.name))continue;if(overridingFunction(left,validator))continue;if(!isMergeableShorthand(left))continue;if(component=findComponentIn(left,right),everyValuesPair(mayOverride.bind(null,validator),component,right)){var disabledBackgroundMerging=!compatibility.properties.backgroundClipMerging&&component.name.indexOf("background-clip")>-1||!compatibility.properties.backgroundOriginMerging&&component.name.indexOf("background-origin")>-1||!compatibility.properties.backgroundSizeMerging&&component.name.indexOf("background-size")>-1,nonMergeableValue=compactable[right.name].nonMergeableValue===right.value[0][1];if(disabledBackgroundMerging||nonMergeableValue)continue;if(!compatibility.properties.merging&&wouldBreakCompatibility(left,validator))continue;if(component.value[0][1]!=right.value[0][1]&&(hasInherit(left)||hasInherit(right)))continue;if(wouldResultInLongerValue(left,right))continue;!left.multiplex&&right.multiplex&&turnIntoMultiplex(left,multiplexSize(right)),override(component,right),left.dirty=!0}}else if(withMerging&&left.shorthand&&right.shorthand&&left.name==right.name){if(!left.multiplex&&right.multiplex)continue;if(!right.important&&left.important){right.unused=!0;continue propertyLoop}if(right.important&&!left.important){left.unused=!0;continue}if(!isMergeableShorthand(right)){left.unused=!0;continue}for(k=left.components.length-1;k>=0;k--){var leftComponent=left.components[k],rightComponent=right.components[k];if(mayOverride=compactable[leftComponent.name].canOverride,!everyValuesPair(mayOverride.bind(null,validator),leftComponent,rightComponent))continue propertyLoop}overrideShorthand(left,right),left.dirty=!0}else if(withMerging&&left.shorthand&&right.shorthand&&isComponentOf(left,right)){if(!left.important&&right.important)continue;if(component=findComponentIn(left,right),mayOverride=compactable[right.name].canOverride,!everyValuesPair(mayOverride.bind(null,validator),component,right))continue;if(left.important&&!right.important){right.unused=!0;continue}var rightRestored=compactable[right.name].restore(right,compactable);if(rightRestored.length>1)continue;component=findComponentIn(left,right),override(component,right),right.dirty=!0}else if(left.name==right.name){if(overridable=!0,right.shorthand)for(k=right.components.length-1;k>=0&&overridable;k--)overriddenComponent=left.components[k],overridingComponent=right.components[k],mayOverride=compactable[overridingComponent.name].canOverride,overridable=overridable&&everyValuesPair(mayOverride.bind(null,validator),overriddenComponent,overridingComponent);else mayOverride=compactable[right.name].canOverride,overridable=everyValuesPair(mayOverride.bind(null,validator),left,right);if(left.important&&!right.important&&overridable){right.unused=!0;continue}if(!left.important&&right.important&&overridable){left.unused=!0;continue}if(!overridable)continue;left.unused=!0}}}var hasInherit=require("./has-inherit"),everyValuesPair=require("./every-values-pair"),findComponentIn=require("./find-component-in"),isComponentOf=require("./is-component-of"),isMergeableShorthand=require("./is-mergeable-shorthand"),overridesNonComponentShorthand=require("./overrides-non-component-shorthand"),sameVendorPrefixesIn=require("./vendor-prefixes").same,compactable=require("../compactable"),deepClone=require("../clone").deep,restoreWithComponents=require("../restore-with-components"),shallowClone=require("../clone").shallow,restoreFromOptimizing=require("../../restore-from-optimizing"),Token=require("../../../tokenizer/token"),Marker=require("../../../tokenizer/marker"),serializeProperty=require("../../../writer/one-time").property;module.exports=overrideProperties},{"../../../tokenizer/marker":121,"../../../tokenizer/token":122,"../../../writer/one-time":136,"../../restore-from-optimizing":94,"../clone":58,"../compactable":59,"../restore-with-components":86,"./every-values-pair":68,"./find-component-in":69,"./has-inherit":70,"./is-component-of":71,"./is-mergeable-shorthand":72,"./overrides-non-component-shorthand":76,"./vendor-prefixes":79}],76:[function(require,module,exports){function overridesNonComponentShorthand(property1,property2){return property1.name in compactable&&"overridesShorthands"in compactable[property1.name]&&compactable[property1.name].overridesShorthands.indexOf(property2.name)>-1}var compactable=require("../compactable");module.exports=overridesNonComponentShorthand},{"../compactable":59}],77:[function(require,module,exports){function populateComponents(properties,validator,warnings){for(var component,j,m,i=properties.length-1;i>=0;i--){var property=properties[i],descriptor=compactable[property.name];if(descriptor&&descriptor.shorthand){property.shorthand=!0,property.dirty=!0;try{if(property.components=descriptor.breakUp(property,compactable,validator),descriptor.shorthandComponents)for(j=0,m=property.components.length;j<m;j++)component=property.components[j],component.components=compactable[component.name].breakUp(component,compactable,validator)}catch(e){if(!(e instanceof InvalidPropertyError))throw e;property.components=[],warnings.push(e.message)}property.components.length>0?property.multiplex=property.components[0].multiplex:property.unused=!0}}}var compactable=require("../compactable"),InvalidPropertyError=require("../invalid-property-error");module.exports=populateComponents},{"../compactable":59,"../invalid-property-error":61}],78:[function(require,module,exports){function understandable(validator,value1,value2,_position,isPaired){return!!sameVendorPrefixes(value1,value2)&&(!isPaired||validator.isVariable(value1)===validator.isVariable(value2))}var sameVendorPrefixes=require("./vendor-prefixes").same;module.exports=understandable},{"./vendor-prefixes":79}],79:[function(require,module,exports){function unique(value){for(var match,prefixes=[];null!==(match=VENDOR_PREFIX_PATTERN.exec(value));)-1==prefixes.indexOf(match[0])&&prefixes.push(match[0]);return prefixes}function same(value1,value2){return unique(value1).sort().join(",")==unique(value2).sort().join(",")}var VENDOR_PREFIX_PATTERN=/(?:^|\W)(\-\w+\-)/g;module.exports={unique:unique,same:same}},{}],80:[function(require,module,exports){function reduceNonAdjacent(tokens,context){for(var options=context.options,mergeablePseudoClasses=options.compatibility.selectors.mergeablePseudoClasses,mergeablePseudoElements=options.compatibility.selectors.mergeablePseudoElements,multiplePseudoMerging=options.compatibility.selectors.multiplePseudoMerging,candidates={},repeated=[],i=tokens.length-1;i>=0;i--){var token=tokens[i];if(token[0]==Token.RULE&&0!==token[2].length)for(var selectorAsString=serializeRules(token[1]),isComplexAndNotSpecial=token[1].length>1&&isMergeable(selectorAsString,mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging),wrappedSelectors=wrappedSelectorsFrom(token[1]),selectors=isComplexAndNotSpecial?[selectorAsString].concat(wrappedSelectors):[selectorAsString],j=0,m=selectors.length;j<m;j++){var selector=selectors[j];candidates[selector]?repeated.push(selector):candidates[selector]=[],candidates[selector].push({where:i,list:wrappedSelectors,isPartial:isComplexAndNotSpecial&&j>0,isComplex:isComplexAndNotSpecial&&0===j})}}reduceSimpleNonAdjacentCases(tokens,repeated,candidates,options,context),reduceComplexNonAdjacentCases(tokens,candidates,options,context)}function wrappedSelectorsFrom(list){for(var wrapped=[],i=0;i<list.length;i++)wrapped.push([list[i][1]]);return wrapped}function reduceSimpleNonAdjacentCases(tokens,repeated,candidates,options,context){function filterOut(idx,bodies){return data[idx].isPartial&&0===bodies.length}function reduceBody(token,newBody,processedCount,tokenIdx){data[processedCount-tokenIdx-1].isPartial||(token[2]=newBody)}for(var i=0,l=repeated.length;i<l;i++){var selector=repeated[i],data=candidates[selector];reduceSelector(tokens,data,{filterOut:filterOut,callback:reduceBody},options,context)}}function reduceComplexNonAdjacentCases(tokens,candidates,options,context){function filterOut(idx){return localContext.data[idx].where<localContext.intoPosition}function collectReducedBodies(token,newBody,processedCount,tokenIdx){0===tokenIdx&&localContext.reducedBodies.push(newBody)}var mergeablePseudoClasses=options.compatibility.selectors.mergeablePseudoClasses,mergeablePseudoElements=options.compatibility.selectors.mergeablePseudoElements,multiplePseudoMerging=options.compatibility.selectors.multiplePseudoMerging,localContext={};allSelectors:for(var complexSelector in candidates){var into=candidates[complexSelector];if(into[0].isComplex){var intoPosition=into[into.length-1].where,intoToken=tokens[intoPosition],reducedBodies=[],selectors=isMergeable(complexSelector,mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)?into[0].list:[complexSelector];localContext.intoPosition=intoPosition,localContext.reducedBodies=reducedBodies;for(var j=0,m=selectors.length;j<m;j++){var selector=selectors[j],data=candidates[selector];if(data.length<2)continue allSelectors;if(localContext.data=data,reduceSelector(tokens,data,{filterOut:filterOut,callback:collectReducedBodies},options,context),serializeBody(reducedBodies[reducedBodies.length-1])!=serializeBody(reducedBodies[0]))continue allSelectors}intoToken[2]=reducedBodies[0]}}}function reduceSelector(tokens,data,context,options,outerContext){for(var bodies=[],bodiesAsList=[],processedTokens=[],j=data.length-1;j>=0;j--)if(!context.filterOut(j,bodies)){var where=data[j].where,token=tokens[where],clonedBody=cloneArray(token[2]);bodies=bodies.concat(clonedBody),bodiesAsList.push(clonedBody),processedTokens.push(where)}optimizeProperties(bodies,!0,!1,outerContext);for(var processedCount=processedTokens.length,propertyIdx=bodies.length-1,tokenIdx=processedCount-1;tokenIdx>=0;)if((0===tokenIdx||bodies[propertyIdx]&&bodiesAsList[tokenIdx].indexOf(bodies[propertyIdx])>-1)&&propertyIdx>-1)propertyIdx--;else{var newBody=bodies.splice(propertyIdx+1);context.callback(tokens[processedTokens[tokenIdx]],newBody,processedCount,tokenIdx),tokenIdx--}}var isMergeable=require("./is-mergeable"),optimizeProperties=require("./properties/optimize"),cloneArray=require("../../utils/clone-array"),Token=require("../../tokenizer/token"),serializeBody=require("../../writer/one-time").body,serializeRules=require("../../writer/one-time").rules;module.exports=reduceNonAdjacent},{"../../tokenizer/token":122,"../../utils/clone-array":124,"../../writer/one-time":136,"./is-mergeable":62,"./properties/optimize":74}],81:[function(require,module,exports){function removeDuplicateFontAtRules(tokens){var token,key,i,l,fontAtRules=[];for(i=0,l=tokens.length;i<l;i++)token=tokens[i],token[0]!=Token.AT_RULE_BLOCK&&token[1][0][1]!=FONT_FACE_SCOPE||(key=serializeAll([token]),fontAtRules.indexOf(key)>-1?token[2]=[]:fontAtRules.push(key))}var Token=require("../../tokenizer/token"),serializeAll=require("../../writer/one-time").all,FONT_FACE_SCOPE="@font-face";module.exports=removeDuplicateFontAtRules},{"../../tokenizer/token":122,"../../writer/one-time":136}],82:[function(require,module,exports){function removeDuplicateMediaQueries(tokens){var candidate,token,key,i,l,candidates={};for(i=0,l=tokens.length;i<l;i++)token=tokens[i],token[0]==Token.NESTED_BLOCK&&(key=serializeRules(token[1])+"%"+serializeAll(token[2]),candidate=candidates[key],candidate&&(candidate[2]=[]),candidates[key]=token)}var Token=require("../../tokenizer/token"),serializeAll=require("../../writer/one-time").all,serializeRules=require("../../writer/one-time").rules;module.exports=removeDuplicateMediaQueries},{"../../tokenizer/token":122,"../../writer/one-time":136}],83:[function(require,module,exports){function removeDuplicates(tokens){for(var id,token,body,bodies,matched={},moreThanOnce=[],i=0,l=tokens.length;i<l;i++)token=tokens[i],token[0]==Token.RULE&&(id=serializeRules(token[1]),matched[id]&&1==matched[id].length?moreThanOnce.push(id):matched[id]=matched[id]||[],matched[id].push(i));for(i=0,l=moreThanOnce.length;i<l;i++){id=moreThanOnce[i],bodies=[];for(var j=matched[id].length-1;j>=0;j--)token=tokens[matched[id][j]],body=serializeBody(token[2]),bodies.indexOf(body)>-1?token[2]=[]:bodies.push(body)}}var Token=require("../../tokenizer/token"),serializeBody=require("../../writer/one-time").body,serializeRules=require("../../writer/one-time").rules;module.exports=removeDuplicates},{"../../tokenizer/token":122,"../../writer/one-time":136}],84:[function(require,module,exports){function normalize(value){return value.replace(optionalMatchingQuotesRegex,"$2").replace(importantRegex,"")}function removeUnusedAtRules(tokens,context){removeUnusedAtRule(tokens,matchCounterStyle,markCounterStylesAsUsed,context),removeUnusedAtRule(tokens,matchFontFace,markFontFacesAsUsed,context),removeUnusedAtRule(tokens,matchKeyframe,markKeyframesAsUsed,context),removeUnusedAtRule(tokens,matchNamespace,markNamespacesAsUsed,context)}function removeUnusedAtRule(tokens,matchCallback,markCallback,context){var atRule,atRuleTokens,atRuleToken,zeroAt,i,l,atRules={};for(i=0,l=tokens.length;i<l;i++)matchCallback(tokens[i],atRules);if(0!==Object.keys(atRules).length){markUsedAtRules(tokens,markCallback,atRules,context);for(atRule in atRules)for(atRuleTokens=atRules[atRule],i=0,l=atRuleTokens.length;i<l;i++)atRuleToken=atRuleTokens[i],zeroAt=atRuleToken[0]==Token.AT_RULE?1:2,atRuleToken[zeroAt]=[]}}function markUsedAtRules(tokens,markCallback,atRules,context){var i,l,boundMarkCallback=markCallback(atRules);for(i=0,l=tokens.length;i<l;i++)switch(tokens[i][0]){case Token.RULE:boundMarkCallback(tokens[i],context);break;case Token.NESTED_BLOCK:markUsedAtRules(tokens[i][2],markCallback,atRules,context)}}function matchCounterStyle(token,atRules){var match;token[0]==Token.AT_RULE_BLOCK&&0===token[1][0][1].indexOf("@counter-style")&&(match=token[1][0][1].split(" ")[1],atRules[match]=atRules[match]||[],atRules[match].push(token))}function markCounterStylesAsUsed(atRules){return function(token,context){var property,wrappedProperty,i,l;for(i=0,l=token[2].length;i<l;i++)property=token[2][i],"list-style"==property[1][1]&&(wrappedProperty=wrapForOptimizing(property),populateComponents([wrappedProperty],context.validator,context.warnings),wrappedProperty.components[0].value[0][1]in atRules&&delete atRules[property[2][1]],restoreFromOptimizing([wrappedProperty])),"list-style-type"==property[1][1]&&property[2][1]in atRules&&delete atRules[property[2][1]]}}function matchFontFace(token,atRules){var property,match,i,l;if(token[0]==Token.AT_RULE_BLOCK&&"@font-face"==token[1][0][1])for(i=0,l=token[2].length;i<l;i++)if(property=token[2][i],"font-family"==property[1][1]){match=normalize(property[2][1].toLowerCase()),atRules[match]=atRules[match]||[],atRules[match].push(token);break}}function markFontFacesAsUsed(atRules){return function(token,context){var property,wrappedProperty,component,normalizedMatch,i,l,j,m;for(i=0,l=token[2].length;i<l;i++){if(property=token[2][i],"font"==property[1][1]){for(wrappedProperty=wrapForOptimizing(property),populateComponents([wrappedProperty],context.validator,context.warnings),component=wrappedProperty.components[6],j=0,m=component.value.length;j<m;j++)(normalizedMatch=normalize(component.value[j][1].toLowerCase()))in atRules&&delete atRules[normalizedMatch];restoreFromOptimizing([wrappedProperty])}if("font-family"==property[1][1])for(j=2,m=property.length;j<m;j++)(normalizedMatch=normalize(property[j][1].toLowerCase()))in atRules&&delete atRules[normalizedMatch]}}}function matchKeyframe(token,atRules){var match;token[0]==Token.NESTED_BLOCK&&keyframeRegex.test(token[1][0][1])&&(match=token[1][0][1].split(" ")[1],atRules[match]=atRules[match]||[],atRules[match].push(token))}function markKeyframesAsUsed(atRules){return function(token,context){var property,wrappedProperty,component,i,l,j,m;for(i=0,l=token[2].length;i<l;i++){if(property=token[2][i],animationRegex.test(property[1][1])){for(wrappedProperty=wrapForOptimizing(property),populateComponents([wrappedProperty],context.validator,context.warnings),component=wrappedProperty.components[7],j=0,m=component.value.length;j<m;j++)component.value[j][1]in atRules&&delete atRules[component.value[j][1]];restoreFromOptimizing([wrappedProperty])}if(animationNameRegex.test(property[1][1]))for(j=2,m=property.length;j<m;j++)property[j][1]in atRules&&delete atRules[property[j][1]]}}}function matchNamespace(token,atRules){var match;token[0]==Token.AT_RULE&&0===token[1].indexOf("@namespace")&&(match=token[1].split(" ")[1],atRules[match]=atRules[match]||[],atRules[match].push(token))}function markNamespacesAsUsed(atRules){var namespaceRegex=new RegExp(Object.keys(atRules).join("\\||")+"\\|","g");return function(token){var match,scope,normalizedMatch,i,l,j,m;for(i=0,l=token[1].length;i<l;i++)for(scope=token[1][i],match=scope[1].match(namespaceRegex),j=0,m=match.length;j<m;j++)(normalizedMatch=match[j].substring(0,match[j].length-1))in atRules&&delete atRules[normalizedMatch]}}var populateComponents=require("./properties/populate-components"),wrapForOptimizing=require("../wrap-for-optimizing").single,restoreFromOptimizing=require("../restore-from-optimizing"),Token=require("../../tokenizer/token"),animationNameRegex=/^(\-moz\-|\-o\-|\-webkit\-)?animation-name$/,animationRegex=/^(\-moz\-|\-o\-|\-webkit\-)?animation$/,keyframeRegex=/^@(\-moz\-|\-o\-|\-webkit\-)?keyframes /,importantRegex=/\s{0,31}!important$/,optionalMatchingQuotesRegex=/^(['"]?)(.*)\1$/;module.exports=removeUnusedAtRules},{"../../tokenizer/token":122,"../restore-from-optimizing":94,"../wrap-for-optimizing":96,"./properties/populate-components":77}],85:[function(require,module,exports){function canReorder(left,right,cache){for(var i=right.length-1;i>=0;i--)for(var j=left.length-1;j>=0;j--)if(!canReorderSingle(left[j],right[i],cache))return!1;return!0}function canReorderSingle(left,right,cache){var leftName=left[0],leftValue=left[1],leftNameRoot=left[2],leftSelector=left[5],leftInSpecificSelector=left[6],rightName=right[0],rightValue=right[1],rightNameRoot=right[2],rightSelector=right[5],rightInSpecificSelector=right[6];return!("font"==leftName&&"line-height"==rightName||"font"==rightName&&"line-height"==leftName)&&((!FLEX_PROPERTIES.test(leftName)||!FLEX_PROPERTIES.test(rightName))&&(!(leftNameRoot==rightNameRoot&&unprefixed(leftName)==unprefixed(rightName)&&vendorPrefixed(leftName)^vendorPrefixed(rightName))&&(("border"!=leftNameRoot||!BORDER_PROPERTIES.test(rightNameRoot)||!("border"==leftName||leftName==rightNameRoot||leftValue!=rightValue&&sameBorderComponent(leftName,rightName)))&&(("border"!=rightNameRoot||!BORDER_PROPERTIES.test(leftNameRoot)||!("border"==rightName||rightName==leftNameRoot||leftValue!=rightValue&&sameBorderComponent(leftName,rightName)))&&(("border"!=leftNameRoot||"border"!=rightNameRoot||leftName==rightName||!(isSideBorder(leftName)&&isStyleBorder(rightName)||isStyleBorder(leftName)&&isSideBorder(rightName)))&&(leftNameRoot!=rightNameRoot||(!(leftName!=rightName||leftNameRoot!=rightNameRoot||leftValue!=rightValue&&!withDifferentVendorPrefix(leftValue,rightValue))||(leftName!=rightName&&leftNameRoot==rightNameRoot&&leftName!=leftNameRoot&&rightName!=rightNameRoot||(leftName!=rightName&&leftNameRoot==rightNameRoot&&leftValue==rightValue||(!(!rightInSpecificSelector||!leftInSpecificSelector||inheritable(leftNameRoot)||inheritable(rightNameRoot)||rulesOverlap(rightSelector,leftSelector,!1))||!specificitiesOverlap(leftSelector,rightSelector,cache)))))))))))}function vendorPrefixed(name){return/^\-(?:moz|webkit|ms|o)\-/.test(name)}function unprefixed(name){return name.replace(/^\-(?:moz|webkit|ms|o)\-/,"")}function sameBorderComponent(name1,name2){return name1.split("-").pop()==name2.split("-").pop()}function isSideBorder(name){return"border-top"==name||"border-right"==name||"border-bottom"==name||"border-left"==name}function isStyleBorder(name){return"border-color"==name||"border-style"==name||"border-width"==name}function withDifferentVendorPrefix(value1,value2){return vendorPrefixed(value1)&&vendorPrefixed(value2)&&value1.split("-")[1]!=value2.split("-")[2]}function inheritable(name){return"font"==name||"line-height"==name||"list-style"==name}var rulesOverlap=require("./rules-overlap"),specificitiesOverlap=require("./specificities-overlap"),FLEX_PROPERTIES=/align\-items|box\-align|box\-pack|flex|justify/,BORDER_PROPERTIES=/^border\-(top|right|bottom|left|color|style|width|radius)/;module.exports={canReorder:canReorder,canReorderSingle:canReorderSingle}},{"./rules-overlap":89,"./specificities-overlap":90}],86:[function(require,module,exports){function restoreWithComponents(property){var descriptor=compactable[property.name];return descriptor&&descriptor.shorthand?descriptor.restore(property,compactable):property.value}var compactable=require("./compactable");module.exports=restoreWithComponents},{"./compactable":59}],87:[function(require,module,exports){function isInheritOnly(values){for(var i=0,l=values.length;i<l;i++){var value=values[i][1];if("inherit"!=value&&value!=Marker.COMMA&&value!=Marker.FORWARD_SLASH)return!1}return!0}function background(property,compactable,lastInMultiplex){function restoreValue(component){Array.prototype.unshift.apply(restored,component.value)}function isDefaultValue(component){var descriptor=compactable[component.name];return descriptor.doubleValues&&1==descriptor.defaultValue.length?component.value[0][1]==descriptor.defaultValue[0]&&(!component.value[1]||component.value[1][1]==descriptor.defaultValue[0]):descriptor.doubleValues&&1!=descriptor.defaultValue.length?component.value[0][1]==descriptor.defaultValue[0]&&(component.value[1]?component.value[1][1]:component.value[0][1])==descriptor.defaultValue[1]:component.value[0][1]==descriptor.defaultValue}for(var needsOne,needsBoth,components=property.components,restored=[],i=components.length-1;i>=0;i--){var component=components[i],isDefault=isDefaultValue(component);if("background-clip"==component.name){var originComponent=components[i-1],isOriginDefault=isDefaultValue(originComponent);needsOne=component.value[0][1]==originComponent.value[0][1],needsBoth=!needsOne&&(isOriginDefault&&!isDefault||!isOriginDefault&&!isDefault||!isOriginDefault&&isDefault&&component.value[0][1]!=originComponent.value[0][1]),needsOne?restoreValue(originComponent):needsBoth&&(restoreValue(component),restoreValue(originComponent)),i--}else if("background-size"==component.name){var positionComponent=components[i-1],isPositionDefault=isDefaultValue(positionComponent);needsOne=!isPositionDefault&&isDefault,needsBoth=!needsOne&&(isPositionDefault&&!isDefault||!isPositionDefault&&!isDefault),needsOne?restoreValue(positionComponent):needsBoth?(restoreValue(component),restored.unshift([Token.PROPERTY_VALUE,Marker.FORWARD_SLASH]),restoreValue(positionComponent)):1==positionComponent.value.length&&restoreValue(positionComponent),i--}else{if(isDefault||compactable[component.name].multiplexLastOnly&&!lastInMultiplex)continue;restoreValue(component)}}return 0===restored.length&&1==property.value.length&&"0"==property.value[0][1]&&restored.push(property.value[0]),0===restored.length&&restored.push([Token.PROPERTY_VALUE,compactable[property.name].defaultValue]),isInheritOnly(restored)?[restored[0]]:restored}function borderRadius(property,compactable){if(property.multiplex){for(var horizontal=shallowClone(property),vertical=shallowClone(property),i=0;i<4;i++){var component=property.components[i],horizontalComponent=shallowClone(property);horizontalComponent.value=[component.value[0]],horizontal.components.push(horizontalComponent);var verticalComponent=shallowClone(property);verticalComponent.value=[component.value[1]||component.value[0]],vertical.components.push(verticalComponent)}var horizontalValues=fourValues(horizontal),verticalValues=fourValues(vertical);return horizontalValues.length!=verticalValues.length||horizontalValues[0][1]!=verticalValues[0][1]||horizontalValues.length>1&&horizontalValues[1][1]!=verticalValues[1][1]||horizontalValues.length>2&&horizontalValues[2][1]!=verticalValues[2][1]||horizontalValues.length>3&&horizontalValues[3][1]!=verticalValues[3][1]?horizontalValues.concat([[Token.PROPERTY_VALUE,Marker.FORWARD_SLASH]]).concat(verticalValues):horizontalValues}return fourValues(property)}function font(property,compactable){var component,components=property.components,restored=[],componentIndex=0,fontFamilyIndex=0;if(0===property.value[0][1].indexOf(Marker.INTERNAL))return property.value[0][1]=property.value[0][1].substring(Marker.INTERNAL.length),property.value;for(;componentIndex<4;)component=components[componentIndex],component.value[0][1]!=compactable[component.name].defaultValue&&Array.prototype.push.apply(restored,component.value),componentIndex++;for(Array.prototype.push.apply(restored,components[componentIndex].value),componentIndex++,components[componentIndex].value[0][1]!=compactable[components[componentIndex].name].defaultValue&&(Array.prototype.push.apply(restored,[[Token.PROPERTY_VALUE,Marker.FORWARD_SLASH]]),Array.prototype.push.apply(restored,components[componentIndex].value)),componentIndex++;components[componentIndex].value[fontFamilyIndex];)restored.push(components[componentIndex].value[fontFamilyIndex]),components[componentIndex].value[fontFamilyIndex+1]&&restored.push([Token.PROPERTY_VALUE,Marker.COMMA]),fontFamilyIndex++;return isInheritOnly(restored)?[restored[0]]:restored}function fourValues(property){var components=property.components,value1=components[0].value[0],value2=components[1].value[0],value3=components[2].value[0],value4=components[3].value[0];return value1[1]==value2[1]&&value1[1]==value3[1]&&value1[1]==value4[1]?[value1]:value1[1]==value3[1]&&value2[1]==value4[1]?[value1,value2]:value2[1]==value4[1]?[value1,value2,value3]:[value1,value2,value3,value4]}function multiplex(restoreWith){return function(property,compactable){if(!property.multiplex)return restoreWith(property,compactable,!0);var i,l,multiplexSize=0,restored=[],componentMultiplexSoFar={};for(i=0,l=property.components[0].value.length;i<l;i++)property.components[0].value[i][1]==Marker.COMMA&&multiplexSize++;for(i=0;i<=multiplexSize;i++){for(var _property=shallowClone(property),j=0,m=property.components.length;j<m;j++){var componentToClone=property.components[j],_component=shallowClone(componentToClone);_property.components.push(_component);for(var k=componentMultiplexSoFar[_component.name]||0,n=componentToClone.value.length;k<n;k++){if(componentToClone.value[k][1]==Marker.COMMA){componentMultiplexSoFar[_component.name]=k+1;break}_component.value.push(componentToClone.value[k])}}var lastInMultiplex=i==multiplexSize,_restored=restoreWith(_property,compactable,lastInMultiplex);Array.prototype.push.apply(restored,_restored),i<multiplexSize&&restored.push([Token.PROPERTY_VALUE,Marker.COMMA])}return restored}}function withoutDefaults(property,compactable){for(var components=property.components,restored=[],i=components.length-1;i>=0;i--){var component=components[i],descriptor=compactable[component.name];(component.value[0][1]!=descriptor.defaultValue||"keepUnlessDefault"in descriptor&&!isDefault(components,compactable,descriptor.keepUnlessDefault))&&restored.unshift(component.value[0])}return 0===restored.length&&restored.push([Token.PROPERTY_VALUE,compactable[property.name].defaultValue]),isInheritOnly(restored)?[restored[0]]:restored}function isDefault(components,compactable,propertyName){var component,i,l;for(i=0,l=components.length;i<l;i++)if(component=components[i],component.name==propertyName&&component.value[0][1]==compactable[propertyName].defaultValue)return!0;return!1}var shallowClone=require("./clone").shallow,Token=require("../../tokenizer/token"),Marker=require("../../tokenizer/marker");module.exports={background:background,borderRadius:borderRadius,font:font,fourValues:fourValues,multiplex:multiplex,withoutDefaults:withoutDefaults}},{"../../tokenizer/marker":121,"../../tokenizer/token":122,"./clone":58}],88:[function(require,module,exports){function naturalSorter(a,b){return a>b?1:-1}function cloneAndMergeSelectors(propertyA,propertyB){var cloned=cloneArray(propertyA);return cloned[5]=cloned[5].concat(propertyB[5]),cloned}function restructure(tokens,context){function sendToMultiPropertyMoveCache(position,movedProperty,allFits){
for(var i=allFits.length-1;i>=0;i--){var fit=allFits[i][0],id=addToCache(movedProperty,fit);if(multiPropertyMoveCache[id].length>1&&processMultiPropertyMove(position,multiPropertyMoveCache[id])){removeAllMatchingFromCache(id);break}}}function addToCache(movedProperty,fit){var id=cacheId(fit);return multiPropertyMoveCache[id]=multiPropertyMoveCache[id]||[],multiPropertyMoveCache[id].push([movedProperty,fit]),id}function removeAllMatchingFromCache(matchId){var i,matchSelectors=matchId.split(ID_JOIN_CHARACTER),forRemoval=[];for(var id in multiPropertyMoveCache){var selectors=id.split(ID_JOIN_CHARACTER);for(i=selectors.length-1;i>=0;i--)if(matchSelectors.indexOf(selectors[i])>-1){forRemoval.push(id);break}}for(i=forRemoval.length-1;i>=0;i--)delete multiPropertyMoveCache[forRemoval[i]]}function cacheId(cachedTokens){for(var id=[],i=0,l=cachedTokens.length;i<l;i++)id.push(serializeRules(cachedTokens[i][1]));return id.join(ID_JOIN_CHARACTER)}function tokensToMerge(sourceTokens){for(var uniqueTokensWithBody=[],mergeableTokens=[],i=sourceTokens.length-1;i>=0;i--)isMergeable(serializeRules(sourceTokens[i][1]),mergeablePseudoClasses,mergeablePseudoElements,multiplePseudoMerging)&&(mergeableTokens.unshift(sourceTokens[i]),sourceTokens[i][2].length>0&&-1==uniqueTokensWithBody.indexOf(sourceTokens[i])&&uniqueTokensWithBody.push(sourceTokens[i]));return uniqueTokensWithBody.length>1?mergeableTokens:[]}function shortenIfPossible(position,movedProperty){var name=movedProperty[0],value=movedProperty[1],key=movedProperty[4],valueSize=name.length+value.length+1,allSelectors=[],qualifiedTokens=[],mergeableTokens=tokensToMerge(movableTokens[key]);if(!(mergeableTokens.length<2)){var allFits=findAllFits(mergeableTokens,valueSize,1),bestFit=allFits[0];if(bestFit[1]>0)return sendToMultiPropertyMoveCache(position,movedProperty,allFits);for(var i=bestFit[0].length-1;i>=0;i--)allSelectors=bestFit[0][i][1].concat(allSelectors),qualifiedTokens.unshift(bestFit[0][i]);allSelectors=tidyRuleDuplicates(allSelectors),dropAsNewTokenAt(position,[movedProperty],allSelectors,qualifiedTokens)}}function fitSorter(fit1,fit2){return fit1[1]>fit2[1]?1:fit1[1]==fit2[1]?0:-1}function findAllFits(mergeableTokens,propertySize,propertiesCount){return allCombinations(mergeableTokens,propertySize,propertiesCount,maxCombinationsLevel-1).sort(fitSorter)}function allCombinations(tokensVariant,propertySize,propertiesCount,level){var differenceVariants=[[tokensVariant,sizeDifference(tokensVariant,propertySize,propertiesCount)]];if(tokensVariant.length>2&&level>0)for(var i=tokensVariant.length-1;i>=0;i--){var subVariant=Array.prototype.slice.call(tokensVariant,0);subVariant.splice(i,1),differenceVariants=differenceVariants.concat(allCombinations(subVariant,propertySize,propertiesCount,level-1))}return differenceVariants}function sizeDifference(tokensVariant,propertySize,propertiesCount){for(var allSelectorsSize=0,i=tokensVariant.length-1;i>=0;i--)allSelectorsSize+=tokensVariant[i][2].length>propertiesCount?serializeRules(tokensVariant[i][1]).length:-1;return allSelectorsSize-(tokensVariant.length-1)*propertySize+1}function dropAsNewTokenAt(position,properties,allSelectors,mergeableTokens){var i,j,k,m,allProperties=[];for(i=mergeableTokens.length-1;i>=0;i--){var mergeableToken=mergeableTokens[i];for(j=mergeableToken[2].length-1;j>=0;j--){var mergeableProperty=mergeableToken[2][j];for(k=0,m=properties.length;k<m;k++){var property=properties[k],mergeablePropertyName=mergeableProperty[1][1],propertyName=property[0],propertyBody=property[4];if(mergeablePropertyName==propertyName&&serializeBody([mergeableProperty])==propertyBody){mergeableToken[2].splice(j,1);break}}}}for(i=properties.length-1;i>=0;i--)allProperties.unshift(properties[i][3]);var newToken=[Token.RULE,allSelectors,allProperties];tokens.splice(position,0,newToken)}function dropPropertiesAt(position,movedProperty){var key=movedProperty[4],toMove=movableTokens[key];toMove&&toMove.length>1&&(shortenMultiMovesIfPossible(position,movedProperty)||shortenIfPossible(position,movedProperty))}function shortenMultiMovesIfPossible(position,movedProperty){var j,k,candidates=[],propertiesAndMergableTokens=[],key=movedProperty[4],mergeableTokens=tokensToMerge(movableTokens[key]);if(!(mergeableTokens.length<2)){movableLoop:for(var value in movableTokens){var tokensList=movableTokens[value];for(j=mergeableTokens.length-1;j>=0;j--)if(-1==tokensList.indexOf(mergeableTokens[j]))continue movableLoop;candidates.push(value)}if(candidates.length<2)return!1;for(j=candidates.length-1;j>=0;j--)for(k=movedProperties.length-1;k>=0;k--)if(movedProperties[k][4]==candidates[j]){propertiesAndMergableTokens.unshift([movedProperties[k],mergeableTokens]);break}return processMultiPropertyMove(position,propertiesAndMergableTokens)}}function processMultiPropertyMove(position,propertiesAndMergableTokens){for(var property,valueSize=0,properties=[],i=propertiesAndMergableTokens.length-1;i>=0;i--){property=propertiesAndMergableTokens[i][0];valueSize+=property[4].length+(i>0?1:0),properties.push(property)}var mergeableTokens=propertiesAndMergableTokens[0][1],bestFit=findAllFits(mergeableTokens,valueSize,properties.length)[0];if(bestFit[1]>0)return!1;var allSelectors=[],qualifiedTokens=[];for(i=bestFit[0].length-1;i>=0;i--)allSelectors=bestFit[0][i][1].concat(allSelectors),qualifiedTokens.unshift(bestFit[0][i]);for(allSelectors=tidyRuleDuplicates(allSelectors),dropAsNewTokenAt(position,properties,allSelectors,qualifiedTokens),i=properties.length-1;i>=0;i--){property=properties[i];var index=movedProperties.indexOf(property);delete movableTokens[property[4]],index>-1&&-1==movedToBeDropped.indexOf(index)&&movedToBeDropped.push(index)}return!0}for(var options=context.options,mergeablePseudoClasses=options.compatibility.selectors.mergeablePseudoClasses,mergeablePseudoElements=options.compatibility.selectors.mergeablePseudoElements,mergeLimit=options.compatibility.selectors.mergeLimit,multiplePseudoMerging=options.compatibility.selectors.multiplePseudoMerging,specificityCache=context.cache.specificity,movableTokens={},movedProperties=[],multiPropertyMoveCache={},movedToBeDropped=[],maxCombinationsLevel=2,ID_JOIN_CHARACTER="%",i=tokens.length-1;i>=0;i--){var isRule,j,k,m,samePropertyAt,token=tokens[i];if(token[0]==Token.RULE)isRule=!0;else{if(token[0]!=Token.NESTED_BLOCK)continue;isRule=!1}var movedCount=movedProperties.length,properties=extractProperties(token);movedToBeDropped=[];var unmovableInCurrentToken=[];for(j=properties.length-1;j>=0;j--)for(k=j-1;k>=0;k--)if(!canReorderSingle(properties[j],properties[k],specificityCache)){unmovableInCurrentToken.push(j);break}for(j=properties.length-1;j>=0;j--){var property=properties[j],movedSameProperty=!1;for(k=0;k<movedCount;k++){var movedProperty=movedProperties[k];-1==movedToBeDropped.indexOf(k)&&(!canReorderSingle(property,movedProperty,specificityCache)&&!function(property,movedProperty,token){if(property[0]!=movedProperty[0])return!1;var key=movedProperty[4],toMove=movableTokens[key];return toMove&&toMove.indexOf(token)>-1}(property,movedProperty,token)||movableTokens[movedProperty[4]]&&movableTokens[movedProperty[4]].length===mergeLimit)&&(dropPropertiesAt(i+1,movedProperty),-1==movedToBeDropped.indexOf(k)&&(movedToBeDropped.push(k),delete movableTokens[movedProperty[4]])),movedSameProperty||(movedSameProperty=property[0]==movedProperty[0]&&property[1]==movedProperty[1])&&(samePropertyAt=k)}if(isRule&&!(unmovableInCurrentToken.indexOf(j)>-1)){var key=property[4];movedSameProperty&&movedProperties[samePropertyAt][5].length+property[5].length>mergeLimit?(dropPropertiesAt(i+1,movedProperties[samePropertyAt]),movedProperties.splice(samePropertyAt,1),movableTokens[key]=[token],movedSameProperty=!1):(movableTokens[key]=movableTokens[key]||[],movableTokens[key].push(token)),movedSameProperty?movedProperties[samePropertyAt]=cloneAndMergeSelectors(movedProperties[samePropertyAt],property):movedProperties.push(property)}}for(movedToBeDropped=movedToBeDropped.sort(naturalSorter),j=0,m=movedToBeDropped.length;j<m;j++){var dropAt=movedToBeDropped[j]-j;movedProperties.splice(dropAt,1)}}for(var position=tokens[0]&&tokens[0][0]==Token.AT_RULE&&0===tokens[0][1].indexOf("@charset")?1:0;position<tokens.length-1;position++){var isImportRule=tokens[position][0]===Token.AT_RULE&&0===tokens[position][1].indexOf("@import"),isComment=tokens[position][0]===Token.COMMENT;if(!isImportRule&&!isComment)break}for(i=0;i<movedProperties.length;i++)dropPropertiesAt(position,movedProperties[i])}var canReorderSingle=require("./reorderable").canReorderSingle,extractProperties=require("./extract-properties"),isMergeable=require("./is-mergeable"),tidyRuleDuplicates=require("./tidy-rule-duplicates"),Token=require("../../tokenizer/token"),cloneArray=require("../../utils/clone-array"),serializeBody=require("../../writer/one-time").body,serializeRules=require("../../writer/one-time").rules;module.exports=restructure},{"../../tokenizer/token":122,"../../utils/clone-array":124,"../../writer/one-time":136,"./extract-properties":60,"./is-mergeable":62,"./reorderable":85,"./tidy-rule-duplicates":92}],89:[function(require,module,exports){function rulesOverlap(rule1,rule2,bemMode){var scope1,scope2,i,l,j,m;for(i=0,l=rule1.length;i<l;i++)for(scope1=rule1[i][1],j=0,m=rule2.length;j<m;j++){if(scope2=rule2[j][1],scope1==scope2)return!0;if(bemMode&&withoutModifiers(scope1)==withoutModifiers(scope2))return!0}return!1}function withoutModifiers(scope){return scope.replace(MODIFIER_PATTERN,"")}var MODIFIER_PATTERN=/\-\-.+$/;module.exports=rulesOverlap},{}],90:[function(require,module,exports){function specificitiesOverlap(selector1,selector2,cache){var specificity1,specificity2,i,l,j,m;for(i=0,l=selector1.length;i<l;i++)for(specificity1=findSpecificity(selector1[i][1],cache),j=0,m=selector2.length;j<m;j++)if(specificity2=findSpecificity(selector2[j][1],cache),specificity1[0]===specificity2[0]&&specificity1[1]===specificity2[1]&&specificity1[2]===specificity2[2])return!0;return!1}function findSpecificity(selector,cache){var value;return selector in cache||(cache[selector]=value=specificity(selector)),value||cache[selector]}var specificity=require("./specificity");module.exports=specificitiesOverlap},{"./specificity":91}],91:[function(require,module,exports){function specificity(selector){var character,isEscaped,isSingleQuoted,isDoubleQuoted,couldIntroduceNewTypeSelector,i,l,result=[0,0,0],roundBracketLevel=0,withinNotPseudoClass=!1,wasPseudoClass=!1;for(i=0,l=selector.length;i<l;i++){if(character=selector[i],isEscaped);else if(character!=Marker.SINGLE_QUOTE||isDoubleQuoted||isSingleQuoted)if(character==Marker.SINGLE_QUOTE&&!isDoubleQuoted&&isSingleQuoted)isSingleQuoted=!1;else if(character!=Marker.DOUBLE_QUOTE||isDoubleQuoted||isSingleQuoted)if(character==Marker.DOUBLE_QUOTE&&isDoubleQuoted&&!isSingleQuoted)isDoubleQuoted=!1;else{if(isSingleQuoted||isDoubleQuoted)continue;roundBracketLevel>0&&!withinNotPseudoClass||(character==Marker.OPEN_ROUND_BRACKET?roundBracketLevel++:character==Marker.CLOSE_ROUND_BRACKET&&1==roundBracketLevel?(roundBracketLevel--,withinNotPseudoClass=!1):character==Marker.CLOSE_ROUND_BRACKET?roundBracketLevel--:character==Selector.HASH?result[0]++:character==Selector.DOT||character==Marker.OPEN_SQUARE_BRACKET?result[1]++:character!=Selector.PSEUDO||wasPseudoClass||isNotPseudoClass(selector,i)?character==Selector.PSEUDO?withinNotPseudoClass=!0:(0===i||couldIntroduceNewTypeSelector)&&LETTER_PATTERN.test(character)&&result[2]++:(result[1]++,withinNotPseudoClass=!1))}else isDoubleQuoted=!0;else isSingleQuoted=!0;isEscaped=character==Marker.BACK_SLASH,wasPseudoClass=character==Selector.PSEUDO,couldIntroduceNewTypeSelector=!isEscaped&&SEPARATOR_PATTERN.test(character)}return result}function isNotPseudoClass(selector,index){return selector.indexOf(NOT_PREFIX,index)===index}var Marker=require("../../tokenizer/marker"),Selector={ADJACENT_SIBLING:"+",DESCENDANT:">",DOT:".",HASH:"#",NON_ADJACENT_SIBLING:"~",PSEUDO:":"},LETTER_PATTERN=/[a-zA-Z]/,NOT_PREFIX=":not(",SEPARATOR_PATTERN=/[\s,\(>~\+]/;module.exports=specificity},{"../../tokenizer/marker":121}],92:[function(require,module,exports){function ruleSorter(s1,s2){return s1[1]>s2[1]?1:-1}function tidyRuleDuplicates(rules){for(var list=[],repeated=[],i=0,l=rules.length;i<l;i++){var rule=rules[i];-1==repeated.indexOf(rule[1])&&(repeated.push(rule[1]),list.push(rule))}return list.sort(ruleSorter)}module.exports=tidyRuleDuplicates},{}],93:[function(require,module,exports){function removeUnused(properties){for(var i=properties.length-1;i>=0;i--){var property=properties[i];property.unused&&property.all.splice(property.position,1)}}module.exports=removeUnused},{}],94:[function(require,module,exports){function restoreFromOptimizing(properties,restoreCallback){var property,restored,current,i;for(i=properties.length-1;i>=0;i--)property=properties[i],property.unused||(property.dirty||property.important||property.hack)&&(restoreCallback?(restored=restoreCallback(property),property.value=restored):restored=property.value,property.important&&restoreImportant(property),property.hack&&restoreHack(property),"all"in property&&(current=property.all[property.position],current[1][1]=property.name,current.splice(2,current.length-1),Array.prototype.push.apply(current,restored)))}function restoreImportant(property){property.value[property.value.length-1][1]+=IMPORTANT_TOKEN}function restoreHack(property){property.hack[0]==Hack.UNDERSCORE?property.name=UNDERSCORE_HACK+property.name:property.hack[0]==Hack.ASTERISK?property.name=ASTERISK_HACK+property.name:property.hack[0]==Hack.BACKSLASH?property.value[property.value.length-1][1]+=BACKSLASH_HACK+property.hack[1]:property.hack[0]==Hack.BANG&&(property.value[property.value.length-1][1]+=Marker.SPACE+BANG_HACK)}var Hack=require("./hack"),Marker=require("../tokenizer/marker"),ASTERISK_HACK="*",BACKSLASH_HACK="\\",IMPORTANT_TOKEN="!important",UNDERSCORE_HACK="_",BANG_HACK="!ie";module.exports=restoreFromOptimizing},{"../tokenizer/marker":121,"./hack":46}],95:[function(require,module,exports){function isColor(value){return"auto"!=value&&(isKeyword("color")(value)||isHexColor(value)||isColorFunction(value)||isNamedEntity(value))}function isColorFunction(value){return isRgbColor(value)||isHslColor(value)}function isDynamicUnit(value){return calcRegex.test(value)}function isFunction(value){return functionAnyRegex.test(value)}function isHexColor(value){return threeValueColorRegex.test(value)||fourValueColorRegex.test(value)||sixValueColorRegex.test(value)||eightValueColorRegex.test(value)}function isHslColor(value){return hslColorRegex.test(value)}function isIdentifier(value){return identifierRegex.test(value)}function isImage(value){return"none"==value||"inherit"==value||isUrl(value)}function isKeyword(propertyName){return function(value){return Keywords[propertyName].indexOf(value)>-1}}function isNamedEntity(value){return namedEntityRegex.test(value)}function isNumber(value){return scanForNumber(value)==value.length}function isRgbColor(value){return rgbColorRegex.test(value)}function isPrefixed(value){return prefixRegex.test(value)}function isPositiveNumber(value){return isNumber(value)&&parseFloat(value)>=0}function isVariable(value){return variableRegex.test(value)}function isTime(value){var numberUpTo=scanForNumber(value);return numberUpTo==value.length&&0===parseInt(value)||numberUpTo>-1&&validTimeUnits.indexOf(value.slice(numberUpTo+1))>-1}function isTimingFunction(){var isTimingFunctionKeyword=isKeyword("*-timing-function");return function(value){return isTimingFunctionKeyword(value)||timingFunctionRegex.test(value)}}function isUnit(validUnits,value){var numberUpTo=scanForNumber(value);return numberUpTo==value.length&&0===parseInt(value)||numberUpTo>-1&&validUnits.indexOf(value.slice(numberUpTo+1))>-1||"auto"==value||"inherit"==value}function isUrl(value){return urlRegex.test(value)}function isZIndex(value){return"auto"==value||isNumber(value)||isKeyword("^")(value)}function scanForNumber(value){var character,i,l,hasDot=!1,hasSign=!1;for(i=0,l=value.length;i<l;i++)if(character=value[i],0!==i||character!=PLUS_SIGN&&character!=MINUS_SIGN){if(i>0&&hasSign&&(character==PLUS_SIGN||character==MINUS_SIGN))return i-1;if(character!=DECIMAL_DOT||hasDot){if(character==DECIMAL_DOT&&hasDot)return i-1;if(decimalRegex.test(character))continue;return i-1}hasDot=!0}else hasSign=!0;return i}function validator(compatibility){var validUnits=Units.slice(0).filter(function(value){return!(value in compatibility.units)||!0===compatibility.units[value]});return{colorOpacity:compatibility.colors.opacity,isAnimationDirectionKeyword:isKeyword("animation-direction"),isAnimationFillModeKeyword:isKeyword("animation-fill-mode"),isAnimationIterationCountKeyword:isKeyword("animation-iteration-count"),isAnimationNameKeyword:isKeyword("animation-name"),isAnimationPlayStateKeyword:isKeyword("animation-play-state"),isTimingFunction:isTimingFunction(),isBackgroundAttachmentKeyword:isKeyword("background-attachment"),isBackgroundClipKeyword:isKeyword("background-clip"),isBackgroundOriginKeyword:isKeyword("background-origin"),isBackgroundPositionKeyword:isKeyword("background-position"),isBackgroundRepeatKeyword:isKeyword("background-repeat"),isBackgroundSizeKeyword:isKeyword("background-size"),isColor:isColor,isColorFunction:isColorFunction,isDynamicUnit:isDynamicUnit,isFontKeyword:isKeyword("font"),isFontSizeKeyword:isKeyword("font-size"),isFontStretchKeyword:isKeyword("font-stretch"),isFontStyleKeyword:isKeyword("font-style"),isFontVariantKeyword:isKeyword("font-variant"),isFontWeightKeyword:isKeyword("font-weight"),isFunction:isFunction,isGlobal:isKeyword("^"),isHslColor:isHslColor,isIdentifier:isIdentifier,isImage:isImage,isKeyword:isKeyword,isLineHeightKeyword:isKeyword("line-height"),isListStylePositionKeyword:isKeyword("list-style-position"),isListStyleTypeKeyword:isKeyword("list-style-type"),isNumber:isNumber,isPrefixed:isPrefixed,isPositiveNumber:isPositiveNumber,isRgbColor:isRgbColor,isStyleKeyword:isKeyword("*-style"),isTime:isTime,isUnit:isUnit.bind(null,validUnits),isUrl:isUrl,isVariable:isVariable,isWidth:isKeyword("width"),isZIndex:isZIndex}}var calcRegex=new RegExp("^(\\-moz\\-|\\-webkit\\-)?calc\\([^\\)]+\\)$","i"),decimalRegex=/[0-9]/,functionAnyRegex=new RegExp("^(var\\(\\-\\-[^\\)]+\\)|[A-Z]+(\\-|[A-Z]|[0-9])+\\(.*?\\)|\\-(\\-|[A-Z]|[0-9])+\\(.*?\\))$","i"),hslColorRegex=/^hsl\(\s{0,31}[\-\.]?\d+\s{0,31},\s{0,31}\.?\d+%\s{0,31},\s{0,31}\.?\d+%\s{0,31}\)|hsla\(\s{0,31}[\-\.]?\d+\s{0,31},\s{0,31}\.?\d+%\s{0,31},\s{0,31}\.?\d+%\s{0,31},\s{0,31}\.?\d+\s{0,31}\)$/,identifierRegex=/^(\-[a-z0-9_][a-z0-9\-_]*|[a-z][a-z0-9\-_]*)$/i,namedEntityRegex=/^[a-z]+$/i,prefixRegex=/^-([a-z0-9]|-)*$/i,rgbColorRegex=/^rgb\(\s{0,31}[\d]{1,3}\s{0,31},\s{0,31}[\d]{1,3}\s{0,31},\s{0,31}[\d]{1,3}\s{0,31}\)|rgba\(\s{0,31}[\d]{1,3}\s{0,31},\s{0,31}[\d]{1,3}\s{0,31},\s{0,31}[\d]{1,3}\s{0,31},\s{0,31}[\.\d]+\s{0,31}\)$/,timingFunctionRegex=/^(cubic\-bezier|steps)\([^\)]+\)$/,validTimeUnits=["ms","s"],urlRegex=/^url\([\s\S]+\)$/i,variableRegex=new RegExp("^var\\(\\-\\-[^\\)]+\\)$","i"),eightValueColorRegex=/^#[0-9a-f]{8}$/i,fourValueColorRegex=/^#[0-9a-f]{4}$/i,sixValueColorRegex=/^#[0-9a-f]{6}$/i,threeValueColorRegex=/^#[0-9a-f]{3}$/i,DECIMAL_DOT=".",MINUS_SIGN="-",PLUS_SIGN="+",Keywords={"^":["inherit","initial","unset"],"*-style":["auto","dashed","dotted","double","groove","hidden","inset","none","outset","ridge","solid"],"*-timing-function":["ease","ease-in","ease-in-out","ease-out","linear","step-end","step-start"],"animation-direction":["alternate","alternate-reverse","normal","reverse"],"animation-fill-mode":["backwards","both","forwards","none"],"animation-iteration-count":["infinite"],"animation-name":["none"],"animation-play-state":["paused","running"],"background-attachment":["fixed","inherit","local","scroll"],"background-clip":["border-box","content-box","inherit","padding-box","text"],"background-origin":["border-box","content-box","inherit","padding-box"],"background-position":["bottom","center","left","right","top"],"background-repeat":["no-repeat","inherit","repeat","repeat-x","repeat-y","round","space"],"background-size":["auto","cover","contain"],"border-collapse":["collapse","inherit","separate"],bottom:["auto"],clear:["both","left","none","right"],color:["transparent"],cursor:["all-scroll","auto","col-resize","crosshair","default","e-resize","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],display:["block","inline","inline-block","inline-table","list-item","none","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],float:["left","none","right"],left:["auto"],font:["caption","icon","menu","message-box","small-caption","status-bar","unset"],"font-size":["large","larger","medium","small","smaller","x-large","x-small","xx-large","xx-small"],"font-stretch":["condensed","expanded","extra-condensed","extra-expanded","normal","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded"],"font-style":["italic","normal","oblique"],"font-variant":["normal","small-caps"],"font-weight":["100","200","300","400","500","600","700","800","900","bold","bolder","lighter","normal"],"line-height":["normal"],"list-style-position":["inside","outside"],"list-style-type":["armenian","circle","decimal","decimal-leading-zero","disc","decimal|disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","none","square","upper-alpha","upper-latin","upper-roman"],overflow:["auto","hidden","scroll","visible"],position:["absolute","fixed","relative","static"],right:["auto"],"text-align":["center","justify","left","left|right","right"],"text-decoration":["line-through","none","overline","underline"],"text-overflow":["clip","ellipsis"],top:["auto"],"vertical-align":["baseline","bottom","middle","sub","super","text-bottom","text-top","top"],visibility:["collapse","hidden","visible"],"white-space":["normal","nowrap","pre"],width:["inherit","initial","medium","thick","thin"]},Units=["%","ch","cm","em","ex","in","mm","pc","pt","px","rem","vh","vm","vmax","vmin","vw"];module.exports=validator},{}],96:[function(require,module,exports){function wrapAll(properties,includeVariable,skipProperties){var single,property,i,wrapped=[];for(i=properties.length-1;i>=0;i--)property=properties[i],property[0]==Token.PROPERTY&&(!includeVariable&&someVariableReferences(property)||skipProperties&&skipProperties.indexOf(property[1][1])>-1||(single=wrapSingle(property),single.all=properties,single.position=i,wrapped.unshift(single)));return wrapped}function someVariableReferences(property){var i,l,value;for(i=2,l=property.length;i<l;i++)if(value=property[i],value[0]==Token.PROPERTY_VALUE&&isVariableReference(value[1]))return!0;return!1}function isVariableReference(value){return Match.VARIABLE_REFERENCE_PATTERN.test(value)}function isMultiplex(property){var value,i,l;for(i=3,l=property.length;i<l;i++)if(value=property[i],value[0]==Token.PROPERTY_VALUE&&(value[1]==Marker.COMMA||value[1]==Marker.FORWARD_SLASH))return!0;return!1}function hackFrom(property){var match=!1,name=property[1][1],lastValue=property[property.length-1];return name[0]==Match.UNDERSCORE?match=[Hack.UNDERSCORE]:name[0]==Match.ASTERISK?match=[Hack.ASTERISK]:lastValue[1][0]!=Match.BANG||lastValue[1].match(Match.IMPORTANT_WORD_PATTERN)?lastValue[1].indexOf(Match.BANG)>0&&!lastValue[1].match(Match.IMPORTANT_WORD_PATTERN)&&Match.BANG_SUFFIX_PATTERN.test(lastValue[1])?match=[Hack.BANG]:lastValue[1].indexOf(Match.BACKSLASH)>0&&lastValue[1].indexOf(Match.BACKSLASH)==lastValue[1].length-Match.BACKSLASH.length-1?match=[Hack.BACKSLASH,lastValue[1].substring(lastValue[1].indexOf(Match.BACKSLASH)+1)]:0===lastValue[1].indexOf(Match.BACKSLASH)&&2==lastValue[1].length&&(match=[Hack.BACKSLASH,lastValue[1].substring(1)]):match=[Hack.BANG],match}function isImportant(property){if(property.length<3)return!1;var lastValue=property[property.length-1];return!!Match.IMPORTANT_TOKEN_PATTERN.test(lastValue[1])||!(!Match.IMPORTANT_WORD_PATTERN.test(lastValue[1])||!Match.SUFFIX_BANG_PATTERN.test(property[property.length-2][1]))}function stripImportant(property){var lastValue=property[property.length-1],oneButLastValue=property[property.length-2];Match.IMPORTANT_TOKEN_PATTERN.test(lastValue[1])?lastValue[1]=lastValue[1].replace(Match.IMPORTANT_TOKEN_PATTERN,""):(lastValue[1]=lastValue[1].replace(Match.IMPORTANT_WORD_PATTERN,""),oneButLastValue[1]=oneButLastValue[1].replace(Match.SUFFIX_BANG_PATTERN,"")),0===lastValue[1].length&&property.pop(),0===oneButLastValue[1].length&&property.pop()}function stripPrefixHack(property){property[1][1]=property[1][1].substring(1)}function stripSuffixHack(property,hackFrom){var lastValue=property[property.length-1];lastValue[1]=lastValue[1].substring(0,lastValue[1].indexOf(hackFrom[0]==Hack.BACKSLASH?Match.BACKSLASH:Match.BANG)).trim(),0===lastValue[1].length&&property.pop()}function wrapSingle(property){var importantProperty=isImportant(property);importantProperty&&stripImportant(property);var whichHack=hackFrom(property);return whichHack[0]==Hack.ASTERISK||whichHack[0]==Hack.UNDERSCORE?stripPrefixHack(property):whichHack[0]!=Hack.BACKSLASH&&whichHack[0]!=Hack.BANG||stripSuffixHack(property,whichHack),{block:property[2]&&property[2][0]==Token.PROPERTY_BLOCK,components:[],dirty:!1,hack:whichHack,important:importantProperty,name:property[1][1],multiplex:property.length>3&&isMultiplex(property),position:0,shorthand:!1,unused:!1,value:property.slice(2)}}var Hack=require("./hack"),Marker=require("../tokenizer/marker"),Token=require("../tokenizer/token"),Match={ASTERISK:"*",BACKSLASH:"\\",BANG:"!",BANG_SUFFIX_PATTERN:/!\w+$/,IMPORTANT_TOKEN:"!important",IMPORTANT_TOKEN_PATTERN:new RegExp("!important$","i"),IMPORTANT_WORD:"important",IMPORTANT_WORD_PATTERN:new RegExp("important$","i"),SUFFIX_BANG_PATTERN:/!$/,UNDERSCORE:"_",VARIABLE_REFERENCE_PATTERN:/var\(--.+\)$/};module.exports={all:wrapAll,single:wrapSingle}},{"../tokenizer/marker":121,"../tokenizer/token":122,"./hack":46}],97:[function(require,module,exports){function compatibilityFrom(source){return merge(DEFAULTS["*"],calculateSource(source))}function merge(source,target){for(var key in source){var value=source[key];"object"!=typeof value||Array.isArray(value)?target[key]=key in target?target[key]:value:target[key]=merge(value,target[key]||{})}return target}function calculateSource(source){if("object"==typeof source)return source;if(!/[,\+\-]/.test(source))return DEFAULTS[source]||DEFAULTS["*"];var parts=source.split(","),template=parts[0]in DEFAULTS?DEFAULTS[parts.shift()]:DEFAULTS["*"];return source={},parts.forEach(function(part){var isAdd="+"==part[0],key=part.substring(1).split("."),group=key[0],option=key[1];source[group]=source[group]||{},source[group][option]=isAdd}),merge(template,source)}var DEFAULTS={"*":{colors:{opacity:!0},properties:{backgroundClipMerging:!0,backgroundOriginMerging:!0,backgroundSizeMerging:!0,colors:!0,ieBangHack:!1,ieFilters:!1,iePrefixHack:!1,ieSuffixHack:!1,merging:!0,shorterLengthUnits:!1,spaceAfterClosingBrace:!0,urlQuotes:!1,zeroUnits:!0},selectors:{adjacentSpace:!1,ie7Hack:!1,mergeablePseudoClasses:[":active",":after",":before",":empty",":checked",":disabled",":empty",":enabled",":first-child",":first-letter",":first-line",":first-of-type",":focus",":hover",":lang",":last-child",":last-of-type",":link",":not",":nth-child",":nth-last-child",":nth-last-of-type",":nth-of-type",":only-child",":only-of-type",":root",":target",":visited"],mergeablePseudoElements:["::after","::before","::first-letter","::first-line"],mergeLimit:8191,multiplePseudoMerging:!0},units:{ch:!0,in:!0,pc:!0,pt:!0,rem:!0,vh:!0,vm:!0,vmax:!0,vmin:!0,vw:!0}}};DEFAULTS.ie11=DEFAULTS["*"],DEFAULTS.ie10=DEFAULTS["*"],DEFAULTS.ie9=merge(DEFAULTS["*"],{properties:{ieFilters:!0,ieSuffixHack:!0}}),DEFAULTS.ie8=merge(DEFAULTS.ie9,{colors:{opacity:!1},properties:{backgroundClipMerging:!1,backgroundOriginMerging:!1,backgroundSizeMerging:!1,iePrefixHack:!0,merging:!1},selectors:{mergeablePseudoClasses:[":after",":before",":first-child",":first-letter",":focus",":hover",":visited"],mergeablePseudoElements:[]},units:{ch:!1,rem:!1,vh:!1,vm:!1,vmax:!1,vmin:!1,vw:!1}}),DEFAULTS.ie7=merge(DEFAULTS.ie8,{properties:{ieBangHack:!0},selectors:{ie7Hack:!0,mergeablePseudoClasses:[":first-child",":first-letter",":hover",":visited"]}}),module.exports=compatibilityFrom},{}],98:[function(require,module,exports){function fetchFrom(callback){return callback||loadRemoteResource}var loadRemoteResource=require("../reader/load-remote-resource");module.exports=fetchFrom},{"../reader/load-remote-resource":112}],99:[function(require,module,exports){function breaks(value){var breakOptions={};return breakOptions[Breaks.AfterAtRule]=value,breakOptions[Breaks.AfterBlockBegins]=value,breakOptions[Breaks.AfterBlockEnds]=value,breakOptions[Breaks.AfterComment]=value,breakOptions[Breaks.AfterProperty]=value,breakOptions[Breaks.AfterRuleBegins]=value,breakOptions[Breaks.AfterRuleEnds]=value,breakOptions[Breaks.BeforeBlockEnds]=value,breakOptions[Breaks.BetweenSelectors]=value,breakOptions}function spaces(value){var spaceOptions={};return spaceOptions[Spaces.AroundSelectorRelation]=value,spaceOptions[Spaces.BeforeBlockBegins]=value,spaceOptions[Spaces.BeforeValue]=value,spaceOptions}function formatFrom(source){return void 0!==source&&!1!==source&&("object"==typeof source&&"breakWith"in source&&(source=override(source,{breakWith:mapBreakWith(source.breakWith)})),"object"==typeof source&&"indentBy"in source&&(source=override(source,{indentBy:parseInt(source.indentBy)})),"object"==typeof source&&"indentWith"in source&&(source=override(source,{indentWith:mapIndentWith(source.indentWith)})),"object"==typeof source?override(DEFAULTS,source):"object"==typeof source?override(DEFAULTS,source):"string"==typeof source&&source==BEAUTIFY_ALIAS?override(DEFAULTS,{breaks:breaks(!0),indentBy:2,spaces:spaces(!0)}):"string"==typeof source&&source==KEEP_BREAKS_ALIAS?override(DEFAULTS,{breaks:{afterAtRule:!0,afterBlockBegins:!0,afterBlockEnds:!0,afterComment:!0,afterRuleEnds:!0,beforeBlockEnds:!0}}):"string"==typeof source?override(DEFAULTS,toHash(source)):DEFAULTS)}function toHash(string){return string.split(OPTION_SEPARATOR).reduce(function(accumulator,directive){var parts=directive.split(OPTION_NAME_VALUE_SEPARATOR),name=parts[0],value=parts[1];return"breaks"==name||"spaces"==name?accumulator[name]=hashValuesToHash(value):"indentBy"==name||"wrapAt"==name?accumulator[name]=parseInt(value):"indentWith"==name?accumulator[name]=mapIndentWith(value):"breakWith"==name&&(accumulator[name]=mapBreakWith(value)),accumulator},{})}function hashValuesToHash(string){return string.split(HASH_VALUES_OPTION_SEPARATOR).reduce(function(accumulator,directive){var parts=directive.split(HASH_VALUES_NAME_VALUE_SEPARATOR),name=parts[0],value=parts[1];return accumulator[name]=normalizeValue(value),accumulator},{})}function normalizeValue(value){switch(value){case FALSE_KEYWORD_1:case FALSE_KEYWORD_2:return!1;case TRUE_KEYWORD_1:case TRUE_KEYWORD_2:return!0;default:return value}}function mapBreakWith(value){switch(value){case"windows":case"crlf":case BreakWith.CarriageReturnLineFeed:return BreakWith.CarriageReturnLineFeed;case"unix":case"lf":case BreakWith.LineFeed:return BreakWith.LineFeed;default:return systemLineBreak}}function mapIndentWith(value){switch(value){case"space":return IndentWith.Space;case"tab":return IndentWith.Tab;default:return value}}var systemLineBreak=require("os").EOL,override=require("../utils/override"),Breaks={AfterAtRule:"afterAtRule",AfterBlockBegins:"afterBlockBegins",AfterBlockEnds:"afterBlockEnds",AfterComment:"afterComment",AfterProperty:"afterProperty",AfterRuleBegins:"afterRuleBegins",AfterRuleEnds:"afterRuleEnds",
BeforeBlockEnds:"beforeBlockEnds",BetweenSelectors:"betweenSelectors"},BreakWith={CarriageReturnLineFeed:"\r\n",LineFeed:"\n",System:systemLineBreak},IndentWith={Space:" ",Tab:"\t"},Spaces={AroundSelectorRelation:"aroundSelectorRelation",BeforeBlockBegins:"beforeBlockBegins",BeforeValue:"beforeValue"},DEFAULTS={breaks:breaks(!1),breakWith:BreakWith.System,indentBy:0,indentWith:IndentWith.Space,spaces:spaces(!1),wrapAt:!1,semicolonAfterLastProperty:!1},BEAUTIFY_ALIAS="beautify",KEEP_BREAKS_ALIAS="keep-breaks",OPTION_SEPARATOR=";",OPTION_NAME_VALUE_SEPARATOR=":",HASH_VALUES_OPTION_SEPARATOR=",",HASH_VALUES_NAME_VALUE_SEPARATOR="=",FALSE_KEYWORD_1="false",FALSE_KEYWORD_2="off",TRUE_KEYWORD_1="true",TRUE_KEYWORD_2="on";module.exports={Breaks:Breaks,Spaces:Spaces,formatFrom:formatFrom}},{"../utils/override":133,os:367}],100:[function(require,module,exports){(function(process){function inlineRequestFrom(option){return override(proxyOptionsFrom(process.env.HTTP_PROXY||process.env.http_proxy),option||{})}function proxyOptionsFrom(httpProxy){return httpProxy?{hostname:url.parse(httpProxy).hostname,port:parseInt(url.parse(httpProxy).port)}:{}}var url=require("url"),override=require("../utils/override");module.exports=inlineRequestFrom}).call(this,require("_process"))},{"../utils/override":133,_process:371,url:453}],101:[function(require,module,exports){function inlineTimeoutFrom(option){return option||DEFAULT_TIMEOUT}var DEFAULT_TIMEOUT=5e3;module.exports=inlineTimeoutFrom},{}],102:[function(require,module,exports){function inlineOptionsFrom(rules){return Array.isArray(rules)?rules:!1===rules?["none"]:void 0===rules?["local"]:rules.split(",")}module.exports=inlineOptionsFrom},{}],103:[function(require,module,exports){function noop(){}function optimizationLevelFrom(source){var level=override(DEFAULTS,{}),Zero=OptimizationLevel.Zero,One=OptimizationLevel.One,Two=OptimizationLevel.Two;return void 0===source?(delete level[Two],level):("string"==typeof source&&(source=parseInt(source)),"number"==typeof source&&source===parseInt(Two)?level:"number"==typeof source&&source===parseInt(One)?(delete level[Two],level):"number"==typeof source&&source===parseInt(Zero)?(delete level[Two],delete level[One],level):("object"==typeof source&&(source=covertValuesToHashes(source)),One in source&&"roundingPrecision"in source[One]&&(source[One].roundingPrecision=roundingPrecisionFrom(source[One].roundingPrecision)),Two in source&&"skipProperties"in source[Two]&&"string"==typeof source[Two].skipProperties&&(source[Two].skipProperties=source[Two].skipProperties.split(LIST_VALUE_SEPARATOR)),(Zero in source||One in source||Two in source)&&(level[Zero]=override(level[Zero],source[Zero])),One in source&&ALL_KEYWORD_1 in source[One]&&(level[One]=override(level[One],defaults(One,normalizeValue(source[One][ALL_KEYWORD_1]))),delete source[One][ALL_KEYWORD_1]),One in source&&ALL_KEYWORD_2 in source[One]&&(level[One]=override(level[One],defaults(One,normalizeValue(source[One][ALL_KEYWORD_2]))),delete source[One][ALL_KEYWORD_2]),One in source||Two in source?level[One]=override(level[One],source[One]):delete level[One],Two in source&&ALL_KEYWORD_1 in source[Two]&&(level[Two]=override(level[Two],defaults(Two,normalizeValue(source[Two][ALL_KEYWORD_1]))),delete source[Two][ALL_KEYWORD_1]),Two in source&&ALL_KEYWORD_2 in source[Two]&&(level[Two]=override(level[Two],defaults(Two,normalizeValue(source[Two][ALL_KEYWORD_2]))),delete source[Two][ALL_KEYWORD_2]),Two in source?level[Two]=override(level[Two],source[Two]):delete level[Two],level))}function defaults(level,value){var key,options=override(DEFAULTS[level],{});for(key in options)"boolean"==typeof options[key]&&(options[key]=value);return options}function normalizeValue(value){switch(value){case FALSE_KEYWORD_1:case FALSE_KEYWORD_2:return!1;case TRUE_KEYWORD_1:case TRUE_KEYWORD_2:return!0;default:return value}}function covertValuesToHashes(source){var level,i,clonedSource=override(source,{});for(i=0;i<=2;i++)level=""+i,level in clonedSource&&(void 0===clonedSource[level]||!1===clonedSource[level])&&delete clonedSource[level],level in clonedSource&&!0===clonedSource[level]&&(clonedSource[level]={}),level in clonedSource&&"string"==typeof clonedSource[level]&&(clonedSource[level]=covertToHash(clonedSource[level],level));return clonedSource}function covertToHash(asString,level){return asString.split(OPTION_SEPARATOR).reduce(function(accumulator,directive){var parts=directive.split(OPTION_VALUE_SEPARATOR),name=parts[0],value=parts[1],normalizedValue=normalizeValue(value);return ALL_KEYWORD_1==name||ALL_KEYWORD_2==name?accumulator=override(accumulator,defaults(level,normalizedValue)):accumulator[name]=normalizedValue,accumulator},{})}var roundingPrecisionFrom=require("./rounding-precision").roundingPrecisionFrom,override=require("../utils/override"),OptimizationLevel={Zero:"0",One:"1",Two:"2"},DEFAULTS={};DEFAULTS[OptimizationLevel.Zero]={},DEFAULTS[OptimizationLevel.One]={cleanupCharsets:!0,normalizeUrls:!0,optimizeBackground:!0,optimizeBorderRadius:!0,optimizeFilter:!0,optimizeFontWeight:!0,optimizeOutline:!0,removeEmpty:!0,removeNegativePaddings:!0,removeQuotes:!0,removeWhitespace:!0,replaceMultipleZeros:!0,replaceTimeUnits:!0,replaceZeroUnits:!0,roundingPrecision:roundingPrecisionFrom(void 0),selectorsSortingMethod:"standard",specialComments:"all",tidyAtRules:!0,tidyBlockScopes:!0,tidySelectors:!0,transform:noop},DEFAULTS[OptimizationLevel.Two]={mergeAdjacentRules:!0,mergeIntoShorthands:!0,mergeMedia:!0,mergeNonAdjacentRules:!0,mergeSemantically:!1,overrideProperties:!0,removeEmpty:!0,reduceNonAdjacentRules:!0,removeDuplicateFontRules:!0,removeDuplicateMediaBlocks:!0,removeDuplicateRules:!0,removeUnusedAtRules:!1,restructureRules:!1,skipProperties:[]};var ALL_KEYWORD_1="*",ALL_KEYWORD_2="all",FALSE_KEYWORD_1="false",FALSE_KEYWORD_2="off",TRUE_KEYWORD_1="true",TRUE_KEYWORD_2="on",LIST_VALUE_SEPARATOR=",",OPTION_SEPARATOR=";",OPTION_VALUE_SEPARATOR=":";module.exports={OptimizationLevel:OptimizationLevel,optimizationLevelFrom:optimizationLevelFrom}},{"../utils/override":133,"./rounding-precision":106}],104:[function(require,module,exports){(function(process){function rebaseToFrom(option){return option?path.resolve(option):process.cwd()}var path=require("path");module.exports=rebaseToFrom}).call(this,require("_process"))},{_process:371,path:368}],105:[function(require,module,exports){function rebaseFrom(rebaseOption){return void 0===rebaseOption||!!rebaseOption}module.exports=rebaseFrom},{}],106:[function(require,module,exports){function roundingPrecisionFrom(source){return override(defaults(DEFAULT_PRECISION),buildPrecisionFrom(source))}function defaults(value){return{ch:value,cm:value,em:value,ex:value,in:value,mm:value,pc:value,pt:value,px:value,q:value,rem:value,vh:value,vmax:value,vmin:value,vw:value,"%":value}}function buildPrecisionFrom(source){return null===source||void 0===source?{}:"boolean"==typeof source?{}:"number"==typeof source&&-1==source?defaults(DEFAULT_PRECISION):"number"==typeof source?defaults(source):"string"==typeof source&&INTEGER_PATTERN.test(source)?defaults(parseInt(source)):"string"==typeof source&&source==DEFAULT_PRECISION?defaults(DEFAULT_PRECISION):"object"==typeof source?source:source.split(DIRECTIVES_SEPARATOR).reduce(function(accumulator,directive){var directiveParts=directive.split(DIRECTIVE_VALUE_SEPARATOR),name=directiveParts[0],value=parseInt(directiveParts[1]);return(isNaN(value)||-1==value)&&(value=DEFAULT_PRECISION),ALL_UNITS.indexOf(name)>-1?accumulator=override(accumulator,defaults(value)):accumulator[name]=value,accumulator},{})}var override=require("../utils/override"),INTEGER_PATTERN=/^\d+$/,ALL_UNITS=["*","all"],DEFAULT_PRECISION="off",DIRECTIVES_SEPARATOR=",",DIRECTIVE_VALUE_SEPARATOR="=";module.exports={DEFAULT:DEFAULT_PRECISION,roundingPrecisionFrom:roundingPrecisionFrom}},{"../utils/override":133}],107:[function(require,module,exports){(function(global,Buffer){function applySourceMaps(tokens,context,callback){var applyContext={callback:callback,fetch:context.options.fetch,index:0,inline:context.options.inline,inlineRequest:context.options.inlineRequest,inlineTimeout:context.options.inlineTimeout,inputSourceMapTracker:context.inputSourceMapTracker,localOnly:context.localOnly,processedTokens:[],rebaseTo:context.options.rebaseTo,sourceTokens:tokens,warnings:context.warnings};return context.options.sourceMap&&tokens.length>0?doApplySourceMaps(applyContext):callback(tokens)}function doApplySourceMaps(applyContext){var source,token,l,singleSourceTokens=[],lastSource=findTokenSource(applyContext.sourceTokens[0]);for(l=applyContext.sourceTokens.length;applyContext.index<l;applyContext.index++)if(token=applyContext.sourceTokens[applyContext.index],source=findTokenSource(token),source!=lastSource&&(singleSourceTokens=[],lastSource=source),singleSourceTokens.push(token),applyContext.processedTokens.push(token),token[0]==Token.COMMENT&&MAP_MARKER_PATTERN.test(token[1]))return fetchAndApplySourceMap(token[1],source,singleSourceTokens,applyContext);return applyContext.callback(applyContext.processedTokens)}function findTokenSource(token){var scope,metadata;return token[0]==Token.AT_RULE||token[0]==Token.COMMENT?metadata=token[2][0]:(scope=token[1][0],metadata=scope[2][0]),metadata[2]}function fetchAndApplySourceMap(sourceMapComment,source,singleSourceTokens,applyContext){return extractInputSourceMapFrom(sourceMapComment,applyContext,function(inputSourceMap){return inputSourceMap&&(applyContext.inputSourceMapTracker.track(source,inputSourceMap),applySourceMapRecursively(singleSourceTokens,applyContext.inputSourceMapTracker)),applyContext.index++,doApplySourceMaps(applyContext)})}function extractInputSourceMapFrom(sourceMapComment,applyContext,whenSourceMapReady){var absoluteUri,sourceMap,rebasedMap,uri=MAP_MARKER_PATTERN.exec(sourceMapComment)[1];return isDataUriResource(uri)?(sourceMap=extractInputSourceMapFromDataUri(uri),whenSourceMapReady(sourceMap)):isRemoteResource(uri)?loadInputSourceMapFromRemoteUri(uri,applyContext,function(sourceMap){var parsedMap;sourceMap?(parsedMap=JSON.parse(sourceMap),rebasedMap=rebaseRemoteMap(parsedMap,uri),whenSourceMapReady(rebasedMap)):whenSourceMapReady(null)}):(absoluteUri=path.resolve(applyContext.rebaseTo,uri),sourceMap=loadInputSourceMapFromLocalUri(absoluteUri,applyContext),sourceMap?(rebasedMap=rebaseLocalMap(sourceMap,absoluteUri,applyContext.rebaseTo),whenSourceMapReady(rebasedMap)):whenSourceMapReady(null))}function extractInputSourceMapFromDataUri(uri){var dataUriMatch=matchDataUri(uri),charset=dataUriMatch[2]?dataUriMatch[2].split(/[=;]/)[2]:"us-ascii",encoding=dataUriMatch[3]?dataUriMatch[3].split(";")[1]:"utf8",data="utf8"==encoding?global.unescape(dataUriMatch[4]):dataUriMatch[4],buffer=new Buffer(data,encoding);return buffer.charset=charset,JSON.parse(buffer.toString())}function loadInputSourceMapFromRemoteUri(uri,applyContext,whenLoaded){var isAllowed=isAllowedResource(uri,!0,applyContext.inline),isRuntimeResource=!hasProtocol(uri);return applyContext.localOnly?(applyContext.warnings.push('Cannot fetch remote resource from "'+uri+'" as no callback given.'),whenLoaded(null)):isRuntimeResource?(applyContext.warnings.push('Cannot fetch "'+uri+'" as no protocol given.'),whenLoaded(null)):isAllowed?void applyContext.fetch(uri,applyContext.inlineRequest,applyContext.inlineTimeout,function(error,body){if(error)return applyContext.warnings.push('Missing source map at "'+uri+'" - '+error),whenLoaded(null);whenLoaded(body)}):(applyContext.warnings.push('Cannot fetch "'+uri+'" as resource is not allowed.'),whenLoaded(null))}function loadInputSourceMapFromLocalUri(uri,applyContext){var sourceMap,isAllowed=isAllowedResource(uri,!1,applyContext.inline);return fs.existsSync(uri)&&fs.statSync(uri).isFile()?isAllowed?(sourceMap=fs.readFileSync(uri,"utf-8"),JSON.parse(sourceMap)):(applyContext.warnings.push('Cannot fetch "'+uri+'" as resource is not allowed.'),null):(applyContext.warnings.push('Ignoring local source map at "'+uri+'" as resource is missing.'),null)}function applySourceMapRecursively(tokens,inputSourceMapTracker){var token,i,l;for(i=0,l=tokens.length;i<l;i++)switch(token=tokens[i],token[0]){case Token.AT_RULE:applySourceMapTo(token,inputSourceMapTracker);break;case Token.AT_RULE_BLOCK:applySourceMapRecursively(token[1],inputSourceMapTracker),applySourceMapRecursively(token[2],inputSourceMapTracker);break;case Token.AT_RULE_BLOCK_SCOPE:applySourceMapTo(token,inputSourceMapTracker);break;case Token.NESTED_BLOCK:applySourceMapRecursively(token[1],inputSourceMapTracker),applySourceMapRecursively(token[2],inputSourceMapTracker);break;case Token.NESTED_BLOCK_SCOPE:case Token.COMMENT:applySourceMapTo(token,inputSourceMapTracker);break;case Token.PROPERTY:applySourceMapRecursively(token,inputSourceMapTracker);break;case Token.PROPERTY_BLOCK:applySourceMapRecursively(token[1],inputSourceMapTracker);break;case Token.PROPERTY_NAME:case Token.PROPERTY_VALUE:applySourceMapTo(token,inputSourceMapTracker);break;case Token.RULE:applySourceMapRecursively(token[1],inputSourceMapTracker),applySourceMapRecursively(token[2],inputSourceMapTracker);break;case Token.RULE_SCOPE:applySourceMapTo(token,inputSourceMapTracker)}return tokens}function applySourceMapTo(token,inputSourceMapTracker){var i,l,value=token[1],metadata=token[2],newMetadata=[];for(i=0,l=metadata.length;i<l;i++)newMetadata.push(inputSourceMapTracker.originalPositionFor(metadata[i],value.length));token[2]=newMetadata}var fs=require("fs"),path=require("path"),isAllowedResource=require("./is-allowed-resource"),matchDataUri=require("./match-data-uri"),rebaseLocalMap=require("./rebase-local-map"),rebaseRemoteMap=require("./rebase-remote-map"),Token=require("../tokenizer/token"),hasProtocol=require("../utils/has-protocol"),isDataUriResource=require("../utils/is-data-uri-resource"),isRemoteResource=require("../utils/is-remote-resource"),MAP_MARKER_PATTERN=/^\/\*# sourceMappingURL=(\S+) \*\/$/;module.exports=applySourceMaps}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"../tokenizer/token":122,"../utils/has-protocol":126,"../utils/is-data-uri-resource":127,"../utils/is-remote-resource":131,"./is-allowed-resource":110,"./match-data-uri":113,"./rebase-local-map":116,"./rebase-remote-map":117,buffer:41,fs:40,path:368}],108:[function(require,module,exports){function extractImportUrlAndMedia(atRuleValue){var uri,mediaQuery,stripped,parts;return stripped=atRuleValue.replace(IMPORT_PREFIX_PATTERN,"").trim().replace(URL_PREFIX_PATTERN,"(").replace(URL_SUFFIX_PATTERN,")").replace(QUOTE_PREFIX_PATTERN,"").replace(QUOTE_SUFFIX_PATTERN,""),parts=split(stripped," "),uri=parts[0].replace(BRACE_PREFIX,"").replace(BRACE_SUFFIX,""),mediaQuery=parts.slice(1).join(" "),[uri,mediaQuery]}var split=require("../utils/split"),BRACE_PREFIX=/^\(/,BRACE_SUFFIX=/\)$/,IMPORT_PREFIX_PATTERN=/^@import/i,QUOTE_PREFIX_PATTERN=/['"]\s*/,QUOTE_SUFFIX_PATTERN=/\s*['"]/,URL_PREFIX_PATTERN=/^url\(\s*/i,URL_SUFFIX_PATTERN=/\s*\)/i;module.exports=extractImportUrlAndMedia},{"../utils/split":134}],109:[function(require,module,exports){function inputSourceMapTracker(){var maps={};return{all:all.bind(null,maps),isTracking:isTracking.bind(null,maps),originalPositionFor:originalPositionFor.bind(null,maps),track:track.bind(null,maps)}}function all(maps){return maps}function isTracking(maps,source){return source in maps}function originalPositionFor(maps,metadata,range,selectorFallbacks){for(var originalPosition,line=metadata[0],column=metadata[1],source=metadata[2],position={line:line,column:column+range};!originalPosition&&position.column>column;)position.column--,originalPosition=maps[source].originalPositionFor(position);return!originalPosition||originalPosition.column<0?metadata:null===originalPosition.line&&line>1&&selectorFallbacks>0?originalPositionFor(maps,[line-1,column,source],range,selectorFallbacks-1):null!==originalPosition.line?toMetadata(originalPosition):metadata}function toMetadata(asHash){return[asHash.line,asHash.column,asHash.source]}function track(maps,source,data){maps[source]=new SourceMapConsumer(data)}var SourceMapConsumer=require("source-map").SourceMapConsumer;module.exports=inputSourceMapTracker},{"source-map":432}],110:[function(require,module,exports){function isAllowedResource(uri,isRemote,rules){var match,absoluteUri,rule,isNegated,normalizedRule,i,allowed=!isRemote;if(0===rules.length)return!1;for(isRemote&&!hasProtocol(uri)&&(uri=HTTP_PROTOCOL+uri),match=isRemote?url.parse(uri).host:uri,absoluteUri=isRemote?uri:path.resolve(uri),i=0;i<rules.length;i++)rule=rules[i],isNegated="!"==rule[0],normalizedRule=rule.substring(1),allowed=isNegated&&isRemote&&isRemoteRule(normalizedRule)?allowed&&!isAllowedResource(uri,!0,[normalizedRule]):!isNegated||isRemote||isRemoteRule(normalizedRule)?isNegated?allowed&&!0:"all"==rule||(isRemote&&"local"==rule?allowed||!1:!(!isRemote||"remote"!=rule)||!(!isRemote&&"remote"==rule)&&(!isRemote&&"local"==rule||(rule===match||(rule===uri||(!(!isRemote||0!==absoluteUri.indexOf(rule))||(!isRemote&&0===absoluteUri.indexOf(path.resolve(rule))||isRemote!=isRemoteRule(normalizedRule)&&(allowed&&!0))))))):allowed&&!isAllowedResource(uri,!1,[normalizedRule]);return allowed}function isRemoteRule(rule){return isRemoteResource(rule)||url.parse(HTTP_PROTOCOL+"//"+rule).host==rule}var path=require("path"),url=require("url"),isRemoteResource=require("../utils/is-remote-resource"),hasProtocol=require("../utils/has-protocol"),HTTP_PROTOCOL="http:";module.exports=isAllowedResource},{"../utils/has-protocol":126,"../utils/is-remote-resource":131,path:368,url:453}],111:[function(require,module,exports){function loadOriginalSources(context,callback){var loadContext={callback:callback,fetch:context.options.fetch,index:0,inline:context.options.inline,inlineRequest:context.options.inlineRequest,inlineTimeout:context.options.inlineTimeout,localOnly:context.localOnly,rebaseTo:context.options.rebaseTo,sourcesContent:context.sourcesContent,uriToSource:uriToSourceMapping(context.inputSourceMapTracker.all()),warnings:context.warnings};return context.options.sourceMap&&context.options.sourceMapInlineSources?doLoadOriginalSources(loadContext):callback()}function uriToSourceMapping(allSourceMapConsumers){var consumer,uri,source,i,l,mapping={};for(source in allSourceMapConsumers)for(consumer=allSourceMapConsumers[source],i=0,l=consumer.sources.length;i<l;i++)uri=consumer.sources[i],source=consumer.sourceContentFor(uri,!0),mapping[uri]=source;return mapping}function doLoadOriginalSources(loadContext){var uri,source,total,uris=Object.keys(loadContext.uriToSource);for(total=uris.length;loadContext.index<total;loadContext.index++){if(uri=uris[loadContext.index],!(source=loadContext.uriToSource[uri]))return loadOriginalSource(uri,loadContext);loadContext.sourcesContent[uri]=source}return loadContext.callback()}function loadOriginalSource(uri,loadContext){var content;return isRemoteResource(uri)?loadOriginalSourceFromRemoteUri(uri,loadContext,function(content){return loadContext.index++,loadContext.sourcesContent[uri]=content,doLoadOriginalSources(loadContext)}):(content=loadOriginalSourceFromLocalUri(uri,loadContext),loadContext.index++,loadContext.sourcesContent[uri]=content,doLoadOriginalSources(loadContext))}function loadOriginalSourceFromRemoteUri(uri,loadContext,whenLoaded){var isAllowed=isAllowedResource(uri,!0,loadContext.inline),isRuntimeResource=!hasProtocol(uri);return loadContext.localOnly?(loadContext.warnings.push('Cannot fetch remote resource from "'+uri+'" as no callback given.'),whenLoaded(null)):isRuntimeResource?(loadContext.warnings.push('Cannot fetch "'+uri+'" as no protocol given.'),whenLoaded(null)):isAllowed?void loadContext.fetch(uri,loadContext.inlineRequest,loadContext.inlineTimeout,function(error,content){error&&loadContext.warnings.push('Missing original source at "'+uri+'" - '+error),whenLoaded(content)}):(loadContext.warnings.push('Cannot fetch "'+uri+'" as resource is not allowed.'),whenLoaded(null))}function loadOriginalSourceFromLocalUri(relativeUri,loadContext){var isAllowed=isAllowedResource(relativeUri,!1,loadContext.inline),absoluteUri=path.resolve(loadContext.rebaseTo,relativeUri);return fs.existsSync(absoluteUri)&&fs.statSync(absoluteUri).isFile()?isAllowed?fs.readFileSync(absoluteUri,"utf8"):(loadContext.warnings.push('Cannot fetch "'+absoluteUri+'" as resource is not allowed.'),null):(loadContext.warnings.push('Ignoring local source map at "'+absoluteUri+'" as resource is missing.'),null)}var fs=require("fs"),path=require("path"),isAllowedResource=require("./is-allowed-resource"),hasProtocol=require("../utils/has-protocol"),isRemoteResource=require("../utils/is-remote-resource");module.exports=loadOriginalSources},{"../utils/has-protocol":126,"../utils/is-remote-resource":131,"./is-allowed-resource":110,fs:40,path:368}],112:[function(require,module,exports){function loadRemoteResource(uri,inlineRequest,inlineTimeout,callback){var requestOptions,fetch,proxyProtocol=inlineRequest.protocol||inlineRequest.hostname,errorHandled=!1;requestOptions=override(url.parse(uri),inlineRequest||{}),void 0!==inlineRequest.hostname&&(requestOptions.protocol=inlineRequest.protocol||HTTP_PROTOCOL,requestOptions.path=requestOptions.href),fetch=proxyProtocol&&!isHttpsResource(proxyProtocol)||isHttpResource(uri)?http.get:https.get,fetch(requestOptions,function(res){var movedUri,chunks=[];if(!errorHandled){if(res.statusCode<200||res.statusCode>399)return callback(res.statusCode,null);if(res.statusCode>299)return movedUri=url.resolve(uri,res.headers.location),loadRemoteResource(movedUri,inlineRequest,inlineTimeout,callback);res.on("data",function(chunk){chunks.push(chunk.toString())}),res.on("end",function(){var body=chunks.join("");callback(null,body)})}}).on("error",function(res){errorHandled||(errorHandled=!0,callback(res.message,null))}).on("timeout",function(){errorHandled||(errorHandled=!0,callback("timeout",null))}).setTimeout(inlineTimeout)}var http=require("http"),https=require("https"),url=require("url"),isHttpResource=require("../utils/is-http-resource"),isHttpsResource=require("../utils/is-https-resource"),override=require("../utils/override"),HTTP_PROTOCOL="http:";module.exports=loadRemoteResource},{"../utils/is-http-resource":128,"../utils/is-https-resource":129,"../utils/override":133,http:433,https:229,url:453}],113:[function(require,module,exports){function matchDataUri(uri){return DATA_URI_PATTERN.exec(uri)}var DATA_URI_PATTERN=/^data:(\S*?)?(;charset=[^;]+)?(;[^,]+?)?,(.+)/;module.exports=matchDataUri},{}],114:[function(require,module,exports){function normalizePath(path){return path.replace(WINDOWS_SEPARATOR_PATTERN,UNIX_SEPARATOR)}var UNIX_SEPARATOR="/",WINDOWS_SEPARATOR_PATTERN=/\\/g;module.exports=normalizePath},{}],115:[function(require,module,exports){(function(Buffer,process){function readSources(input,context,callback){return doReadSources(input,context,function(tokens){return applySourceMaps(tokens,context,function(){return loadOriginalSources(context,function(){return callback(tokens)})})})}function doReadSources(input,context,callback){return"string"==typeof input?fromString(input,context,callback):Buffer.isBuffer(input)?fromString(input.toString(),context,callback):Array.isArray(input)?fromArray(input,context,callback):"object"==typeof input?fromHash(input,context,callback):void 0}function fromString(input,context,callback){return context.source=void 0,context.sourcesContent[void 0]=input,context.stats.originalSize+=input.length,fromStyles(input,context,{inline:context.options.inline},callback)}function fromArray(input,context,callback){return fromStyles(input.reduce(function(accumulator,uriOrHash){return"string"==typeof uriOrHash?addStringSource(uriOrHash,accumulator):addHashSource(uriOrHash,context,accumulator)},[]).join(""),context,{inline:["all"]},callback)}function fromHash(input,context,callback){return fromStyles(addHashSource(input,context,[]).join(""),context,{inline:["all"]},callback)}function addStringSource(input,imports){return imports.push(restoreAsImport(normalizeUri(input))),imports}function addHashSource(input,context,imports){var uri,normalizedUri,source;for(uri in input)source=input[uri],normalizedUri=normalizeUri(uri),imports.push(restoreAsImport(normalizedUri)),context.sourcesContent[normalizedUri]=source.styles,source.sourceMap&&trackSourceMap(source.sourceMap,normalizedUri,context);return imports}function normalizeUri(uri){var absoluteUri,relativeToCurrentPath,currentPath=path.resolve("");return isRemoteResource(uri)?uri:(absoluteUri=path.isAbsolute(uri)?uri:path.resolve(uri),relativeToCurrentPath=path.relative(currentPath,absoluteUri),normalizePath(relativeToCurrentPath))}function trackSourceMap(sourceMap,uri,context){var parsedMap="string"==typeof sourceMap?JSON.parse(sourceMap):sourceMap,rebasedMap=isRemoteResource(uri)?rebaseRemoteMap(parsedMap,uri):rebaseLocalMap(parsedMap,uri||UNKNOWN_URI,context.options.rebaseTo);context.inputSourceMapTracker.track(uri,rebasedMap)}function restoreAsImport(uri){return restoreImport("url("+uri+")","")+Marker.SEMICOLON}function fromStyles(styles,context,parentInlinerContext,callback){var tokens,rebaseConfig={};return context.source?isRemoteResource(context.source)?(rebaseConfig.fromBase=context.source,rebaseConfig.toBase=context.source):path.isAbsolute(context.source)?(rebaseConfig.fromBase=path.dirname(context.source),rebaseConfig.toBase=context.options.rebaseTo):(rebaseConfig.fromBase=path.dirname(path.resolve(context.source)),rebaseConfig.toBase=context.options.rebaseTo):(rebaseConfig.fromBase=path.resolve(""),rebaseConfig.toBase=context.options.rebaseTo),tokens=tokenize(styles,context),tokens=rebase(tokens,context.options.rebase,context.validator,rebaseConfig),allowsAnyImports(parentInlinerContext.inline)?inline(tokens,context,parentInlinerContext,callback):callback(tokens)}function allowsAnyImports(inline){return!(1==inline.length&&"none"==inline[0])}function inline(tokens,externalContext,parentInlinerContext,callback){return doInlineImports({afterContent:!1,callback:callback,errors:externalContext.errors,externalContext:externalContext,fetch:externalContext.options.fetch,inlinedStylesheets:parentInlinerContext.inlinedStylesheets||externalContext.inlinedStylesheets,inline:parentInlinerContext.inline,inlineRequest:externalContext.options.inlineRequest,inlineTimeout:externalContext.options.inlineTimeout,isRemote:parentInlinerContext.isRemote||!1,localOnly:externalContext.localOnly,outputTokens:[],rebaseTo:externalContext.options.rebaseTo,sourceTokens:tokens,warnings:externalContext.warnings})}function doInlineImports(inlinerContext){var token,i,l;for(i=0,l=inlinerContext.sourceTokens.length;i<l;i++){if(token=inlinerContext.sourceTokens[i],token[0]==Token.AT_RULE&&isImport(token[1]))return inlinerContext.sourceTokens.splice(0,i),inlineStylesheet(token,inlinerContext);token[0]==Token.AT_RULE||token[0]==Token.COMMENT?inlinerContext.outputTokens.push(token):(inlinerContext.outputTokens.push(token),inlinerContext.afterContent=!0)}return inlinerContext.sourceTokens=[],inlinerContext.callback(inlinerContext.outputTokens)}function inlineStylesheet(token,inlinerContext){var uriAndMediaQuery=extractImportUrlAndMedia(token[1]),uri=uriAndMediaQuery[0],mediaQuery=uriAndMediaQuery[1],metadata=token[2];return isRemoteResource(uri)?inlineRemoteStylesheet(uri,mediaQuery,metadata,inlinerContext):inlineLocalStylesheet(uri,mediaQuery,metadata,inlinerContext)}function inlineRemoteStylesheet(uri,mediaQuery,metadata,inlinerContext){function whenLoaded(error,importedStyles){return error?(inlinerContext.errors.push('Broken @import declaration of "'+uri+'" - '+error),process.nextTick(function(){inlinerContext.outputTokens=inlinerContext.outputTokens.concat(inlinerContext.sourceTokens.slice(0,1)),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)})):(inlinerContext.inline=inlinerContext.externalContext.options.inline,inlinerContext.isRemote=!0,inlinerContext.externalContext.source=originalUri,inlinerContext.externalContext.sourcesContent[uri]=importedStyles,inlinerContext.externalContext.stats.originalSize+=importedStyles.length,fromStyles(importedStyles,inlinerContext.externalContext,inlinerContext,function(importedTokens){return importedTokens=wrapInMedia(importedTokens,mediaQuery,metadata),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(importedTokens),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)}))}var isAllowed=isAllowedResource(uri,!0,inlinerContext.inline),originalUri=uri,isLoaded=uri in inlinerContext.externalContext.sourcesContent,isRuntimeResource=!hasProtocol(uri);return inlinerContext.inlinedStylesheets.indexOf(uri)>-1?(inlinerContext.warnings.push('Ignoring remote @import of "'+uri+'" as it has already been imported.'),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)):inlinerContext.localOnly&&inlinerContext.afterContent?(inlinerContext.warnings.push('Ignoring remote @import of "'+uri+'" as no callback given and after other content.'),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)):isRuntimeResource?(inlinerContext.warnings.push('Skipping remote @import of "'+uri+'" as no protocol given.'),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(inlinerContext.sourceTokens.slice(0,1)),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)):inlinerContext.localOnly&&!isLoaded?(inlinerContext.warnings.push('Skipping remote @import of "'+uri+'" as no callback given.'),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(inlinerContext.sourceTokens.slice(0,1)),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)):!isAllowed&&inlinerContext.afterContent?(inlinerContext.warnings.push('Ignoring remote @import of "'+uri+'" as resource is not allowed and after other content.'),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)):isAllowed?(inlinerContext.inlinedStylesheets.push(uri),isLoaded?whenLoaded(null,inlinerContext.externalContext.sourcesContent[uri]):inlinerContext.fetch(uri,inlinerContext.inlineRequest,inlinerContext.inlineTimeout,whenLoaded)):(inlinerContext.warnings.push('Skipping remote @import of "'+uri+'" as resource is not allowed.'),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(inlinerContext.sourceTokens.slice(0,1)),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext))}function inlineLocalStylesheet(uri,mediaQuery,metadata,inlinerContext){var importedStyles,currentPath=path.resolve(""),absoluteUri=path.isAbsolute(uri)?path.resolve(currentPath,"/"==uri[0]?uri.substring(1):uri):path.resolve(inlinerContext.rebaseTo,uri),relativeToCurrentPath=path.relative(currentPath,absoluteUri),isAllowed=isAllowedResource(uri,!1,inlinerContext.inline),normalizedPath=normalizePath(relativeToCurrentPath),isLoaded=normalizedPath in inlinerContext.externalContext.sourcesContent;if(inlinerContext.inlinedStylesheets.indexOf(absoluteUri)>-1)inlinerContext.warnings.push('Ignoring local @import of "'+uri+'" as it has already been imported.');else if(isLoaded||fs.existsSync(absoluteUri)&&fs.statSync(absoluteUri).isFile())if(!isAllowed&&inlinerContext.afterContent)inlinerContext.warnings.push('Ignoring local @import of "'+uri+'" as resource is not allowed and after other content.');else if(inlinerContext.afterContent)inlinerContext.warnings.push('Ignoring local @import of "'+uri+'" as after other content.');else{if(isAllowed)return importedStyles=isLoaded?inlinerContext.externalContext.sourcesContent[normalizedPath]:fs.readFileSync(absoluteUri,"utf-8"),inlinerContext.inlinedStylesheets.push(absoluteUri),
inlinerContext.inline=inlinerContext.externalContext.options.inline,inlinerContext.externalContext.source=normalizedPath,inlinerContext.externalContext.sourcesContent[normalizedPath]=importedStyles,inlinerContext.externalContext.stats.originalSize+=importedStyles.length,fromStyles(importedStyles,inlinerContext.externalContext,inlinerContext,function(importedTokens){return importedTokens=wrapInMedia(importedTokens,mediaQuery,metadata),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(importedTokens),inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)});inlinerContext.warnings.push('Skipping local @import of "'+uri+'" as resource is not allowed.'),inlinerContext.outputTokens=inlinerContext.outputTokens.concat(inlinerContext.sourceTokens.slice(0,1))}else inlinerContext.errors.push('Ignoring local @import of "'+uri+'" as resource is missing.');return inlinerContext.sourceTokens=inlinerContext.sourceTokens.slice(1),doInlineImports(inlinerContext)}function wrapInMedia(tokens,mediaQuery,metadata){return mediaQuery?[[Token.NESTED_BLOCK,[[Token.NESTED_BLOCK_SCOPE,"@media "+mediaQuery,metadata]],tokens]]:tokens}var fs=require("fs"),path=require("path"),applySourceMaps=require("./apply-source-maps"),extractImportUrlAndMedia=require("./extract-import-url-and-media"),isAllowedResource=require("./is-allowed-resource"),loadOriginalSources=require("./load-original-sources"),normalizePath=require("./normalize-path"),rebase=require("./rebase"),rebaseLocalMap=require("./rebase-local-map"),rebaseRemoteMap=require("./rebase-remote-map"),restoreImport=require("./restore-import"),tokenize=require("../tokenizer/tokenize"),Token=require("../tokenizer/token"),Marker=require("../tokenizer/marker"),hasProtocol=require("../utils/has-protocol"),isImport=require("../utils/is-import"),isRemoteResource=require("../utils/is-remote-resource"),UNKNOWN_URI="uri:unknown";module.exports=readSources}).call(this,{isBuffer:require("../../../is-buffer/index.js")},require("_process"))},{"../../../is-buffer/index.js":232,"../tokenizer/marker":121,"../tokenizer/token":122,"../tokenizer/tokenize":123,"../utils/has-protocol":126,"../utils/is-import":130,"../utils/is-remote-resource":131,"./apply-source-maps":107,"./extract-import-url-and-media":108,"./is-allowed-resource":110,"./load-original-sources":111,"./normalize-path":114,"./rebase":118,"./rebase-local-map":116,"./rebase-remote-map":117,"./restore-import":119,_process:371,fs:40,path:368}],116:[function(require,module,exports){function rebaseLocalMap(sourceMap,sourceUri,rebaseTo){var currentPath=path.resolve(""),absoluteUri=path.resolve(currentPath,sourceUri),absoluteUriDirectory=path.dirname(absoluteUri);return sourceMap.sources=sourceMap.sources.map(function(source){return path.relative(rebaseTo,path.resolve(absoluteUriDirectory,source))}),sourceMap}var path=require("path");module.exports=rebaseLocalMap},{path:368}],117:[function(require,module,exports){function rebaseRemoteMap(sourceMap,sourceUri){var sourceDirectory=path.dirname(sourceUri);return sourceMap.sources=sourceMap.sources.map(function(source){return url.resolve(sourceDirectory,source)}),sourceMap}var path=require("path"),url=require("url");module.exports=rebaseRemoteMap},{path:368,url:453}],118:[function(require,module,exports){function rebase(tokens,rebaseAll,validator,rebaseConfig){return rebaseAll?rebaseEverything(tokens,validator,rebaseConfig):rebaseAtRules(tokens,validator,rebaseConfig)}function rebaseEverything(tokens,validator,rebaseConfig){var token,i,l;for(i=0,l=tokens.length;i<l;i++)switch(token=tokens[i],token[0]){case Token.AT_RULE:rebaseAtRule(token,validator,rebaseConfig);break;case Token.AT_RULE_BLOCK:rebaseProperties(token[2],validator,rebaseConfig);break;case Token.COMMENT:rebaseSourceMapComment(token,rebaseConfig);break;case Token.NESTED_BLOCK:rebaseEverything(token[2],validator,rebaseConfig);break;case Token.RULE:rebaseProperties(token[2],validator,rebaseConfig)}return tokens}function rebaseAtRules(tokens,validator,rebaseConfig){var token,i,l;for(i=0,l=tokens.length;i<l;i++)switch(token=tokens[i],token[0]){case Token.AT_RULE:rebaseAtRule(token,validator,rebaseConfig)}return tokens}function rebaseAtRule(token,validator,rebaseConfig){if(isImport(token[1])){var uriAndMediaQuery=extractImportUrlAndMedia(token[1]),newUrl=rewriteUrl(uriAndMediaQuery[0],rebaseConfig),mediaQuery=uriAndMediaQuery[1];token[1]=restoreImport(newUrl,mediaQuery)}}function rebaseSourceMapComment(token,rebaseConfig){var matches=SOURCE_MAP_COMMENT_PATTERN.exec(token[1]);matches&&-1===matches[1].indexOf("data:")&&(token[1]=token[1].replace(matches[1],rewriteUrl(matches[1],rebaseConfig,!0)))}function rebaseProperties(properties,validator,rebaseConfig){var property,value,i,l,j,m;for(i=0,l=properties.length;i<l;i++)for(property=properties[i],j=2,m=property.length;j<m;j++)value=property[j][1],validator.isUrl(value)&&(property[j][1]=rewriteUrl(value,rebaseConfig))}var extractImportUrlAndMedia=require("./extract-import-url-and-media"),restoreImport=require("./restore-import"),rewriteUrl=require("./rewrite-url"),Token=require("../tokenizer/token"),isImport=require("../utils/is-import"),SOURCE_MAP_COMMENT_PATTERN=/^\/\*# sourceMappingURL=(\S+) \*\/$/;module.exports=rebase},{"../tokenizer/token":122,"../utils/is-import":130,"./extract-import-url-and-media":108,"./restore-import":119,"./rewrite-url":120}],119:[function(require,module,exports){function restoreImport(uri,mediaQuery){return("@import "+uri+" "+mediaQuery).trim()}module.exports=restoreImport},{}],120:[function(require,module,exports){(function(process){function rebase(uri,rebaseConfig){return rebaseConfig?isAbsolute(uri)&&!isRemote(rebaseConfig.toBase)?uri:isRemote(uri)||isSVGMarker(uri)||isInternal(uri)?uri:isData(uri)?"'"+uri+"'":isRemote(rebaseConfig.toBase)?url.resolve(rebaseConfig.toBase,uri):normalize(rebaseConfig.absolute?absolute(uri,rebaseConfig):relative(uri,rebaseConfig)):uri}function isAbsolute(uri){return path.isAbsolute(uri)}function isSVGMarker(uri){return"#"==uri[0]}function isInternal(uri){return/^\w+:\w+/.test(uri)}function isRemote(uri){return/^[^:]+?:\/\//.test(uri)||0===uri.indexOf("//")}function isData(uri){return 0===uri.indexOf("data:")}function absolute(uri,rebaseConfig){return path.resolve(path.join(rebaseConfig.fromBase||"",uri)).replace(rebaseConfig.toBase,"")}function relative(uri,rebaseConfig){return path.relative(rebaseConfig.toBase,path.join(rebaseConfig.fromBase||"",uri))}function normalize(uri){return isWindows?uri.replace(/\\/g,"/"):uri}function quoteFor(unquotedUrl){return unquotedUrl.indexOf(SINGLE_QUOTE)>-1?DOUBLE_QUOTE:unquotedUrl.indexOf(DOUBLE_QUOTE)>-1?SINGLE_QUOTE:hasWhitespace(unquotedUrl)||hasRoundBrackets(unquotedUrl)?SINGLE_QUOTE:""}function hasWhitespace(url){return WHITESPACE_PATTERN.test(url)}function hasRoundBrackets(url){return ROUND_BRACKETS_PATTERN.test(url)}function rewriteUrl(originalUrl,rebaseConfig,pathOnly){var strippedUrl=originalUrl.replace(URL_PREFIX_PATTERN,"").replace(URL_SUFFIX_PATTERN,"").trim(),unquotedUrl=strippedUrl.replace(QUOTE_PREFIX_PATTERN,"").replace(QUOTE_SUFFIX_PATTERN,"").trim(),quote=strippedUrl[0]==SINGLE_QUOTE||strippedUrl[0]==DOUBLE_QUOTE?strippedUrl[0]:quoteFor(unquotedUrl);return pathOnly?rebase(unquotedUrl,rebaseConfig):URL_PREFIX+quote+rebase(unquotedUrl,rebaseConfig)+quote+URL_SUFFIX}var path=require("path"),url=require("url"),DOUBLE_QUOTE='"',SINGLE_QUOTE="'",URL_PREFIX="url(",URL_SUFFIX=")",QUOTE_PREFIX_PATTERN=/^["']/,QUOTE_SUFFIX_PATTERN=/["']$/,ROUND_BRACKETS_PATTERN=/[\(\)]/,URL_PREFIX_PATTERN=/^url\(/i,URL_SUFFIX_PATTERN=/\)$/,WHITESPACE_PATTERN=/\s/,isWindows="win32"==process.platform;module.exports=rewriteUrl}).call(this,require("_process"))},{_process:371,path:368,url:453}],121:[function(require,module,exports){var Marker={ASTERISK:"*",AT:"@",BACK_SLASH:"\\",CARRIAGE_RETURN:"\r",CLOSE_CURLY_BRACKET:"}",CLOSE_ROUND_BRACKET:")",CLOSE_SQUARE_BRACKET:"]",COLON:":",COMMA:",",DOUBLE_QUOTE:'"',EXCLAMATION:"!",FORWARD_SLASH:"/",INTERNAL:"-clean-css-",NEW_LINE_NIX:"\n",OPEN_CURLY_BRACKET:"{",OPEN_ROUND_BRACKET:"(",OPEN_SQUARE_BRACKET:"[",SEMICOLON:";",SINGLE_QUOTE:"'",SPACE:" ",TAB:"\t",UNDERSCORE:"_"};module.exports=Marker},{}],122:[function(require,module,exports){var Token={AT_RULE:"at-rule",AT_RULE_BLOCK:"at-rule-block",AT_RULE_BLOCK_SCOPE:"at-rule-block-scope",COMMENT:"comment",NESTED_BLOCK:"nested-block",NESTED_BLOCK_SCOPE:"nested-block-scope",PROPERTY:"property",PROPERTY_BLOCK:"property-block",PROPERTY_NAME:"property-name",PROPERTY_VALUE:"property-value",RAW:"raw",RULE:"rule",RULE_SCOPE:"rule-scope"};module.exports=Token},{}],123:[function(require,module,exports){function tokenize(source,externalContext){return intoTokens(source,externalContext,{level:Level.BLOCK,position:{source:externalContext.source||void 0,line:1,column:0,index:0}},!1)}function intoTokens(source,externalContext,internalContext,isNested){for(var lastToken,ruleToken,propertyToken,metadata,serializedBuffer,serializedBufferPart,isQuoted,isSpace,isNewLineNix,isNewLineWin,isCarriageReturn,isCommentStart,isCommentEnd,isCommentEndMarker,isEscaped,lastCommentStartAt,allTokens=[],newTokens=allTokens,ruleTokens=[],metadatas=[],level=internalContext.level,levels=[],buffer=[],buffers=[],roundBracketLevel=0,wasCommentStart=!1,wasCommentEnd=!1,wasEscaped=!1,isRaw=!1,seekingValue=!1,seekingPropertyBlockClosing=!1,position=internalContext.position;position.index<source.length;position.index++){var character=source[position.index];if(isQuoted=level==Level.SINGLE_QUOTE||level==Level.DOUBLE_QUOTE,isSpace=character==Marker.SPACE||character==Marker.TAB,isNewLineNix=character==Marker.NEW_LINE_NIX,isNewLineWin=character==Marker.NEW_LINE_NIX&&source[position.index-1]==Marker.CARRIAGE_RETURN,isCarriageReturn=character==Marker.CARRIAGE_RETURN&&source[position.index+1]&&source[position.index+1]!=Marker.NEW_LINE_NIX,isCommentStart=!wasCommentEnd&&level!=Level.COMMENT&&!isQuoted&&character==Marker.ASTERISK&&source[position.index-1]==Marker.FORWARD_SLASH,isCommentEndMarker=!wasCommentStart&&!isQuoted&&character==Marker.FORWARD_SLASH&&source[position.index-1]==Marker.ASTERISK,isCommentEnd=level==Level.COMMENT&&isCommentEndMarker,roundBracketLevel=Math.max(roundBracketLevel,0),metadata=0===buffer.length?[position.line,position.column,position.source]:metadata,isEscaped)buffer.push(character);else if(isCommentEnd||level!=Level.COMMENT)if(isCommentStart||isCommentEnd||!isRaw)if(isCommentStart&&(level==Level.BLOCK||level==Level.RULE)&&buffer.length>1)metadatas.push(metadata),buffer.push(character),buffers.push(buffer.slice(0,buffer.length-2)),buffer=buffer.slice(buffer.length-2),metadata=[position.line,position.column-1,position.source],levels.push(level),level=Level.COMMENT;else if(isCommentStart)levels.push(level),level=Level.COMMENT,buffer.push(character);else if(isCommentEnd&&isIgnoreStartComment(buffer))serializedBuffer=buffer.join("").trim()+character,lastToken=[Token.COMMENT,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]],newTokens.push(lastToken),isRaw=!0,metadata=metadatas.pop()||null,buffer=buffers.pop()||[];else if(isCommentEnd&&isIgnoreEndComment(buffer))serializedBuffer=buffer.join("")+character,lastCommentStartAt=serializedBuffer.lastIndexOf(Marker.FORWARD_SLASH+Marker.ASTERISK),serializedBufferPart=serializedBuffer.substring(0,lastCommentStartAt),lastToken=[Token.RAW,serializedBufferPart,[originalMetadata(metadata,serializedBufferPart,externalContext)]],newTokens.push(lastToken),serializedBufferPart=serializedBuffer.substring(lastCommentStartAt),metadata=[position.line,position.column-serializedBufferPart.length+1,position.source],lastToken=[Token.COMMENT,serializedBufferPart,[originalMetadata(metadata,serializedBufferPart,externalContext)]],newTokens.push(lastToken),isRaw=!1,level=levels.pop(),metadata=metadatas.pop()||null,buffer=buffers.pop()||[];else if(isCommentEnd)serializedBuffer=buffer.join("").trim()+character,lastToken=[Token.COMMENT,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]],newTokens.push(lastToken),level=levels.pop(),metadata=metadatas.pop()||null,buffer=buffers.pop()||[];else if(isCommentEndMarker&&source[position.index+1]!=Marker.ASTERISK)externalContext.warnings.push("Unexpected '*/' at "+formatPosition([position.line,position.column,position.source])+"."),buffer=[];else if(character!=Marker.SINGLE_QUOTE||isQuoted)if(character==Marker.SINGLE_QUOTE&&level==Level.SINGLE_QUOTE)level=levels.pop(),buffer.push(character);else if(character!=Marker.DOUBLE_QUOTE||isQuoted)if(character==Marker.DOUBLE_QUOTE&&level==Level.DOUBLE_QUOTE)level=levels.pop(),buffer.push(character);else if(!isCommentStart&&!isCommentEnd&&character!=Marker.CLOSE_ROUND_BRACKET&&character!=Marker.OPEN_ROUND_BRACKET&&level!=Level.COMMENT&&!isQuoted&&roundBracketLevel>0)buffer.push(character);else if(character!=Marker.OPEN_ROUND_BRACKET||isQuoted||level==Level.COMMENT||seekingValue)if(character!=Marker.CLOSE_ROUND_BRACKET||isQuoted||level==Level.COMMENT||seekingValue)if(character==Marker.SEMICOLON&&level==Level.BLOCK&&buffer[0]==Marker.AT)serializedBuffer=buffer.join("").trim(),allTokens.push([Token.AT_RULE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),buffer=[];else if(character==Marker.COMMA&&level==Level.BLOCK&&ruleToken)serializedBuffer=buffer.join("").trim(),ruleToken[1].push([tokenScopeFrom(ruleToken[0]),serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext,ruleToken[1].length)]]),buffer=[];else if(character==Marker.COMMA&&level==Level.BLOCK&&tokenTypeFrom(buffer)==Token.AT_RULE)buffer.push(character);else if(character==Marker.COMMA&&level==Level.BLOCK)ruleToken=[tokenTypeFrom(buffer),[],[]],serializedBuffer=buffer.join("").trim(),ruleToken[1].push([tokenScopeFrom(ruleToken[0]),serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext,0)]]),buffer=[];else if(character==Marker.OPEN_CURLY_BRACKET&&level==Level.BLOCK&&ruleToken&&ruleToken[0]==Token.NESTED_BLOCK)serializedBuffer=buffer.join("").trim(),ruleToken[1].push([Token.NESTED_BLOCK_SCOPE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),allTokens.push(ruleToken),levels.push(level),position.column++,position.index++,buffer=[],ruleToken[2]=intoTokens(source,externalContext,internalContext,!0),ruleToken=null;else if(character==Marker.OPEN_CURLY_BRACKET&&level==Level.BLOCK&&tokenTypeFrom(buffer)==Token.NESTED_BLOCK)serializedBuffer=buffer.join("").trim(),ruleToken=ruleToken||[Token.NESTED_BLOCK,[],[]],ruleToken[1].push([Token.NESTED_BLOCK_SCOPE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),allTokens.push(ruleToken),levels.push(level),position.column++,position.index++,buffer=[],ruleToken[2]=intoTokens(source,externalContext,internalContext,!0),ruleToken=null;else if(character==Marker.OPEN_CURLY_BRACKET&&level==Level.BLOCK)serializedBuffer=buffer.join("").trim(),ruleToken=ruleToken||[tokenTypeFrom(buffer),[],[]],ruleToken[1].push([tokenScopeFrom(ruleToken[0]),serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext,ruleToken[1].length)]]),newTokens=ruleToken[2],allTokens.push(ruleToken),levels.push(level),level=Level.RULE,buffer=[];else if(character==Marker.OPEN_CURLY_BRACKET&&level==Level.RULE&&seekingValue)ruleTokens.push(ruleToken),ruleToken=[Token.PROPERTY_BLOCK,[]],propertyToken.push(ruleToken),newTokens=ruleToken[1],levels.push(level),level=Level.RULE,seekingValue=!1;else if(character==Marker.OPEN_CURLY_BRACKET&&level==Level.RULE&&isPageMarginBox(buffer))serializedBuffer=buffer.join("").trim(),ruleTokens.push(ruleToken),ruleToken=[Token.AT_RULE_BLOCK,[],[]],ruleToken[1].push([Token.AT_RULE_BLOCK_SCOPE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),newTokens.push(ruleToken),newTokens=ruleToken[2],levels.push(level),level=Level.RULE,buffer=[];else if(character!=Marker.COLON||level!=Level.RULE||seekingValue)if(character==Marker.SEMICOLON&&level==Level.RULE&&propertyToken&&ruleTokens.length>0&&buffer.length>0&&buffer[0]==Marker.AT)serializedBuffer=buffer.join("").trim(),ruleToken[1].push([Token.AT_RULE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),buffer=[];else if(character==Marker.SEMICOLON&&level==Level.RULE&&propertyToken&&buffer.length>0)serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken=null,seekingValue=!1,buffer=[];else if(character==Marker.SEMICOLON&&level==Level.RULE&&propertyToken&&0===buffer.length)propertyToken=null,seekingValue=!1;else if(character==Marker.SEMICOLON&&level==Level.RULE&&buffer.length>0&&buffer[0]==Marker.AT)serializedBuffer=buffer.join(""),newTokens.push([Token.AT_RULE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),seekingValue=!1,buffer=[];else if(character==Marker.SEMICOLON&&level==Level.RULE&&seekingPropertyBlockClosing)seekingPropertyBlockClosing=!1,buffer=[];else if(character==Marker.SEMICOLON&&level==Level.RULE&&0===buffer.length);else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&propertyToken&&seekingValue&&buffer.length>0&&ruleTokens.length>0)serializedBuffer=buffer.join(""),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken=null,ruleToken=ruleTokens.pop(),newTokens=ruleToken[2],level=levels.pop(),seekingValue=!1,buffer=[];else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&propertyToken&&buffer.length>0&&buffer[0]==Marker.AT&&ruleTokens.length>0)serializedBuffer=buffer.join(""),ruleToken[1].push([Token.AT_RULE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken=null,ruleToken=ruleTokens.pop(),newTokens=ruleToken[2],level=levels.pop(),seekingValue=!1,buffer=[];else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&propertyToken&&ruleTokens.length>0)propertyToken=null,ruleToken=ruleTokens.pop(),newTokens=ruleToken[2],level=levels.pop(),seekingValue=!1;else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&propertyToken&&buffer.length>0)serializedBuffer=buffer.join(""),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken=null,ruleToken=ruleTokens.pop(),newTokens=allTokens,level=levels.pop(),seekingValue=!1,buffer=[];else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&buffer.length>0&&buffer[0]==Marker.AT)propertyToken=null,ruleToken=null,serializedBuffer=buffer.join("").trim(),newTokens.push([Token.AT_RULE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),newTokens=allTokens,level=levels.pop(),seekingValue=!1,buffer=[];else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE&&levels[levels.length-1]==Level.RULE)propertyToken=null,ruleToken=ruleTokens.pop(),newTokens=ruleToken[2],level=levels.pop(),seekingValue=!1,seekingPropertyBlockClosing=!0,buffer=[];else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.RULE)propertyToken=null,ruleToken=null,newTokens=allTokens,level=levels.pop(),seekingValue=!1;else if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.BLOCK&&!isNested&&position.index<=source.length-1)externalContext.warnings.push("Unexpected '}' at "+formatPosition([position.line,position.column,position.source])+"."),buffer.push(character);else{if(character==Marker.CLOSE_CURLY_BRACKET&&level==Level.BLOCK)break;character==Marker.OPEN_ROUND_BRACKET&&level==Level.RULE&&seekingValue?(buffer.push(character),roundBracketLevel++):character==Marker.CLOSE_ROUND_BRACKET&&level==Level.RULE&&seekingValue&&1==roundBracketLevel?(buffer.push(character),serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),roundBracketLevel--,buffer=[]):character==Marker.CLOSE_ROUND_BRACKET&&level==Level.RULE&&seekingValue?(buffer.push(character),roundBracketLevel--):character==Marker.FORWARD_SLASH&&source[position.index+1]!=Marker.ASTERISK&&level==Level.RULE&&seekingValue&&buffer.length>0?(serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken.push([Token.PROPERTY_VALUE,character,[[position.line,position.column,position.source]]]),buffer=[]):character==Marker.FORWARD_SLASH&&source[position.index+1]!=Marker.ASTERISK&&level==Level.RULE&&seekingValue?(propertyToken.push([Token.PROPERTY_VALUE,character,[[position.line,position.column,position.source]]]),buffer=[]):character==Marker.COMMA&&level==Level.RULE&&seekingValue&&buffer.length>0?(serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),propertyToken.push([Token.PROPERTY_VALUE,character,[[position.line,position.column,position.source]]]),buffer=[]):character==Marker.COMMA&&level==Level.RULE&&seekingValue?(propertyToken.push([Token.PROPERTY_VALUE,character,[[position.line,position.column,position.source]]]),buffer=[]):character==Marker.CLOSE_SQUARE_BRACKET&&propertyToken&&propertyToken.length>1&&buffer.length>0&&isRepeatToken(buffer)?(buffer.push(character),serializedBuffer=buffer.join("").trim(),propertyToken[propertyToken.length-1][1]+=serializedBuffer,buffer=[]):(isSpace||isNewLineNix&&!isNewLineWin)&&level==Level.RULE&&seekingValue&&propertyToken&&buffer.length>0?(serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),buffer=[]):isNewLineWin&&level==Level.RULE&&seekingValue&&propertyToken&&buffer.length>1?(serializedBuffer=buffer.join("").trim(),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),buffer=[]):isNewLineWin&&level==Level.RULE&&seekingValue?buffer=[]:1==buffer.length&&isNewLineWin?buffer.pop():(buffer.length>0||!isSpace&&!isNewLineNix&&!isNewLineWin&&!isCarriageReturn)&&buffer.push(character)}else serializedBuffer=buffer.join("").trim(),propertyToken=[Token.PROPERTY,[Token.PROPERTY_NAME,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]],newTokens.push(propertyToken),seekingValue=!0,buffer=[];else buffer.push(character),roundBracketLevel--;else buffer.push(character),roundBracketLevel++;else levels.push(level),level=Level.DOUBLE_QUOTE,buffer.push(character);else levels.push(level),level=Level.SINGLE_QUOTE,buffer.push(character);else buffer.push(character);else buffer.push(character);wasEscaped=isEscaped,isEscaped=!wasEscaped&&character==Marker.BACK_SLASH,wasCommentStart=isCommentStart,wasCommentEnd=isCommentEnd,position.line=isNewLineWin||isNewLineNix||isCarriageReturn?position.line+1:position.line,position.column=isNewLineWin||isNewLineNix||isCarriageReturn?0:position.column+1}return seekingValue&&externalContext.warnings.push("Missing '}' at "+formatPosition([position.line,position.column,position.source])+"."),seekingValue&&buffer.length>0&&(serializedBuffer=buffer.join("").replace(TAIL_BROKEN_VALUE_PATTERN,""),propertyToken.push([Token.PROPERTY_VALUE,serializedBuffer,[originalMetadata(metadata,serializedBuffer,externalContext)]]),buffer=[]),buffer.length>0&&externalContext.warnings.push("Invalid character(s) '"+buffer.join("")+"' at "+formatPosition(metadata)+". Ignoring."),allTokens}function isIgnoreStartComment(buffer){return IGNORE_START_COMMENT_PATTERN.test(buffer.join("")+Marker.FORWARD_SLASH)}function isIgnoreEndComment(buffer){return IGNORE_END_COMMENT_PATTERN.test(buffer.join("")+Marker.FORWARD_SLASH)}function originalMetadata(metadata,value,externalContext,selectorFallbacks){var source=metadata[2];return externalContext.inputSourceMapTracker.isTracking(source)?externalContext.inputSourceMapTracker.originalPositionFor(metadata,value.length,selectorFallbacks):metadata}function tokenTypeFrom(buffer){var isAtRule=buffer[0]==Marker.AT||buffer[0]==Marker.UNDERSCORE,ruleWord=buffer.join("").split(RULE_WORD_SEPARATOR_PATTERN)[0];return isAtRule&&BLOCK_RULES.indexOf(ruleWord)>-1?Token.NESTED_BLOCK:isAtRule&&AT_RULES.indexOf(ruleWord)>-1?Token.AT_RULE:isAtRule?Token.AT_RULE_BLOCK:Token.RULE}function tokenScopeFrom(tokenType){return tokenType==Token.RULE?Token.RULE_SCOPE:tokenType==Token.NESTED_BLOCK?Token.NESTED_BLOCK_SCOPE:tokenType==Token.AT_RULE_BLOCK?Token.AT_RULE_BLOCK_SCOPE:void 0}function isPageMarginBox(buffer){var serializedBuffer=buffer.join("").trim();return PAGE_MARGIN_BOXES.indexOf(serializedBuffer)>-1||EXTRA_PAGE_BOXES.indexOf(serializedBuffer)>-1}function isRepeatToken(buffer){return REPEAT_PATTERN.test(buffer.join("")+Marker.CLOSE_SQUARE_BRACKET)}var Marker=require("./marker"),Token=require("./token"),formatPosition=require("../utils/format-position"),Level={BLOCK:"block",COMMENT:"comment",DOUBLE_QUOTE:"double-quote",RULE:"rule",SINGLE_QUOTE:"single-quote"},AT_RULES=["@charset","@import"],BLOCK_RULES=["@-moz-document","@document","@-moz-keyframes","@-ms-keyframes","@-o-keyframes","@-webkit-keyframes","@keyframes","@media","@supports"],IGNORE_END_COMMENT_PATTERN=/\/\* clean\-css ignore:end \*\/$/,IGNORE_START_COMMENT_PATTERN=/^\/\* clean\-css ignore:start \*\//,PAGE_MARGIN_BOXES=["@bottom-center","@bottom-left","@bottom-left-corner","@bottom-right","@bottom-right-corner","@left-bottom","@left-middle","@left-top","@right-bottom","@right-middle","@right-top","@top-center","@top-left","@top-left-corner","@top-right","@top-right-corner"],EXTRA_PAGE_BOXES=["@footnote","@footnotes","@left","@page-float-bottom","@page-float-top","@right"],REPEAT_PATTERN=/^\[\s{0,31}\d+\s{0,31}\]$/,RULE_WORD_SEPARATOR_PATTERN=/[\s\(]/,TAIL_BROKEN_VALUE_PATTERN=/[\s|\}]*$/;module.exports=tokenize},{"../utils/format-position":125,"./marker":121,"./token":122}],124:[function(require,module,exports){function cloneArray(array){for(var cloned=array.slice(0),i=0,l=cloned.length;i<l;i++)Array.isArray(cloned[i])&&(cloned[i]=cloneArray(cloned[i]));return cloned}module.exports=cloneArray},{}],125:[function(require,module,exports){function formatPosition(metadata){var line=metadata[0],column=metadata[1],source=metadata[2];return source?source+":"+line+":"+column:line+":"+column}module.exports=formatPosition},{}],126:[function(require,module,exports){function hasProtocol(uri){return!NO_PROTOCOL_RESOURCE_PATTERN.test(uri)}var NO_PROTOCOL_RESOURCE_PATTERN=/^\/\//;module.exports=hasProtocol},{}],127:[function(require,module,exports){function isDataUriResource(uri){return DATA_URI_PATTERN.test(uri)}var DATA_URI_PATTERN=/^data:(\S*?)?(;charset=[^;]+)?(;[^,]+?)?,(.+)/;module.exports=isDataUriResource},{}],128:[function(require,module,exports){function isHttpResource(uri){return HTTP_RESOURCE_PATTERN.test(uri)}var HTTP_RESOURCE_PATTERN=/^http:\/\//;module.exports=isHttpResource},{}],129:[function(require,module,exports){function isHttpsResource(uri){return HTTPS_RESOURCE_PATTERN.test(uri)}var HTTPS_RESOURCE_PATTERN=/^https:\/\//;module.exports=isHttpsResource},{}],130:[function(require,module,exports){function isImport(value){return IMPORT_PREFIX_PATTERN.test(value)}var IMPORT_PREFIX_PATTERN=/^@import/i;module.exports=isImport},{}],131:[function(require,module,exports){function isRemoteResource(uri){return REMOTE_RESOURCE_PATTERN.test(uri)}var REMOTE_RESOURCE_PATTERN=/^(\w+:\/\/|\/\/)/;module.exports=isRemoteResource},{}],132:[function(require,module,exports){function naturalCompare(value1,value2){var key1,key2,i,l,keys1=(""+value1).split(NUMBER_PATTERN).map(tryParseInt),keys2=(""+value2).split(NUMBER_PATTERN).map(tryParseInt),compareFirst=Math.min(keys1.length,keys2.length);for(i=0,l=compareFirst;i<l;i++)if(key1=keys1[i],key2=keys2[i],key1!=key2)return key1>key2?1:-1;return keys1.length>keys2.length?1:keys1.length==keys2.length?0:-1}function tryParseInt(value){return""+parseInt(value)==value?parseInt(value):value}var NUMBER_PATTERN=/([0-9]+)/;module.exports=naturalCompare},{}],133:[function(require,module,exports){function override(source1,source2){var key1,key2,item,target={};for(key1 in source1)item=source1[key1],Array.isArray(item)?target[key1]=item.slice(0):target[key1]="object"==typeof item&&null!==item?override(item,{}):item;for(key2 in source2)item=source2[key2],key2 in target&&Array.isArray(item)?target[key2]=item.slice(0):target[key2]=key2 in target&&"object"==typeof item&&null!==item?override(target[key2],item):item;return target}module.exports=override},{}],134:[function(require,module,exports){function split(value,separator){var lastValue,lastCharacter,openLevel=Marker.OPEN_ROUND_BRACKET,closeLevel=Marker.CLOSE_ROUND_BRACKET,level=0,cursor=0,lastStart=0,len=value.length,parts=[];if(-1==value.indexOf(separator))return[value];if(-1==value.indexOf(openLevel))return value.split(separator);for(;cursor<len;)value[cursor]==openLevel?level++:value[cursor]==closeLevel&&level--,0===level&&cursor>0&&cursor+1<len&&value[cursor]==separator&&(parts.push(value.substring(lastStart,cursor)),lastStart=cursor+1),cursor++;return lastStart<cursor+1&&(lastValue=value.substring(lastStart),lastCharacter=lastValue[lastValue.length-1],lastCharacter==separator&&(lastValue=lastValue.substring(0,lastValue.length-1)),parts.push(lastValue)),parts}var Marker=require("../tokenizer/marker");module.exports=split},{"../tokenizer/marker":121}],135:[function(require,module,exports){function supportsAfterClosingBrace(token){return"background"==token[1][1]||"transform"==token[1][1]||"src"==token[1][1]}function afterClosingBrace(token,valueIndex){return token[valueIndex][1][token[valueIndex][1].length-1]==Marker.CLOSE_ROUND_BRACKET}function afterComma(token,valueIndex){return token[valueIndex][1]==Marker.COMMA}function afterSlash(token,valueIndex){return token[valueIndex][1]==Marker.FORWARD_SLASH}function beforeComma(token,valueIndex){return token[valueIndex+1]&&token[valueIndex+1][1]==Marker.COMMA}function beforeSlash(token,valueIndex){return token[valueIndex+1]&&token[valueIndex+1][1]==Marker.FORWARD_SLASH}function inFilter(token){return"filter"==token[1][1]||"-ms-filter"==token[1][1]}function disallowsSpace(context,token,valueIndex){return!context.spaceAfterClosingBrace&&supportsAfterClosingBrace(token)&&afterClosingBrace(token,valueIndex)||beforeSlash(token,valueIndex)||afterSlash(token,valueIndex)||beforeComma(token,valueIndex)||afterComma(token,valueIndex)}function rules(context,tokens){for(var store=context.store,i=0,l=tokens.length;i<l;i++)store(context,tokens[i]),i<l-1&&store(context,comma(context))}function body(context,tokens){for(var lastPropertyAt=lastPropertyIndex(tokens),i=0,l=tokens.length;i<l;i++)property(context,tokens,i,lastPropertyAt)}function lastPropertyIndex(tokens){for(var index=tokens.length-1;index>=0&&tokens[index][0]==Token.COMMENT;index--);return index}function property(context,tokens,position,lastPropertyAt){var needsSemicolon,store=context.store,token=tokens[position],isPropertyBlock=token[2][0]==Token.PROPERTY_BLOCK;needsSemicolon=context.format?!(!context.format.semicolonAfterLastProperty&&!isPropertyBlock)||position<lastPropertyAt:position<lastPropertyAt||isPropertyBlock;var isLast=position===lastPropertyAt;switch(token[0]){case Token.AT_RULE:store(context,token),store(context,semicolon(context,Breaks.AfterProperty,!1));break;case Token.AT_RULE_BLOCK:rules(context,token[1]),store(context,openBrace(context,Breaks.AfterRuleBegins,!0)),body(context,token[2]),store(context,closeBrace(context,Breaks.AfterRuleEnds,!1,isLast));break;case Token.COMMENT:store(context,token);break;case Token.PROPERTY:store(context,token[1]),store(context,colon(context)),value(context,token),store(context,needsSemicolon?semicolon(context,Breaks.AfterProperty,isLast):emptyCharacter);break;case Token.RAW:
store(context,token)}}function value(context,token){var j,m,store=context.store;if(token[2][0]==Token.PROPERTY_BLOCK)store(context,openBrace(context,Breaks.AfterBlockBegins,!1)),body(context,token[2][1]),store(context,closeBrace(context,Breaks.AfterBlockEnds,!1,!0));else for(j=2,m=token.length;j<m;j++)store(context,token[j]),j<m-1&&(inFilter(token)||!disallowsSpace(context,token,j))&&store(context,Marker.SPACE)}function allowsBreak(context,where){return context.format&&context.format.breaks[where]}function allowsSpace(context,where){return context.format&&context.format.spaces[where]}function openBrace(context,where,needsPrefixSpace){return context.format?(context.indentBy+=context.format.indentBy,context.indentWith=context.format.indentWith.repeat(context.indentBy),(needsPrefixSpace&&allowsSpace(context,Spaces.BeforeBlockBegins)?Marker.SPACE:emptyCharacter)+Marker.OPEN_CURLY_BRACKET+(allowsBreak(context,where)?context.format.breakWith:emptyCharacter)+context.indentWith):Marker.OPEN_CURLY_BRACKET}function closeBrace(context,where,beforeBlockEnd,isLast){return context.format?(context.indentBy-=context.format.indentBy,context.indentWith=context.format.indentWith.repeat(context.indentBy),(allowsBreak(context,Breaks.AfterProperty)||beforeBlockEnd&&allowsBreak(context,Breaks.BeforeBlockEnds)?context.format.breakWith:emptyCharacter)+context.indentWith+Marker.CLOSE_CURLY_BRACKET+(isLast?emptyCharacter:(allowsBreak(context,where)?context.format.breakWith:emptyCharacter)+context.indentWith)):Marker.CLOSE_CURLY_BRACKET}function colon(context){return context.format?Marker.COLON+(allowsSpace(context,Spaces.BeforeValue)?Marker.SPACE:emptyCharacter):Marker.COLON}function semicolon(context,where,isLast){return context.format?Marker.SEMICOLON+(isLast||!allowsBreak(context,where)?emptyCharacter:context.format.breakWith+context.indentWith):Marker.SEMICOLON}function comma(context){return context.format?Marker.COMMA+(allowsBreak(context,Breaks.BetweenSelectors)?context.format.breakWith:emptyCharacter)+context.indentWith:Marker.COMMA}function all(context,tokens){var token,isLast,i,l,store=context.store;for(i=0,l=tokens.length;i<l;i++)switch(token=tokens[i],isLast=i==l-1,token[0]){case Token.AT_RULE:store(context,token),store(context,semicolon(context,Breaks.AfterAtRule,isLast));break;case Token.AT_RULE_BLOCK:rules(context,token[1]),store(context,openBrace(context,Breaks.AfterRuleBegins,!0)),body(context,token[2]),store(context,closeBrace(context,Breaks.AfterRuleEnds,!1,isLast));break;case Token.NESTED_BLOCK:rules(context,token[1]),store(context,openBrace(context,Breaks.AfterBlockBegins,!0)),all(context,token[2]),store(context,closeBrace(context,Breaks.AfterBlockEnds,!0,isLast));break;case Token.COMMENT:store(context,token),store(context,allowsBreak(context,Breaks.AfterComment)?context.format.breakWith:emptyCharacter);break;case Token.RAW:store(context,token);break;case Token.RULE:rules(context,token[1]),store(context,openBrace(context,Breaks.AfterRuleBegins,!0)),body(context,token[2]),store(context,closeBrace(context,Breaks.AfterRuleEnds,!1,isLast))}}var emptyCharacter="",Breaks=require("../options/format").Breaks,Spaces=require("../options/format").Spaces,Marker=require("../tokenizer/marker"),Token=require("../tokenizer/token");module.exports={all:all,body:body,property:property,rules:rules,value:value}},{"../options/format":99,"../tokenizer/marker":121,"../tokenizer/token":122}],136:[function(require,module,exports){function store(serializeContext,token){serializeContext.output.push("string"==typeof token?token:token[1])}function context(){return{output:[],store:store}}function all(tokens){var oneTimeContext=context();return helpers.all(oneTimeContext,tokens),oneTimeContext.output.join("")}function body(tokens){var oneTimeContext=context();return helpers.body(oneTimeContext,tokens),oneTimeContext.output.join("")}function property(tokens,position){var oneTimeContext=context();return helpers.property(oneTimeContext,tokens,position,!0),oneTimeContext.output.join("")}function rules(tokens){var oneTimeContext=context();return helpers.rules(oneTimeContext,tokens),oneTimeContext.output.join("")}function value(tokens){var oneTimeContext=context();return helpers.value(oneTimeContext,tokens),oneTimeContext.output.join("")}var helpers=require("./helpers");module.exports={all:all,body:body,property:property,rules:rules,value:value}},{"./helpers":135}],137:[function(require,module,exports){function store(serializeContext,token){var value="string"==typeof token?token:token[1];(0,serializeContext.wrap)(serializeContext,value),track(serializeContext,value),serializeContext.output.push(value)}function wrap(serializeContext,value){serializeContext.column+value.length>serializeContext.format.wrapAt&&(track(serializeContext,serializeContext.format.breakWith),serializeContext.output.push(serializeContext.format.breakWith))}function track(serializeContext,value){var parts=value.split("\n");serializeContext.line+=parts.length-1,serializeContext.column=parts.length>1?0:serializeContext.column+parts.pop().length}function serializeStyles(tokens,context){var serializeContext={column:0,format:context.options.format,indentBy:0,indentWith:"",line:1,output:[],spaceAfterClosingBrace:context.options.compatibility.properties.spaceAfterClosingBrace,store:store,wrap:context.options.format.wrapAt?wrap:function(){}};return all(serializeContext,tokens),{styles:serializeContext.output.join("")}}var all=require("./helpers").all;module.exports=serializeStyles},{"./helpers":135}],138:[function(require,module,exports){(function(process){function store(serializeContext,element){var fromString="string"==typeof element,value=fromString?element:element[1],mappings=fromString?null:element[2];(0,serializeContext.wrap)(serializeContext,value),track(serializeContext,value,mappings),serializeContext.output.push(value)}function wrap(serializeContext,value){serializeContext.column+value.length>serializeContext.format.wrapAt&&(track(serializeContext,serializeContext.format.breakWith,!1),serializeContext.output.push(serializeContext.format.breakWith))}function track(serializeContext,value,mappings){var parts=value.split("\n");mappings&&trackAllMappings(serializeContext,mappings),serializeContext.line+=parts.length-1,serializeContext.column=parts.length>1?0:serializeContext.column+parts.pop().length}function trackAllMappings(serializeContext,mappings){for(var i=0,l=mappings.length;i<l;i++)trackMapping(serializeContext,mappings[i])}function trackMapping(serializeContext,mapping){var line=mapping[0],column=mapping[1],originalSource=mapping[2],source=originalSource,storedSource=source||UNKNOWN_SOURCE;isWindows&&source&&!isRemoteResource(source)&&(storedSource=source.replace(NIX_SEPARATOR_PATTERN,WINDOWS_SEPARATOR)),serializeContext.outputMap.addMapping({generated:{line:serializeContext.line,column:serializeContext.column},source:storedSource,original:{line:line,column:column}}),serializeContext.inlineSources&&originalSource in serializeContext.sourcesContent&&serializeContext.outputMap.setSourceContent(storedSource,serializeContext.sourcesContent[originalSource])}function serializeStylesAndSourceMap(tokens,context){var serializeContext={column:0,format:context.options.format,indentBy:0,indentWith:"",inlineSources:context.options.sourceMapInlineSources,line:1,output:[],outputMap:new SourceMapGenerator,sourcesContent:context.sourcesContent,spaceAfterClosingBrace:context.options.compatibility.properties.spaceAfterClosingBrace,store:store,wrap:context.options.format.wrapAt?wrap:function(){}};return all(serializeContext,tokens),{sourceMap:serializeContext.outputMap,styles:serializeContext.output.join("")}}var SourceMapGenerator=require("source-map").SourceMapGenerator,all=require("./helpers").all,isRemoteResource=require("../utils/is-remote-resource"),isWindows="win32"==process.platform,NIX_SEPARATOR_PATTERN=/\//g,UNKNOWN_SOURCE="$stdin",WINDOWS_SEPARATOR="\\";module.exports=serializeStylesAndSourceMap}).call(this,require("_process"))},{"../utils/is-remote-resource":131,"./helpers":135,_process:371,"source-map":432}],139:[function(require,module,exports){"use strict";function binaryOperation(operator,left,right){switch(operator){case"+":return left+right;case"-":return left-right;case"/":return left/right;case"%":return left%right;case"*":return left*right;case"**":return Math.pow(left,right);case"&":return left&right;case"|":return left|right;case">>":return left>>right;case">>>":return left>>>right;case"<<":return left<<right;case"^":return left^right;case"==":return left==right;case"===":return left===right;case"!=":return left!=right;case"!==":return left!==right;case"in":return left in right;case"instanceof":return left instanceof right;case">":return left>right;case"<":return left<right;case">=":return left>=right;case"<=":return left<=right}}exports.__esModule=!0,exports.default=binaryOperation},{}],140:[function(require,module,exports){"use strict";function expressionToConstant(expression,options){function toConstant(expression){if(constant){if(b.isArrayExpression(expression)){for(var result_1=[],i=0;constant&&i<expression.elements.length;i++){var element=expression.elements[i];if(b.isSpreadElement(element)){var spread=toConstant(element.argument);isSpreadable(spread)&&constant?result_1.push.apply(result_1,spread):constant=!1}else result_1.push(toConstant(element))}return result_1}if(b.isBinaryExpression(expression)){var left=toConstant(expression.left),right=toConstant(expression.right);return constant&&binaryOperation_1.default(expression.operator,left,right)}if(b.isBooleanLiteral(expression))return expression.value;if(b.isCallExpression(expression)){for(var args=[],i=0;constant&&i<expression.arguments.length;i++){var arg=expression.arguments[i];if(b.isSpreadElement(arg)){var spread=toConstant(arg.argument);isSpreadable(spread)&&constant?args.push.apply(args,spread):constant=!1}else args.push(toConstant(arg))}if(!constant)return;if(!b.isMemberExpression(expression.callee)){var callee=toConstant(expression.callee);if(!constant)return;return callee.apply(null,args)}var object=toConstant(expression.callee.object);if(!object||!constant)return void(constant=!1);var member=expression.callee.computed?toConstant(expression.callee.property):b.isIdentifier(expression.callee.property)?expression.callee.property.name:void 0;if(void 0!==member||expression.callee.computed||(constant=!1),!constant)return;if(canCallMethod(object,""+member))return object[member].apply(object,args)}if(b.isConditionalExpression(expression)){return toConstant(toConstant(expression.test)?expression.consequent:expression.alternate)}if(b.isIdentifier(expression)&&options.constants&&{}.hasOwnProperty.call(options.constants,expression.name))return options.constants[expression.name];if(b.isLogicalExpression(expression)){var left=toConstant(expression.left),right=toConstant(expression.right);if(constant&&"&&"===expression.operator)return left&&right;if(constant&&"||"===expression.operator)return left||right}if(b.isMemberExpression(expression)){var object=toConstant(expression.object);if(!object||!constant)return void(constant=!1);var member=expression.computed?toConstant(expression.property):b.isIdentifier(expression.property)?expression.property.name:void 0;if(void 0!==member||expression.computed||(constant=!1),!constant)return;if({}.hasOwnProperty.call(object,""+member)&&"_"!==member[0])return object[member]}if(b.isNullLiteral(expression))return null;if(b.isNumericLiteral(expression))return expression.value;if(b.isObjectExpression(expression)){for(var result_2={},i=0;constant&&i<expression.properties.length;i++){var property=expression.properties[i];if(b.isObjectProperty(property)){if(property.shorthand)return void(constant=!1);var key=property.computed?toConstant(property.key):b.isIdentifier(property.key)?property.key.name:b.isStringLiteral(property.key)?property.key.value:void 0;if(key&&"_"!==key[0]||(constant=!1),!constant)return;var value=toConstant(property.value);if(!constant)return;result_2[key]=value}else if(b.isObjectMethod(property))constant=!1;else if(b.isSpreadProperty(property)){var argument=toConstant(property.argument);if(argument||(constant=!1),!constant)return;Object.assign(result_2,argument)}}return result_2}if(b.isParenthesizedExpression(expression))return toConstant(expression.expression);if(b.isRegExpLiteral(expression))return new RegExp(expression.pattern,expression.flags);if(b.isSequenceExpression(expression)){for(var i=0;i<expression.expressions.length-1&&constant;i++)toConstant(expression.expressions[i]);return toConstant(expression.expressions[expression.expressions.length-1])}if(b.isStringLiteral(expression))return expression.value;if(b.isTemplateLiteral(expression)){for(var result_3="",i=0;i<expression.quasis.length;i++){result_3+=expression.quasis[i].value.cooked,i<expression.expressions.length&&(result_3+=""+toConstant(expression.expressions[i]))}return result_3}if(b.isUnaryExpression(expression)){var argument=toConstant(expression.argument);if(!constant)return;switch(expression.operator){case"-":return-argument;case"+":return+argument;case"!":return!argument;case"~":return~argument;case"typeof":return typeof argument;case"void":return}}constant=!1}}void 0===options&&(options={});var constant=!0,result=toConstant(expression);return constant?{constant:!0,result:result}:{constant:!1}}function isSpreadable(value){return"string"==typeof value||Array.isArray(value)||"undefined"!=typeof Set&&value instanceof Set||"undefined"!=typeof Map&&value instanceof Map}function shallowEqual(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var key in a)if(a[key]!==b[key])return!1;for(var key in b)if(a[key]!==b[key])return!1;return!0}return!1}function canCallMethod(object,member){switch(typeof object){case"boolean":switch(member){case"toString":return!0;default:return!1}case"number":switch(member){case"toExponential":case"toFixed":case"toPrecision":case"toString":return!0;default:return!1}case"string":switch(member){case"charAt":case"charCodeAt":case"codePointAt":case"concat":case"endsWith":case"includes":case"indexOf":case"lastIndexOf":case"match":case"normalize":case"padEnd":case"padStart":case"repeat":case"replace":case"search":case"slice":case"split":case"startsWith":case"substr":case"substring":case"toLowerCase":case"toUpperCase":case"trim":return!0;default:return!1}default:if(object instanceof RegExp)switch(member){case"test":case"exec":return!0;default:return!1}return{}.hasOwnProperty.call(object,member)&&"_"!==member[0]}}function isConstant(src,constants,options){if(void 0===constants&&(constants=EMPTY_OBJECT),void 0===options&&(options=EMPTY_OBJECT),lastSrc===src&&shallowEqual(lastConstants,constants)&&shallowEqual(lastOptions,options))return lastWasConstant;lastSrc=src,lastConstants=constants;var ast;try{ast=babylon_1.parseExpression(src,options)}catch(ex){return lastWasConstant=!1}var _a=expressionToConstant(ast,{constants:constants}),result=_a.result,constant=_a.constant;return lastResult=result,lastWasConstant=constant}function toConstant(src,constants,options){if(void 0===constants&&(constants=EMPTY_OBJECT),void 0===options&&(options=EMPTY_OBJECT),!isConstant(src,constants,options))throw new Error(JSON.stringify(src)+" is not constant.");return lastResult}exports.__esModule=!0;var babylon_1=require("babylon"),b=require("babel-types"),binaryOperation_1=require("./binaryOperation");exports.expressionToConstant=expressionToConstant;var EMPTY_OBJECT={},lastSrc="",lastConstants=EMPTY_OBJECT,lastOptions=EMPTY_OBJECT,lastResult=null,lastWasConstant=!1;exports.isConstant=isConstant,exports.toConstant=toConstant,exports.default=isConstant,module.exports=isConstant,module.exports.default=isConstant,module.exports.expressionToConstant=expressionToConstant,module.exports.isConstant=isConstant,module.exports.toConstant=toConstant},{"./binaryOperation":139,"babel-types":33,babylon:37}],141:[function(require,module,exports){require("../modules/web.dom.iterable"),require("../modules/es6.string.iterator"),module.exports=require("../modules/core.get-iterator")},{"../modules/core.get-iterator":208,"../modules/es6.string.iterator":214,"../modules/web.dom.iterable":218}],142:[function(require,module,exports){var core=require("../../modules/_core"),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},{"../../modules/_core":156}],143:[function(require,module,exports){require("../../modules/es6.number.max-safe-integer"),module.exports=9007199254740991},{"../../modules/es6.number.max-safe-integer":210}],144:[function(require,module,exports){require("../../modules/es6.object.create");var $Object=require("../../modules/_core").Object;module.exports=function(P,D){return $Object.create(P,D)}},{"../../modules/_core":156,"../../modules/es6.object.create":211}],145:[function(require,module,exports){require("../../modules/es6.symbol"),module.exports=require("../../modules/_core").Object.getOwnPropertySymbols},{"../../modules/_core":156,"../../modules/es6.symbol":215}],146:[function(require,module,exports){require("../../modules/es6.object.keys"),module.exports=require("../../modules/_core").Object.keys},{"../../modules/_core":156,"../../modules/es6.object.keys":212}],147:[function(require,module,exports){require("../../modules/es6.symbol"),module.exports=require("../../modules/_core").Symbol.for},{"../../modules/_core":156,"../../modules/es6.symbol":215}],148:[function(require,module,exports){require("../../modules/es6.symbol"),require("../../modules/es6.object.to-string"),require("../../modules/es7.symbol.async-iterator"),require("../../modules/es7.symbol.observable"),module.exports=require("../../modules/_core").Symbol},{"../../modules/_core":156,"../../modules/es6.object.to-string":213,"../../modules/es6.symbol":215,"../../modules/es7.symbol.async-iterator":216,"../../modules/es7.symbol.observable":217}],149:[function(require,module,exports){require("../../modules/es6.string.iterator"),require("../../modules/web.dom.iterable"),module.exports=require("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":205,"../../modules/es6.string.iterator":214,"../../modules/web.dom.iterable":218}],150:[function(require,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],151:[function(require,module,exports){module.exports=function(){}},{}],152:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":172}],153:[function(require,module,exports){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{"./_to-absolute-index":197,"./_to-iobject":199,"./_to-length":200}],154:[function(require,module,exports){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},{"./_cof":155,"./_wks":206}],155:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],156:[function(require,module,exports){var core=module.exports={version:"2.6.0"};"number"==typeof __e&&(__e=core)},{}],157:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":150}],158:[function(require,module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},{}],159:[function(require,module,exports){module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":164}],160:[function(require,module,exports){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":165,"./_is-object":172}],161:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],162:[function(require,module,exports){var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},{"./_object-gops":185,"./_object-keys":188,"./_object-pie":189}],163:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),ctx=require("./_ctx"),hide=require("./_hide"),has=require("./_has"),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&void 0!==target[key])&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":156,"./_ctx":157,"./_global":165,"./_has":166,"./_hide":167}],164:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],165:[function(require,module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],166:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],167:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":159,"./_object-dp":180,"./_property-desc":191}],168:[function(require,module,exports){var document=require("./_global").document;module.exports=document&&document.documentElement},{"./_global":165}],169:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":159,"./_dom-create":160,"./_fails":164}],170:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},{"./_cof":155}],171:[function(require,module,exports){var cof=require("./_cof");module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},{"./_cof":155}],172:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],173:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":167,"./_object-create":179,"./_property-desc":191,"./_set-to-string-tag":193,"./_wks":206}],174:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},{"./_export":163,"./_hide":167,"./_iter-create":173,"./_iterators":176,"./_library":177,"./_object-gpo":186,"./_redefine":192,"./_set-to-string-tag":193,"./_wks":206}],175:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],176:[function(require,module,exports){module.exports={}},{}],177:[function(require,module,exports){module.exports=!0},{}],178:[function(require,module,exports){var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},{"./_fails":164,"./_has":166,"./_is-object":172,"./_object-dp":180,"./_uid":203}],179:[function(require,module,exports){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},{"./_an-object":152,"./_dom-create":160,"./_enum-bug-keys":161,"./_html":168,"./_object-dps":181,"./_shared-key":194}],180:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":152,"./_descriptors":159,"./_ie8-dom-define":169,"./_to-primitive":202}],181:[function(require,module,exports){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":152,"./_descriptors":159,"./_object-dp":180,"./_object-keys":188}],182:[function(require,module,exports){var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{"./_descriptors":159,"./_has":166,"./_ie8-dom-define":169,"./_object-pie":189,"./_property-desc":191,"./_to-iobject":199,"./_to-primitive":202}],183:[function(require,module,exports){var toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},{"./_object-gopn":184,"./_to-iobject":199}],184:[function(require,module,exports){var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},{"./_enum-bug-keys":161,"./_object-keys-internal":187
}],185:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],186:[function(require,module,exports){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{"./_has":166,"./_shared-key":194,"./_to-object":201}],187:[function(require,module,exports){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{"./_array-includes":153,"./_has":166,"./_shared-key":194,"./_to-iobject":199}],188:[function(require,module,exports){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":161,"./_object-keys-internal":187}],189:[function(require,module,exports){exports.f={}.propertyIsEnumerable},{}],190:[function(require,module,exports){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":156,"./_export":163,"./_fails":164}],191:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],192:[function(require,module,exports){module.exports=require("./_hide")},{"./_hide":167}],193:[function(require,module,exports){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{"./_has":166,"./_object-dp":180,"./_wks":206}],194:[function(require,module,exports){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":195,"./_uid":203}],195:[function(require,module,exports){var core=require("./_core"),global=require("./_global"),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:require("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":156,"./_global":165,"./_library":177}],196:[function(require,module,exports){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536)}}},{"./_defined":158,"./_to-integer":198}],197:[function(require,module,exports){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},{"./_to-integer":198}],198:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],199:[function(require,module,exports){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":158,"./_iobject":170}],200:[function(require,module,exports){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":198}],201:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":158}],202:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":172}],203:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},{}],204:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},{"./_core":156,"./_global":165,"./_library":177,"./_object-dp":180,"./_wks-ext":205}],205:[function(require,module,exports){exports.f=require("./_wks")},{"./_wks":206}],206:[function(require,module,exports){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},{"./_global":165,"./_shared":195,"./_uid":203}],207:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":154,"./_core":156,"./_iterators":176,"./_wks":206}],208:[function(require,module,exports){var anObject=require("./_an-object"),get=require("./core.get-iterator-method");module.exports=require("./_core").getIterator=function(it){var iterFn=get(it);if("function"!=typeof iterFn)throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},{"./_an-object":152,"./_core":156,"./core.get-iterator-method":207}],209:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"./_add-to-unscopables":151,"./_iter-define":174,"./_iter-step":175,"./_iterators":176,"./_to-iobject":199}],210:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":163}],211:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})},{"./_export":163,"./_object-create":179}],212:[function(require,module,exports){var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function(it){return $keys(toObject(it))}})},{"./_object-keys":188,"./_object-sap":190,"./_to-object":201}],213:[function(require,module,exports){arguments[4][39][0].apply(exports,arguments)},{dup:39}],214:[function(require,module,exports){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{"./_iter-define":174,"./_string-at":196}],215:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),isObject=require("./_is-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol.prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||require("./_hide")($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},{"./_an-object":152,"./_descriptors":159,"./_enum-keys":162,"./_export":163,"./_fails":164,"./_global":165,"./_has":166,"./_hide":167,"./_is-array":171,"./_is-object":172,"./_library":177,"./_meta":178,"./_object-create":179,"./_object-dp":180,"./_object-gopd":182,"./_object-gopn":184,"./_object-gopn-ext":183,"./_object-gops":185,"./_object-keys":188,"./_object-pie":189,"./_property-desc":191,"./_redefine":192,"./_set-to-string-tag":193,"./_shared":195,"./_to-iobject":199,"./_to-primitive":202,"./_uid":203,"./_wks":206,"./_wks-define":204,"./_wks-ext":205}],216:[function(require,module,exports){require("./_wks-define")("asyncIterator")},{"./_wks-define":204}],217:[function(require,module,exports){require("./_wks-define")("observable")},{"./_wks-define":204}],218:[function(require,module,exports){require("./es6.array.iterator");for(var global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),TO_STRING_TAG=require("./_wks")("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},{"./_global":165,"./_hide":167,"./_iterators":176,"./_wks":206,"./es6.array.iterator":209}],219:[function(require,module,exports){(function(Buffer){function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":232}],220:[function(require,module,exports){"use strict";module.exports={html:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">',plist:'<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">'}},{}],221:[function(require,module,exports){!function(){"use strict";function isExpression(node){if(null==node)return!1;switch(node.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function isIterationStatement(node){if(null==node)return!1;switch(node.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function isStatement(node){if(null==node)return!1;switch(node.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function isSourceElement(node){return isStatement(node)||null!=node&&"FunctionDeclaration"===node.type}function trailingStatement(node){switch(node.type){case"IfStatement":return null!=node.alternate?node.alternate:node.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return node.body}return null}function isProblematicIfStatement(node){var current;if("IfStatement"!==node.type)return!1;if(null==node.alternate)return!1;current=node.consequent;do{if("IfStatement"===current.type&&null==current.alternate)return!0;current=trailingStatement(current)}while(current);return!1}module.exports={isExpression:isExpression,isStatement:isStatement,isIterationStatement:isIterationStatement,isSourceElement:isSourceElement,isProblematicIfStatement:isProblematicIfStatement,trailingStatement:trailingStatement}}()},{}],222:[function(require,module,exports){!function(){"use strict";function isDecimalDigit(ch){return 48<=ch&&ch<=57}function isHexDigit(ch){return 48<=ch&&ch<=57||97<=ch&&ch<=102||65<=ch&&ch<=70}function isOctalDigit(ch){return ch>=48&&ch<=55}function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||ch>=5760&&NON_ASCII_WHITESPACES.indexOf(ch)>=0}function isLineTerminator(ch){return 10===ch||13===ch||8232===ch||8233===ch}function fromCodePoint(cp){return cp<=65535?String.fromCharCode(cp):String.fromCharCode(Math.floor((cp-65536)/1024)+55296)+String.fromCharCode((cp-65536)%1024+56320)}function isIdentifierStartES5(ch){return ch<128?IDENTIFIER_START[ch]:ES5Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES5(ch){return ch<128?IDENTIFIER_PART[ch]:ES5Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isIdentifierStartES6(ch){return ch<128?IDENTIFIER_START[ch]:ES6Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPartES6(ch){return ch<128?IDENTIFIER_PART[ch]:ES6Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}var ES6Regex,ES5Regex,NON_ASCII_WHITESPACES,IDENTIFIER_START,IDENTIFIER_PART,ch;for(ES5Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},ES6Regex={
NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},NON_ASCII_WHITESPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],IDENTIFIER_START=new Array(128),ch=0;ch<128;++ch)IDENTIFIER_START[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||36===ch||95===ch;for(IDENTIFIER_PART=new Array(128),ch=0;ch<128;++ch)IDENTIFIER_PART[ch]=ch>=97&&ch<=122||ch>=65&&ch<=90||ch>=48&&ch<=57||36===ch||95===ch;module.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStartES5:isIdentifierStartES5,isIdentifierPartES5:isIdentifierPartES5,isIdentifierStartES6:isIdentifierStartES6,isIdentifierPartES6:isIdentifierPartES6}}()},{}],223:[function(require,module,exports){!function(){"use strict";function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function isKeywordES5(id,strict){return!(!strict&&"yield"===id)&&isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id))return!0;switch(id.length){case 2:return"if"===id||"in"===id||"do"===id;case 3:return"var"===id||"for"===id||"new"===id||"try"===id;case 4:return"this"===id||"else"===id||"case"===id||"void"===id||"with"===id||"enum"===id;case 5:return"while"===id||"break"===id||"catch"===id||"throw"===id||"const"===id||"yield"===id||"class"===id||"super"===id;case 6:return"return"===id||"typeof"===id||"delete"===id||"switch"===id||"export"===id||"import"===id;case 7:return"default"===id||"finally"===id||"extends"===id;case 8:return"function"===id||"continue"===id||"debugger"===id;case 10:return"instanceof"===id;default:return!1}}function isReservedWordES5(id,strict){return"null"===id||"true"===id||"false"===id||isKeywordES5(id,strict)}function isReservedWordES6(id,strict){return"null"===id||"true"===id||"false"===id||isKeywordES6(id,strict)}function isRestrictedWord(id){return"eval"===id||"arguments"===id}function isIdentifierNameES5(id){var i,iz,ch;if(0===id.length)return!1;if(ch=id.charCodeAt(0),!code.isIdentifierStartES5(ch))return!1;for(i=1,iz=id.length;i<iz;++i)if(ch=id.charCodeAt(i),!code.isIdentifierPartES5(ch))return!1;return!0}function decodeUtf16(lead,trail){return 1024*(lead-55296)+(trail-56320)+65536}function isIdentifierNameES6(id){var i,iz,ch,lowCh,check;if(0===id.length)return!1;for(check=code.isIdentifierStartES6,i=0,iz=id.length;i<iz;++i){if(55296<=(ch=id.charCodeAt(i))&&ch<=56319){if(++i>=iz)return!1;if(!(56320<=(lowCh=id.charCodeAt(i))&&lowCh<=57343))return!1;ch=decodeUtf16(ch,lowCh)}if(!check(ch))return!1;check=code.isIdentifierPartES6}return!0}function isIdentifierES5(id,strict){return isIdentifierNameES5(id)&&!isReservedWordES5(id,strict)}function isIdentifierES6(id,strict){return isIdentifierNameES6(id)&&!isReservedWordES6(id,strict)}var code=require("./code");module.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isReservedWordES5:isReservedWordES5,isReservedWordES6:isReservedWordES6,isRestrictedWord:isRestrictedWord,isIdentifierNameES5:isIdentifierNameES5,isIdentifierNameES6:isIdentifierNameES6,isIdentifierES5:isIdentifierES5,isIdentifierES6:isIdentifierES6}}()},{"./code":222}],224:[function(require,module,exports){!function(){"use strict";exports.ast=require("./ast"),exports.code=require("./code"),exports.keyword=require("./keyword")}()},{"./ast":221,"./code":222,"./keyword":223}],225:[function(require,module,exports){function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function $getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function emitNone(handler,isFn,self){if(isFn)handler.call(self);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)listeners[i].call(self)}function emitOne(handler,isFn,self,arg1){if(isFn)handler.call(self,arg1);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)listeners[i].call(self,arg1)}function emitTwo(handler,isFn,self,arg1,arg2){if(isFn)handler.call(self,arg1,arg2);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)listeners[i].call(self,arg1,arg2)}function emitThree(handler,isFn,self,arg1,arg2,arg3){if(isFn)handler.call(self,arg1,arg2,arg3);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)listeners[i].call(self,arg1,arg2,arg3)}function emitMany(handler,isFn,self,args){if(isFn)handler.apply(self,args);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)listeners[i].apply(self,args)}function _addListener(target,type,listener,prepend){var m,events,existing;if("function"!=typeof listener)throw new TypeError('"listener" argument must be a function');if(events=target._events,events?(events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]):(events=target._events=objectCreate(null),target._eventsCount=0),existing){if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),!existing.warned&&(m=$getMaxListeners(target))&&m>0&&existing.length>m){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+' "'+String(type)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",w.name,w.message)}}else existing=events[type]=listener,++target._eventsCount;return target}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var args=new Array(arguments.length),i=0;i<args.length;++i)args[i]=arguments[i];this.listener.apply(this.target,args)}}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=bind.call(onceWrapper,state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(!events)return[];var evlistener=events[type];return evlistener?"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length):[]}function listenerCount(type){var events=this._events;if(events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(evlistener)return evlistener.length}return 0}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function unwrapListeners(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}function objectCreatePolyfill(proto){var F=function(){};return F.prototype=proto,new F}function objectKeysPolyfill(obj){var keys=[];for(var k in obj)Object.prototype.hasOwnProperty.call(obj,k)&&keys.push(k);return k}function functionBindPolyfill(context){var fn=this;return function(){return fn.apply(context,arguments)}}var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var hasDefineProperty,defaultMaxListeners=10;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(err){hasDefineProperty=!1}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||arg!==arg)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=arg}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||isNaN(n))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,events,doError="error"===type;if(events=this._events)doError=doError&&null==events.error;else if(!doError)return!1;if(doError){if(arguments.length>1&&(er=arguments[1]),er instanceof Error)throw er;var err=new Error('Unhandled "error" event. ('+er+")");throw err.context=er,err}if(!(handler=events[type]))return!1;var isFn="function"==typeof handler;switch(len=arguments.length){case 1:emitNone(handler,isFn,this);break;case 2:emitOne(handler,isFn,this,arguments[1]);break;case 3:emitTwo(handler,isFn,this,arguments[1],arguments[2]);break;case 4:emitThree(handler,isFn,this,arguments[1],arguments[2],arguments[3]);break;default:for(args=new Array(len-1),i=1;i<len;i++)args[i-1]=arguments[i];emitMany(handler,isFn,this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){if("function"!=typeof listener)throw new TypeError('"listener" argument must be a function');return this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){if("function"!=typeof listener)throw new TypeError('"listener" argument must be a function');return this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if("function"!=typeof listener)throw new TypeError('"listener" argument must be a function');if(!(events=this._events))return this;if(!(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=objectCreate(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():spliceOne(list,position),1===list.length&&(events[type]=list[0]),events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(!(events=this._events))return this;if(!events.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):events[type]&&(0==--this._eventsCount?this._events=objectCreate(null):delete events[type]),this;if(0===arguments.length){var key,keys=objectKeys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],226:[function(require,module,exports){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder),target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},{}],227:[function(require,module,exports){"use strict";var implementation=require("./implementation");module.exports=Function.prototype.bind||implementation},{"./implementation":226}],228:[function(require,module,exports){"use strict";var bind=require("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":227}],229:[function(require,module,exports){function validateParams(params){if("string"==typeof params&&(params=url.parse(params)),params.protocol||(params.protocol="https:"),"https:"!==params.protocol)throw new Error('Protocol "'+params.protocol+'" not supported. Expected "https:"');return params}var http=require("http"),url=require("url"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(params,cb){return params=validateParams(params),http.request.call(this,params,cb)},https.get=function(params,cb){return params=validateParams(params),http.get.call(this,params,cb)}},{http:433,url:453}],230:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],231:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],232:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},{}],233:[function(require,module,exports){"use strict";function isExpression(src,options){options=objectAssign({},DEFAULT_OPTIONS,options);try{var parser=new acorn.Parser(options,src,0);options.strict&&(parser.strict=!0),options.lineComment||(parser.skipLineComment=function(startSkip){this.raise(this.pos,"Line comments not allowed in an expression")}),parser.nextToken(),parser.parseExpression(),parser.type!==acorn.tokTypes.eof&&parser.unexpected()}catch(ex){if(!options.throw)return!1;throw ex}return!0}var acorn=require("acorn"),objectAssign=require("object-assign");module.exports=isExpression;var DEFAULT_OPTIONS={throw:!1,strict:!1,lineComment:!1}},{acorn:234,"object-assign":366}],234:[function(require,module,exports){arguments[4][2][0].apply(exports,arguments)},{dup:2}],235:[function(require,module,exports){function isPromise(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"function"==typeof obj.then}module.exports=isPromise},{}],236:[function(require,module,exports){"use strict";var has=require("has"),regexExec=RegExp.prototype.exec,gOPD=Object.getOwnPropertyDescriptor,tryRegexExecCall=function(value){try{var lastIndex=value.lastIndex;return value.lastIndex=0,regexExec.call(value),!0}catch(e){return!1}finally{value.lastIndex=lastIndex}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag)return"[object RegExp]"===toStr.call(value);var descriptor=gOPD(value,"lastIndex");return!(!descriptor||!has(descriptor,"value"))&&tryRegexExecCall(value)}},{has:228}],237:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){
return"[object Array]"==toString.call(arr)}},{}],238:[function(require,module,exports){"use strict";function stringify(obj){return obj instanceof Date?"new Date("+stringify(obj.toISOString())+")":void 0===obj?"undefined":JSON.stringify(obj).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/</g,"\\u003C").replace(/>/g,"\\u003E").replace(/\//g,"\\u002F")}module.exports=stringify},{}],239:[function(require,module,exports){"use strict";function normalizeFn(result){if("function"==typeof result)return{fn:result,dependencies:[]};if(result&&"object"==typeof result&&"function"==typeof result.fn){if("dependencies"in result){if(!Array.isArray(result.dependencies))throw new Error("Result should have a dependencies property that is an array")}else result.dependencies=[];return result}throw new Error("Invalid result object from transform.")}function normalizeFnAsync(result,cb){return Promise.resolve(result).then(function(result){return result&&isPromise(result.fn)?result.fn.then(function(fn){return result.fn=fn,result}):result}).then(tr.normalizeFn).nodeify(cb)}function normalize(result){if("string"==typeof result)return{body:result,dependencies:[]};if(result&&"object"==typeof result&&"string"==typeof result.body){if("dependencies"in result){if(!Array.isArray(result.dependencies))throw new Error("Result should have a dependencies property that is an array")}else result.dependencies=[];return result}throw new Error("Invalid result object from transform.")}function normalizeAsync(result,cb){return Promise.resolve(result).then(function(result){return result&&isPromise(result.body)?result.body.then(function(body){return result.body=body,result}):result}).then(tr.normalize).nodeify(cb)}function Transformer(tr){assert(tr,"Transformer must be an object"),assert("string"==typeof tr.name,"Transformer must have a name"),assert("string"==typeof tr.outputFormat,"Transformer must have an output format"),assert(["compile","compileAsync","compileFile","compileFileAsync","compileClient","compileClientAsync","compileFileClient","compileFileClientAsync","render","renderAsync","renderFile","renderFileAsync"].some(function(method){return"function"==typeof tr[method]}),"Transformer must implement at least one of the potential methods."),this._tr=tr,this.name=this._tr.name,this.outputFormat=this._tr.outputFormat,this.inputFormats=this._tr.inputFormats||[this.name]}var fs=require("fs"),assert=require("assert"),Promise=require("promise"),isPromise=require("is-promise"),tr=module.exports=function(transformer){return new Transformer(transformer)};tr.Transformer=Transformer,tr.normalizeFn=normalizeFn,tr.normalizeFnAsync=normalizeFnAsync,tr.normalize=normalize,tr.normalizeAsync=normalizeAsync,fs.readFile?(tr.readFile=Promise.denodeify(fs.readFile),tr.readFileSync=fs.readFileSync):(tr.readFile=function(){throw new Error("fs.readFile unsupported")},tr.readFileSync=function(){throw new Error("fs.readFileSync unsupported")});var fallbacks={compile:["compile","render"],compileAsync:["compileAsync","compile","render"],compileFile:["compileFile","compile","renderFile","render"],compileFileAsync:["compileFileAsync","compileFile","compileAsync","compile","renderFile","render"],compileClient:["compileClient"],compileClientAsync:["compileClientAsync","compileClient"],compileFileClient:["compileFileClient","compileClient"],compileFileClientAsync:["compileFileClientAsync","compileFileClient","compileClientAsync","compileClient"],render:["render","compile"],renderAsync:["renderAsync","render","compileAsync","compile"],renderFile:["renderFile","render","compileFile","compile"],renderFileAsync:["renderFileAsync","renderFile","renderAsync","render","compileFileAsync","compileFile","compileAsync","compile"]};Transformer.prototype._hasMethod=function(method){return"function"==typeof this._tr[method]},Transformer.prototype.can=function(method){return fallbacks[method].some(function(method){return this._hasMethod(method)}.bind(this))},Transformer.prototype.compile=function(str,options){if(!this._hasMethod("compile")){if(this.can("render")){var _this=this;return{fn:function(locals){return tr.normalize(_this._tr.render(str,options,locals)).body},dependencies:[]}}throw this.can("compileAsync")?new Error('The Transform "'+this.name+'" does not support synchronous compilation'):this.can("compileFileAsync")?new Error('The Transform "'+this.name+'" does not support compiling plain strings'):new Error('The Transform "'+this.name+'" does not support compilation')}return tr.normalizeFn(this._tr.compile(str,options))},Transformer.prototype.compileAsync=function(str,options,cb){return this.can("compileAsync")?this._hasMethod("compileAsync")?tr.normalizeFnAsync(this._tr.compileAsync(str,options),cb):tr.normalizeFnAsync(this.compile(str,options),cb):Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling plain strings')).nodeify(cb)},Transformer.prototype.compileFile=function(filename,options){if(!this.can("compileFile"))throw new Error('The Transform "'+this.name+'" does not support synchronous compilation');return this._hasMethod("compileFile")?tr.normalizeFn(this._tr.compileFile(filename,options)):this._hasMethod("renderFile")?tr.normalizeFn(function(locals){return tr.normalize(this._tr.renderFile(filename,options,locals)).body}.bind(this)):(options||(options={}),void 0===options.filename&&(options.filename=filename),this.compile(tr.readFileSync(filename,"utf8"),options))},Transformer.prototype.compileFileAsync=function(filename,options,cb){return this.can("compileFileAsync")?this._hasMethod("compileFileAsync")?tr.normalizeFnAsync(this._tr.compileFileAsync(filename,options),cb):this._hasMethod("compileFile")||this._hasMethod("renderFile")?tr.normalizeFnAsync(this.compileFile(filename,options),cb):(options||(options={}),void 0===options.filename&&(options.filename=filename),tr.normalizeFnAsync(tr.readFile(filename,"utf8").then(function(str){return this._hasMethod("compileAsync")?this._tr.compileAsync(str,options):this.compile(str,options)}.bind(this)),cb)):Promise.reject(new Error('The Transform "'+this.name+'" does not support compilation'))},Transformer.prototype.compileClient=function(str,options){if(!this.can("compileClient"))throw this.can("compileClientAsync")?new Error('The Transform "'+this.name+'" does not support compiling for the client synchronously.'):this.can("compileFileClientAsync")?new Error('The Transform "'+this.name+'" does not support compiling for the client from a string.'):new Error('The Transform "'+this.name+'" does not support compiling for the client');return tr.normalize(this._tr.compileClient(str,options))},Transformer.prototype.compileClientAsync=function(str,options,cb){return this.can("compileClientAsync")?this._hasMethod("compileClientAsync")?tr.normalizeAsync(this._tr.compileClientAsync(str,options),cb):tr.normalizeAsync(this._tr.compileClient(str,options),cb):this.can("compileFileClientAsync")?Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client from a string.')).nodeify(cb):Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client')).nodeify(cb)},Transformer.prototype.compileFileClient=function(filename,options){if(!this.can("compileFileClient"))throw this.can("compileFileClientAsync")?new Error('The Transform "'+this.name+'" does not support compiling for the client synchronously.'):new Error('The Transform "'+this.name+'" does not support compiling for the client');return this._hasMethod("compileFileClient")?tr.normalize(this._tr.compileFileClient(filename,options)):(options||(options={}),void 0===options.filename&&(options.filename=filename),tr.normalize(this._tr.compileClient(tr.readFileSync(filename,"utf8"),options)))},Transformer.prototype.compileFileClientAsync=function(filename,options,cb){return this.can("compileFileClientAsync")?this._hasMethod("compileFileClientAsync")?tr.normalizeAsync(this._tr.compileFileClientAsync(filename,options),cb):this._hasMethod("compileFileClient")?tr.normalizeAsync(this._tr.compileFileClient(filename,options),cb):(options||(options={}),void 0===options.filename&&(options.filename=filename),tr.normalizeAsync(tr.readFile(filename,"utf8").then(function(str){return this._hasMethod("compileClientAsync")?this._tr.compileClientAsync(str,options):this._tr.compileClient(str,options)}.bind(this)),cb)):Promise.reject(new Error('The Transform "'+this.name+'" does not support compiling for the client')).nodeify(cb)},Transformer.prototype.render=function(str,options,locals){if(!this.can("render"))throw this.can("renderAsync")?new Error('The Transform "'+this.name+'" does not support rendering synchronously.'):this.can("renderFileAsync")?new Error('The Transform "'+this.name+'" does not support rendering from a string.'):new Error('The Transform "'+this.name+'" does not support rendering');if(this._hasMethod("render"))return tr.normalize(this._tr.render(str,options,locals));var compiled=tr.normalizeFn(this._tr.compile(str,options)),body=compiled.fn(locals||options);if("string"!=typeof body)throw new Error('The Transform "'+this.name+'" does not support rendering synchronously.');return tr.normalize({body:body,dependencies:compiled.dependencies})},Transformer.prototype.renderAsync=function(str,options,locals,cb){return"function"==typeof locals&&(cb=locals,locals=options),this.can("renderAsync")?this._hasMethod("renderAsync")?tr.normalizeAsync(this._tr.renderAsync(str,options,locals),cb):this._hasMethod("render")?tr.normalizeAsync(this._tr.render(str,options,locals),cb):tr.normalizeAsync(this.compileAsync(str,options).then(function(compiled){return{body:compiled.fn(locals||options),dependencies:compiled.dependencies}}),cb):this.can("renderFileAsync")?Promise.reject(new Error('The Transform "'+this.name+'" does not support rendering from a string.')).nodeify(cb):Promise.reject(new Error('The Transform "'+this.name+'" does not support rendering')).nodeify(cb)},Transformer.prototype.renderFile=function(filename,options,locals){if(!this.can("renderFile"))throw new Error('The Transform "'+this.name+'" does not support rendering synchronously.');if(this._hasMethod("renderFile"))return tr.normalize(this._tr.renderFile(filename,options,locals));if(this._hasMethod("render"))return options||(options={}),void 0===options.filename&&(options.filename=filename),tr.normalize(this._tr.render(tr.readFileSync(filename,"utf8"),options,locals));var compiled=this.compileFile(filename,options);return tr.normalize({body:compiled.fn(locals||options),dependencies:compiled.dependencies})},Transformer.prototype.renderFileAsync=function(filename,options,locals,cb){if(!this.can("renderFileAsync"))throw new Error('The Transform "'+this.name+'" does not support rendering.');return"function"==typeof locals&&(cb=locals,locals=options),this._hasMethod("renderFileAsync")?tr.normalizeAsync(this._tr.renderFileAsync(filename,options,locals),cb):this._hasMethod("renderFile")?tr.normalizeAsync(this._tr.renderFile(filename,options,locals),cb):this._hasMethod("compile")||this._hasMethod("compileAsync")||this._hasMethod("compileFile")||this._hasMethod("compileFileAsync")?tr.normalizeAsync(this.compileFileAsync(filename,options).then(function(compiled){return{body:compiled.fn(locals||options),dependencies:compiled.dependencies}}),cb):(options||(options={}),void 0===options.filename&&(options.filename=filename),tr.normalizeAsync(tr.readFile(filename,"utf8").then(function(str){return this.renderAsync(str,options,locals)}.bind(this)),cb))}},{assert:8,fs:40,"is-promise":235,promise:372}],240:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),DataView=getNative(root,"DataView");module.exports=DataView},{"./_getNative":299,"./_root":334}],241:[function(require,module,exports){function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var hashClear=require("./_hashClear"),hashDelete=require("./_hashDelete"),hashGet=require("./_hashGet"),hashHas=require("./_hashHas"),hashSet=require("./_hashSet");Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},{"./_hashClear":306,"./_hashDelete":307,"./_hashGet":308,"./_hashHas":309,"./_hashSet":310}],242:[function(require,module,exports){function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var listCacheClear=require("./_listCacheClear"),listCacheDelete=require("./_listCacheDelete"),listCacheGet=require("./_listCacheGet"),listCacheHas=require("./_listCacheHas"),listCacheSet=require("./_listCacheSet");ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},{"./_listCacheClear":318,"./_listCacheDelete":319,"./_listCacheGet":320,"./_listCacheHas":321,"./_listCacheSet":322}],243:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Map=getNative(root,"Map");module.exports=Map},{"./_getNative":299,"./_root":334}],244:[function(require,module,exports){function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var mapCacheClear=require("./_mapCacheClear"),mapCacheDelete=require("./_mapCacheDelete"),mapCacheGet=require("./_mapCacheGet"),mapCacheHas=require("./_mapCacheHas"),mapCacheSet=require("./_mapCacheSet");MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},{"./_mapCacheClear":323,"./_mapCacheDelete":324,"./_mapCacheGet":325,"./_mapCacheHas":326,"./_mapCacheSet":327}],245:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Promise=getNative(root,"Promise");module.exports=Promise},{"./_getNative":299,"./_root":334}],246:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),Set=getNative(root,"Set");module.exports=Set},{"./_getNative":299,"./_root":334}],247:[function(require,module,exports){function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}var MapCache=require("./_MapCache"),setCacheAdd=require("./_setCacheAdd"),setCacheHas=require("./_setCacheHas");SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},{"./_MapCache":244,"./_setCacheAdd":335,"./_setCacheHas":336}],248:[function(require,module,exports){function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}var ListCache=require("./_ListCache"),stackClear=require("./_stackClear"),stackDelete=require("./_stackDelete"),stackGet=require("./_stackGet"),stackHas=require("./_stackHas"),stackSet=require("./_stackSet");Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},{"./_ListCache":242,"./_stackClear":338,"./_stackDelete":339,"./_stackGet":340,"./_stackHas":341,"./_stackSet":342}],249:[function(require,module,exports){var root=require("./_root"),Symbol=root.Symbol;module.exports=Symbol},{"./_root":334}],250:[function(require,module,exports){var root=require("./_root"),Uint8Array=root.Uint8Array;module.exports=Uint8Array},{"./_root":334}],251:[function(require,module,exports){var getNative=require("./_getNative"),root=require("./_root"),WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},{"./_getNative":299,"./_root":334}],252:[function(require,module,exports){function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}module.exports=arrayEach},{}],253:[function(require,module,exports){function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}module.exports=arrayFilter},{}],254:[function(require,module,exports){function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}var baseIndexOf=require("./_baseIndexOf");module.exports=arrayIncludes},{"./_baseIndexOf":268}],255:[function(require,module,exports){function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}module.exports=arrayIncludesWith},{}],256:[function(require,module,exports){function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}var baseTimes=require("./_baseTimes"),isArguments=require("./isArguments"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isIndex=require("./_isIndex"),isTypedArray=require("./isTypedArray"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=arrayLikeKeys},{"./_baseTimes":278,"./_isIndex":314,"./isArguments":347,"./isArray":348,"./isBuffer":350,"./isTypedArray":359}],257:[function(require,module,exports){function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}module.exports=arrayPush},{}],258:[function(require,module,exports){function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}var baseAssignValue=require("./_baseAssignValue"),eq=require("./eq"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=assignValue},{"./_baseAssignValue":262,"./eq":346}],259:[function(require,module,exports){function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}var eq=require("./eq");module.exports=assocIndexOf},{"./eq":346}],260:[function(require,module,exports){function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}var copyObject=require("./_copyObject"),keys=require("./keys");module.exports=baseAssign},{"./_copyObject":289,"./keys":360}],261:[function(require,module,exports){function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}var copyObject=require("./_copyObject"),keysIn=require("./keysIn");module.exports=baseAssignIn},{"./_copyObject":289,"./keysIn":361}],262:[function(require,module,exports){function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}var defineProperty=require("./_defineProperty");module.exports=baseAssignValue},{"./_defineProperty":294}],263:[function(require,module,exports){function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),isSet(value))return value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}),result;if(isMap(value))return value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result;var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}var Stack=require("./_Stack"),arrayEach=require("./_arrayEach"),assignValue=require("./_assignValue"),baseAssign=require("./_baseAssign"),baseAssignIn=require("./_baseAssignIn"),cloneBuffer=require("./_cloneBuffer"),copyArray=require("./_copyArray"),copySymbols=require("./_copySymbols"),copySymbolsIn=require("./_copySymbolsIn"),getAllKeys=require("./_getAllKeys"),getAllKeysIn=require("./_getAllKeysIn"),getTag=require("./_getTag"),initCloneArray=require("./_initCloneArray"),initCloneByTag=require("./_initCloneByTag"),initCloneObject=require("./_initCloneObject"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isMap=require("./isMap"),isObject=require("./isObject"),isSet=require("./isSet"),keys=require("./keys"),CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectTag="[object Object]",cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags[objectTag]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1,module.exports=baseClone},{"./_Stack":248,"./_arrayEach":252,"./_assignValue":258,"./_baseAssign":260,"./_baseAssignIn":261,"./_cloneBuffer":283,"./_copyArray":288,"./_copySymbols":290,"./_copySymbolsIn":291,"./_getAllKeys":296,"./_getAllKeysIn":297,"./_getTag":304,"./_initCloneArray":311,"./_initCloneByTag":312,"./_initCloneObject":313,"./isArray":348,"./isBuffer":350,"./isMap":353,"./isObject":354,"./isSet":358,"./keys":360}],264:[function(require,module,exports){var isObject=require("./isObject"),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},{"./isObject":354}],265:[function(require,module,exports){function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}module.exports=baseFindIndex},{}],266:[function(require,module,exports){function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}var arrayPush=require("./_arrayPush"),isArray=require("./isArray");module.exports=baseGetAllKeys},{"./_arrayPush":257,"./isArray":348}],267:[function(require,module,exports){function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var Symbol=require("./_Symbol"),getRawTag=require("./_getRawTag"),objectToString=require("./_objectToString"),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=baseGetTag},{"./_Symbol":249,"./_getRawTag":301,"./_objectToString":332}],268:[function(require,module,exports){function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}var baseFindIndex=require("./_baseFindIndex"),baseIsNaN=require("./_baseIsNaN"),strictIndexOf=require("./_strictIndexOf");module.exports=baseIndexOf},{"./_baseFindIndex":265,"./_baseIsNaN":271,"./_strictIndexOf":343}],269:[function(require,module,exports){function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),argsTag="[object Arguments]";module.exports=baseIsArguments},{"./_baseGetTag":267,"./isObjectLike":355}],270:[function(require,module,exports){function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}var getTag=require("./_getTag"),isObjectLike=require("./isObjectLike"),mapTag="[object Map]";module.exports=baseIsMap},{"./_getTag":304,"./isObjectLike":355}],271:[function(require,module,exports){function baseIsNaN(value){return value!==value}module.exports=baseIsNaN},{}],272:[function(require,module,exports){function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}var isFunction=require("./isFunction"),isMasked=require("./_isMasked"),isObject=require("./isObject"),toSource=require("./_toSource"),reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=baseIsNative},{"./_isMasked":316,"./_toSource":344,"./isFunction":351,"./isObject":354}],273:[function(require,module,exports){function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike"),regexpTag="[object RegExp]";module.exports=baseIsRegExp},{"./_baseGetTag":267,"./isObjectLike":355}],274:[function(require,module,exports){function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}var getTag=require("./_getTag"),isObjectLike=require("./isObjectLike"),setTag="[object Set]";module.exports=baseIsSet},{"./_getTag":304,"./isObjectLike":355}],275:[function(require,module,exports){function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}var baseGetTag=require("./_baseGetTag"),isLength=require("./isLength"),isObjectLike=require("./isObjectLike"),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=baseIsTypedArray},{"./_baseGetTag":267,"./isLength":352,"./isObjectLike":355}],276:[function(require,module,exports){function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}var isPrototype=require("./_isPrototype"),nativeKeys=require("./_nativeKeys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseKeys},{"./_isPrototype":317,"./_nativeKeys":329}],277:[function(require,module,exports){function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}var isObject=require("./isObject"),isPrototype=require("./_isPrototype"),nativeKeysIn=require("./_nativeKeysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseKeysIn},{"./_isPrototype":317,"./_nativeKeysIn":330,"./isObject":354}],278:[function(require,module,exports){function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}module.exports=baseTimes},{}],279:[function(require,module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},{}],280:[function(require,module,exports){function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}var SetCache=require("./_SetCache"),arrayIncludes=require("./_arrayIncludes"),arrayIncludesWith=require("./_arrayIncludesWith"),cacheHas=require("./_cacheHas"),createSet=require("./_createSet"),setToArray=require("./_setToArray"),LARGE_ARRAY_SIZE=200;module.exports=baseUniq},{"./_SetCache":247,"./_arrayIncludes":254,"./_arrayIncludesWith":255,"./_cacheHas":281,"./_createSet":293,"./_setToArray":337}],281:[function(require,module,exports){function cacheHas(cache,key){return cache.has(key)}module.exports=cacheHas},{}],282:[function(require,module,exports){function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}var Uint8Array=require("./_Uint8Array");module.exports=cloneArrayBuffer},{"./_Uint8Array":250}],283:[function(require,module,exports){function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}
var root=require("./_root"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=cloneBuffer},{"./_root":334}],284:[function(require,module,exports){function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}var cloneArrayBuffer=require("./_cloneArrayBuffer");module.exports=cloneDataView},{"./_cloneArrayBuffer":282}],285:[function(require,module,exports){function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}var reFlags=/\w*$/;module.exports=cloneRegExp},{}],286:[function(require,module,exports){function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}var Symbol=require("./_Symbol"),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=cloneSymbol},{"./_Symbol":249}],287:[function(require,module,exports){function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}var cloneArrayBuffer=require("./_cloneArrayBuffer");module.exports=cloneTypedArray},{"./_cloneArrayBuffer":282}],288:[function(require,module,exports){function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}module.exports=copyArray},{}],289:[function(require,module,exports){function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}var assignValue=require("./_assignValue"),baseAssignValue=require("./_baseAssignValue");module.exports=copyObject},{"./_assignValue":258,"./_baseAssignValue":262}],290:[function(require,module,exports){function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}var copyObject=require("./_copyObject"),getSymbols=require("./_getSymbols");module.exports=copySymbols},{"./_copyObject":289,"./_getSymbols":302}],291:[function(require,module,exports){function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}var copyObject=require("./_copyObject"),getSymbolsIn=require("./_getSymbolsIn");module.exports=copySymbolsIn},{"./_copyObject":289,"./_getSymbolsIn":303}],292:[function(require,module,exports){var root=require("./_root"),coreJsData=root["__core-js_shared__"];module.exports=coreJsData},{"./_root":334}],293:[function(require,module,exports){var Set=require("./_Set"),noop=require("./noop"),setToArray=require("./_setToArray"),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},{"./_Set":246,"./_setToArray":337,"./noop":362}],294:[function(require,module,exports){var getNative=require("./_getNative"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},{"./_getNative":299}],295:[function(require,module,exports){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],296:[function(require,module,exports){function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}var baseGetAllKeys=require("./_baseGetAllKeys"),getSymbols=require("./_getSymbols"),keys=require("./keys");module.exports=getAllKeys},{"./_baseGetAllKeys":266,"./_getSymbols":302,"./keys":360}],297:[function(require,module,exports){function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var baseGetAllKeys=require("./_baseGetAllKeys"),getSymbolsIn=require("./_getSymbolsIn"),keysIn=require("./keysIn");module.exports=getAllKeysIn},{"./_baseGetAllKeys":266,"./_getSymbolsIn":303,"./keysIn":361}],298:[function(require,module,exports){function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}var isKeyable=require("./_isKeyable");module.exports=getMapData},{"./_isKeyable":315}],299:[function(require,module,exports){function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}var baseIsNative=require("./_baseIsNative"),getValue=require("./_getValue");module.exports=getNative},{"./_baseIsNative":272,"./_getValue":305}],300:[function(require,module,exports){var overArg=require("./_overArg"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},{"./_overArg":333}],301:[function(require,module,exports){function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}var Symbol=require("./_Symbol"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=getRawTag},{"./_Symbol":249}],302:[function(require,module,exports){var arrayFilter=require("./_arrayFilter"),stubArray=require("./stubArray"),objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},{"./_arrayFilter":253,"./stubArray":363}],303:[function(require,module,exports){var arrayPush=require("./_arrayPush"),getPrototype=require("./_getPrototype"),getSymbols=require("./_getSymbols"),stubArray=require("./stubArray"),nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},{"./_arrayPush":257,"./_getPrototype":300,"./_getSymbols":302,"./stubArray":363}],304:[function(require,module,exports){var DataView=require("./_DataView"),Map=require("./_Map"),Promise=require("./_Promise"),Set=require("./_Set"),WeakMap=require("./_WeakMap"),baseGetTag=require("./_baseGetTag"),toSource=require("./_toSource"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},{"./_DataView":240,"./_Map":243,"./_Promise":245,"./_Set":246,"./_WeakMap":251,"./_baseGetTag":267,"./_toSource":344}],305:[function(require,module,exports){function getValue(object,key){return null==object?void 0:object[key]}module.exports=getValue},{}],306:[function(require,module,exports){function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}var nativeCreate=require("./_nativeCreate");module.exports=hashClear},{"./_nativeCreate":328}],307:[function(require,module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}module.exports=hashDelete},{}],308:[function(require,module,exports){function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}var nativeCreate=require("./_nativeCreate"),HASH_UNDEFINED="__lodash_hash_undefined__",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashGet},{"./_nativeCreate":328}],309:[function(require,module,exports){function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}var nativeCreate=require("./_nativeCreate"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashHas},{"./_nativeCreate":328}],310:[function(require,module,exports){function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}var nativeCreate=require("./_nativeCreate"),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=hashSet},{"./_nativeCreate":328}],311:[function(require,module,exports){function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=initCloneArray},{}],312:[function(require,module,exports){function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}var cloneArrayBuffer=require("./_cloneArrayBuffer"),cloneDataView=require("./_cloneDataView"),cloneRegExp=require("./_cloneRegExp"),cloneSymbol=require("./_cloneSymbol"),cloneTypedArray=require("./_cloneTypedArray"),boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";module.exports=initCloneByTag},{"./_cloneArrayBuffer":282,"./_cloneDataView":284,"./_cloneRegExp":285,"./_cloneSymbol":286,"./_cloneTypedArray":287}],313:[function(require,module,exports){function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}var baseCreate=require("./_baseCreate"),getPrototype=require("./_getPrototype"),isPrototype=require("./_isPrototype");module.exports=initCloneObject},{"./_baseCreate":264,"./_getPrototype":300,"./_isPrototype":317}],314:[function(require,module,exports){function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=isIndex},{}],315:[function(require,module,exports){function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}module.exports=isKeyable},{}],316:[function(require,module,exports){function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var coreJsData=require("./_coreJsData"),maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();module.exports=isMasked},{"./_coreJsData":292}],317:[function(require,module,exports){function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}var objectProto=Object.prototype;module.exports=isPrototype},{}],318:[function(require,module,exports){function listCacheClear(){this.__data__=[],this.size=0}module.exports=listCacheClear},{}],319:[function(require,module,exports){function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}var assocIndexOf=require("./_assocIndexOf"),arrayProto=Array.prototype,splice=arrayProto.splice;module.exports=listCacheDelete},{"./_assocIndexOf":259}],320:[function(require,module,exports){function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheGet},{"./_assocIndexOf":259}],321:[function(require,module,exports){function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheHas},{"./_assocIndexOf":259}],322:[function(require,module,exports){function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheSet},{"./_assocIndexOf":259}],323:[function(require,module,exports){function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}var Hash=require("./_Hash"),ListCache=require("./_ListCache"),Map=require("./_Map");module.exports=mapCacheClear},{"./_Hash":241,"./_ListCache":242,"./_Map":243}],324:[function(require,module,exports){function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}var getMapData=require("./_getMapData");module.exports=mapCacheDelete},{"./_getMapData":298}],325:[function(require,module,exports){function mapCacheGet(key){return getMapData(this,key).get(key)}var getMapData=require("./_getMapData");module.exports=mapCacheGet},{"./_getMapData":298}],326:[function(require,module,exports){function mapCacheHas(key){return getMapData(this,key).has(key)}var getMapData=require("./_getMapData");module.exports=mapCacheHas},{"./_getMapData":298}],327:[function(require,module,exports){function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}var getMapData=require("./_getMapData");module.exports=mapCacheSet},{"./_getMapData":298}],328:[function(require,module,exports){var getNative=require("./_getNative"),nativeCreate=getNative(Object,"create");module.exports=nativeCreate},{"./_getNative":299}],329:[function(require,module,exports){var overArg=require("./_overArg"),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},{"./_overArg":333}],330:[function(require,module,exports){function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}module.exports=nativeKeysIn},{}],331:[function(require,module,exports){var freeGlobal=require("./_freeGlobal"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},{"./_freeGlobal":295}],332:[function(require,module,exports){function objectToString(value){return nativeObjectToString.call(value)}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=objectToString},{}],333:[function(require,module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},{}],334:[function(require,module,exports){var freeGlobal=require("./_freeGlobal"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},{"./_freeGlobal":295}],335:[function(require,module,exports){function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=setCacheAdd},{}],336:[function(require,module,exports){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},{}],337:[function(require,module,exports){function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}module.exports=setToArray},{}],338:[function(require,module,exports){function stackClear(){this.__data__=new ListCache,this.size=0}var ListCache=require("./_ListCache");module.exports=stackClear},{"./_ListCache":242}],339:[function(require,module,exports){function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}module.exports=stackDelete},{}],340:[function(require,module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},{}],341:[function(require,module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},{}],342:[function(require,module,exports){function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}var ListCache=require("./_ListCache"),Map=require("./_Map"),MapCache=require("./_MapCache"),LARGE_ARRAY_SIZE=200;module.exports=stackSet},{"./_ListCache":242,"./_Map":243,"./_MapCache":244}],343:[function(require,module,exports){function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}module.exports=strictIndexOf},{}],344:[function(require,module,exports){function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}var funcProto=Function.prototype,funcToString=funcProto.toString;module.exports=toSource},{}],345:[function(require,module,exports){function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}var baseClone=require("./_baseClone"),CLONE_SYMBOLS_FLAG=4;module.exports=clone},{"./_baseClone":263}],346:[function(require,module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},{}],347:[function(require,module,exports){var baseIsArguments=require("./_baseIsArguments"),isObjectLike=require("./isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},{"./_baseIsArguments":269,"./isObjectLike":355}],348:[function(require,module,exports){var isArray=Array.isArray;module.exports=isArray},{}],349:[function(require,module,exports){function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var isFunction=require("./isFunction"),isLength=require("./isLength");module.exports=isArrayLike},{"./isFunction":351,"./isLength":352}],350:[function(require,module,exports){var root=require("./_root"),stubFalse=require("./stubFalse"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer},{"./_root":334,"./stubFalse":364}],351:[function(require,module,exports){function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var baseGetTag=require("./_baseGetTag"),isObject=require("./isObject"),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=isFunction},{"./_baseGetTag":267,"./isObject":354}],352:[function(require,module,exports){function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength},{}],353:[function(require,module,exports){var baseIsMap=require("./_baseIsMap"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},{"./_baseIsMap":270,"./_baseUnary":279,"./_nodeUtil":331}],354:[function(require,module,exports){function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}module.exports=isObject},{}],355:[function(require,module,exports){function isObjectLike(value){return null!=value&&"object"==typeof value}module.exports=isObjectLike},{}],356:[function(require,module,exports){function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var baseGetTag=require("./_baseGetTag"),getPrototype=require("./_getPrototype"),isObjectLike=require("./isObjectLike"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=isPlainObject},{"./_baseGetTag":267,"./_getPrototype":300,"./isObjectLike":355}],357:[function(require,module,exports){var baseIsRegExp=require("./_baseIsRegExp"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;module.exports=isRegExp},{"./_baseIsRegExp":273,"./_baseUnary":279,"./_nodeUtil":331}],358:[function(require,module,exports){var baseIsSet=require("./_baseIsSet"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},{"./_baseIsSet":274,"./_baseUnary":279,"./_nodeUtil":331}],359:[function(require,module,exports){var baseIsTypedArray=require("./_baseIsTypedArray"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},{"./_baseIsTypedArray":275,"./_baseUnary":279,"./_nodeUtil":331}],360:[function(require,module,exports){function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeys=require("./_baseKeys"),isArrayLike=require("./isArrayLike");module.exports=keys},{"./_arrayLikeKeys":256,"./_baseKeys":276,"./isArrayLike":349}],361:[function(require,module,exports){function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeysIn=require("./_baseKeysIn"),isArrayLike=require("./isArrayLike");module.exports=keysIn},{"./_arrayLikeKeys":256,"./_baseKeysIn":277,"./isArrayLike":349}],362:[function(require,module,exports){function noop(){}module.exports=noop},{}],363:[function(require,module,exports){function stubArray(){return[]}module.exports=stubArray},{}],364:[function(require,module,exports){function stubFalse(){return!1}module.exports=stubFalse},{}],365:[function(require,module,exports){function uniq(array){return array&&array.length?baseUniq(array):[]}var baseUniq=require("./_baseUniq");module.exports=uniq},{"./_baseUniq":280}],366:[function(require,module,exports){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},{}],367:[function(require,module,exports){exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n",exports.homedir=function(){return"/"}},{}],368:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function basename(path){"string"!=typeof path&&(path+="");var i,start=0,end=-1,matchedSlash=!0;for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){if("string"!=typeof path&&(path+=""),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"/":path.slice(0,end)},exports.basename=function(path,ext){var f=basename(path);return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){"string"!=typeof path&&(path+="");for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:371}],369:[function(require,module,exports){(function(process){"use strict";function win32SplitPath(filename){var result=splitDeviceRe.exec(filename),device=(result[1]||"")+(result[2]||""),tail=result[3]||"",result2=splitTailRe.exec(tail);return[device,result2[1],result2[2],result2[3]]}function posixSplitPath(filename){return splitPathRe.exec(filename).slice(1)}var isWindows="win32"===process.platform,splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,win32={};win32.parse=function(pathString){if("string"!=typeof pathString)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);var allParts=win32SplitPath(pathString)
;if(!allParts||4!==allParts.length)throw new TypeError("Invalid path '"+pathString+"'");return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}};var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,posix={};posix.parse=function(pathString){if("string"!=typeof pathString)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);var allParts=posixSplitPath(pathString);if(!allParts||4!==allParts.length)throw new TypeError("Invalid path '"+pathString+"'");return allParts[1]=allParts[1]||"",allParts[2]=allParts[2]||"",allParts[3]=allParts[3]||"",{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)}},module.exports=isWindows?win32.parse:posix.parse,module.exports.posix=posix.parse,module.exports.win32=win32.parse}).call(this,require("_process"))},{_process:371}],370:[function(require,module,exports){(function(process){"use strict";function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:nextTick}:module.exports=process}).call(this,require("_process"))},{_process:371}],371:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],372:[function(require,module,exports){"use strict";module.exports=require("./lib")},{"./lib":377}],373:[function(require,module,exports){"use strict";function noop(){}function getThen(obj){try{return obj.then}catch(ex){return LAST_ERROR=ex,IS_ERROR}}function tryCallOne(fn,a){try{return fn(a)}catch(ex){return LAST_ERROR=ex,IS_ERROR}}function tryCallTwo(fn,a,b){try{fn(a,b)}catch(ex){return LAST_ERROR=ex,IS_ERROR}}function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,fn!==noop&&doResolve(fn,this)}function safeThen(self,onFulfilled,onRejected){return new self.constructor(function(resolve,reject){var res=new Promise(noop);res.then(resolve,reject),handle(self,new Handler(onFulfilled,onRejected,res))})}function handle(self,deferred){for(;3===self._65;)self=self._55;if(Promise._37&&Promise._37(self),0===self._65)return 0===self._40?(self._40=1,void(self._72=deferred)):1===self._40?(self._40=2,void(self._72=[self._72,deferred])):void self._72.push(deferred);handleResolved(self,deferred)}function handleResolved(self,deferred){asap(function(){var cb=1===self._65?deferred.onFulfilled:deferred.onRejected;if(null===cb)return void(1===self._65?resolve(deferred.promise,self._55):reject(deferred.promise,self._55));var ret=tryCallOne(cb,self._55);ret===IS_ERROR?reject(deferred.promise,LAST_ERROR):resolve(deferred.promise,ret)})}function resolve(self,newValue){if(newValue===self)return reject(self,new TypeError("A promise cannot be resolved with itself."));if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=getThen(newValue);if(then===IS_ERROR)return reject(self,LAST_ERROR);if(then===self.then&&newValue instanceof Promise)return self._65=3,self._55=newValue,void finale(self);if("function"==typeof then)return void doResolve(then.bind(newValue),self)}self._65=1,self._55=newValue,finale(self)}function reject(self,newValue){self._65=2,self._55=newValue,Promise._87&&Promise._87(self,newValue),finale(self)}function finale(self){if(1===self._40&&(handle(self,self._72),self._72=null),2===self._40){for(var i=0;i<self._72.length;i++)handle(self,self._72[i]);self._72=null}}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,promise){var done=!1,res=tryCallTwo(fn,function(value){done||(done=!0,resolve(promise,value))},function(reason){done||(done=!0,reject(promise,reason))});done||res!==IS_ERROR||(done=!0,reject(promise,LAST_ERROR))}var asap=require("asap/raw"),LAST_ERROR=null,IS_ERROR={};module.exports=Promise,Promise._37=null,Promise._87=null,Promise._61=noop,Promise.prototype.then=function(onFulfilled,onRejected){if(this.constructor!==Promise)return safeThen(this,onFulfilled,onRejected);var res=new Promise(noop);return handle(this,new Handler(onFulfilled,onRejected,res)),res}},{"asap/raw":7}],374:[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype.done=function(onFulfilled,onRejected){(arguments.length?this.then.apply(this,arguments):this).then(null,function(err){setTimeout(function(){throw err},0)})}},{"./core.js":373}],375:[function(require,module,exports){"use strict";function valuePromise(value){var p=new Promise(Promise._61);return p._65=1,p._55=value,p}var Promise=require("./core.js");module.exports=Promise;var TRUE=valuePromise(!0),FALSE=valuePromise(!1),NULL=valuePromise(null),UNDEFINED=valuePromise(void 0),ZERO=valuePromise(0),EMPTYSTRING=valuePromise("");Promise.resolve=function(value){if(value instanceof Promise)return value;if(null===value)return NULL;if(void 0===value)return UNDEFINED;if(!0===value)return TRUE;if(!1===value)return FALSE;if(0===value)return ZERO;if(""===value)return EMPTYSTRING;if("object"==typeof value||"function"==typeof value)try{var then=value.then;if("function"==typeof then)return new Promise(then.bind(value))}catch(ex){return new Promise(function(resolve,reject){reject(ex)})}return valuePromise(value)},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){function res(i,val){if(val&&("object"==typeof val||"function"==typeof val)){if(val instanceof Promise&&val.then===Promise.prototype.then){for(;3===val._65;)val=val._55;return 1===val._65?res(i,val._55):(2===val._65&&reject(val._55),void val.then(function(val){res(i,val)},reject))}var then=val.then;if("function"==typeof then){return void new Promise(then.bind(val)).then(function(val){res(i,val)},reject)}}args[i]=val,0==--remaining&&resolve(args)}if(0===args.length)return resolve([]);for(var remaining=args.length,i=0;i<args.length;i++)res(i,args[i])})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){values.forEach(function(value){Promise.resolve(value).then(resolve,reject)})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)}},{"./core.js":373}],376:[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.prototype.finally=function(f){return this.then(function(value){return Promise.resolve(f()).then(function(){return value})},function(err){return Promise.resolve(f()).then(function(){throw err})})}},{"./core.js":373}],377:[function(require,module,exports){"use strict";module.exports=require("./core.js"),require("./done.js"),require("./finally.js"),require("./es6-extensions.js"),require("./node-extensions.js"),require("./synchronous.js")},{"./core.js":373,"./done.js":374,"./es6-extensions.js":375,"./finally.js":376,"./node-extensions.js":378,"./synchronous.js":379}],378:[function(require,module,exports){"use strict";function denodeifyWithCount(fn,argumentCount){for(var args=[],i=0;i<argumentCount;i++)args.push("a"+i);var body=["return function ("+args.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(args).concat([callbackFn]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],body)(Promise,fn)}function denodeifyWithoutCount(fn){for(var fnLength=Math.max(fn.length-1,3),args=[],i=0;i<fnLength;i++)args.push("a"+i);var body=["return function ("+args.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+fnLength+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+callbackFn+";","var res;","switch (argLength) {",args.concat(["extra"]).map(function(_,index){return"case "+index+":res = fn.call("+["self"].concat(args.slice(0,index)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],body)(Promise,fn)}var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.denodeify=function(fn,argumentCount){return"number"==typeof argumentCount&&argumentCount!==1/0?denodeifyWithCount(fn,argumentCount):denodeifyWithoutCount(fn)};var callbackFn="function (err, res) {if (err) { rj(err); } else { rs(res); }}";Promise.nodeify=function(fn){return function(){var args=Array.prototype.slice.call(arguments),callback="function"==typeof args[args.length-1]?args.pop():null,ctx=this;try{return fn.apply(this,arguments).nodeify(callback,ctx)}catch(ex){if(null===callback||void 0===callback)return new Promise(function(resolve,reject){reject(ex)});asap(function(){callback.call(ctx,ex)})}}},Promise.prototype.nodeify=function(callback,ctx){if("function"!=typeof callback)return this;this.then(function(value){asap(function(){callback.call(ctx,null,value)})},function(err){asap(function(){callback.call(ctx,err)})})}},{"./core.js":373,asap:6}],379:[function(require,module,exports){"use strict";var Promise=require("./core.js");module.exports=Promise,Promise.enableSynchronous=function(){Promise.prototype.isPending=function(){return 0==this.getState()},Promise.prototype.isFulfilled=function(){return 1==this.getState()},Promise.prototype.isRejected=function(){return 2==this.getState()},Promise.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},Promise.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},Promise.prototype.getState=function(){return 3===this._65?this._55.getState():-1===this._65||-2===this._65?0:this._65}},Promise.disableSynchronous=function(){Promise.prototype.isPending=void 0,Promise.prototype.isFulfilled=void 0,Promise.prototype.isRejected=void 0,Promise.prototype.getValue=void 0,Promise.prototype.getReason=void 0,Promise.prototype.getState=void 0}},{"./core.js":373}],380:[function(require,module,exports){"use strict";function isConstant(src){return constantinople(src,{pug:runtime,pug_interp:void 0})}function toConstant(src){return constantinople.toConstant(src,{pug:runtime,pug_interp:void 0})}function compileAttrs(attrs,options){function addAttribute(key,val,mustEscape,buf){if(isConstant(val))if("html"===options.format){var str=stringify(runtime.attr(key,toConstant(val),mustEscape,options.terse)),last=buf[buf.length-1];last&&last[last.length-1]===str[0]?buf[buf.length-1]=last.substr(0,last.length-1)+str.substr(1):buf.push(str)}else val=toConstant(val),mustEscape&&(val=runtime.escape(val)),buf.push(stringify(key)+": "+stringify(val));else"html"===options.format?buf.push(options.runtime("attr")+'("'+key+'", '+val+", "+stringify(mustEscape)+", "+stringify(options.terse)+")"):(mustEscape&&(val=options.runtime("escape")+"("+val+")"),buf.push(stringify(key)+": "+val))}assert(Array.isArray(attrs),"Attrs should be an array"),assert(attrs.every(function(attr){return attr&&"object"==typeof attr&&"string"==typeof attr.name&&("string"==typeof attr.val||"boolean"==typeof attr.val)&&"boolean"==typeof attr.mustEscape}),"All attributes should be supplied as an object of the form {name, val, mustEscape}"),assert(options&&"object"==typeof options,"Options should be an object"),assert("boolean"==typeof options.terse,"Options.terse should be a boolean"),assert("function"==typeof options.runtime,"Options.runtime should be a function that takes a runtime function name and returns the source code that will evaluate to that function at runtime"),assert("html"===options.format||"object"===options.format,'Options.format should be "html" or "object"');var buf=[],classes=[],classEscaping=[];attrs.forEach(function(attr){var key=attr.name,val=attr.val,mustEscape=attr.mustEscape;"class"===key?(classes.push(val),classEscaping.push(mustEscape)):("style"===key&&(val=isConstant(val)?stringify(runtime.style(toConstant(val))):options.runtime("style")+"("+val+")"),addAttribute(key,val,mustEscape,buf))});var classesBuf=[];return classes.length&&(classes.every(isConstant)?addAttribute("class",stringify(runtime.classes(classes.map(toConstant),classEscaping)),!1,classesBuf):(classes=classes.map(function(cls,i){return isConstant(cls)&&(cls=stringify(classEscaping[i]?runtime.escape(toConstant(cls)):toConstant(cls)),classEscaping[i]=!1),cls}),addAttribute("class",options.runtime("classes")+"(["+classes.join(",")+"], "+stringify(classEscaping)+")",!1,classesBuf))),buf=classesBuf.concat(buf),"html"===options.format?buf.length?buf.join("+"):'""':"{"+buf.join(",")+"}"}var assert=require("assert"),constantinople=require("constantinople"),runtime=require("pug-runtime"),stringify=require("js-stringify");module.exports=compileAttrs},{assert:8,constantinople:140,"js-stringify":238,"pug-runtime":392}],381:[function(require,module,exports){"use strict";function generateCode(ast,options){return new Compiler(ast,options).compile()}function isConstant(src){return constantinople(src,{pug:runtime,pug_interp:void 0})}function toConstant(src){return constantinople.toConstant(src,{pug:runtime,pug_interp:void 0})}function Compiler(node,options){this.options=options=options||{},this.node=node,this.bufferedConcatenationCount=0,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=options.pretty||!1,this.pp&&"string"!=typeof this.pp&&(this.pp="  "),this.debug=!1!==options.compileDebug,this.indents=0,this.parentIndents=0,this.terse=!1,this.mixins={},this.dynamicMixins=!1,this.eachCount=0,options.doctype&&this.setDoctype(options.doctype),this.runtimeFunctionsUsed=[],this.inlineRuntimeFunctions=options.inlineRuntimeFunctions||!1,this.debug&&this.inlineRuntimeFunctions&&this.runtimeFunctionsUsed.push("rethrow")}function tagCanInline(tag){function isInline(node){return"Block"===node.type?node.nodes.every(isInline):"YieldBlock"===node.type||("Text"===node.type&&!/\n/.test(node.val)||node.isInline)}return tag.block.nodes.every(isInline)}var doctypes=require("doctypes"),makeError=require("pug-error"),buildRuntime=require("pug-runtime/build"),runtime=require("pug-runtime"),compileAttrs=require("pug-attrs"),selfClosing=require("void-elements"),constantinople=require("constantinople"),stringify=require("js-stringify"),addWith=require("with"),WHITE_SPACE_SENSITIVE_TAGS={pre:!0,textarea:!0},INTERNAL_VARIABLES=["pug","pug_mixins","pug_interp","pug_debug_filename","pug_debug_line","pug_debug_sources","pug_html"];module.exports=generateCode,module.exports.CodeGenerator=Compiler,Compiler.prototype={runtime:function(name){return this.inlineRuntimeFunctions?(this.runtimeFunctionsUsed.push(name),"pug_"+name):"pug."+name},error:function(message,code,node){throw makeError(code,message,{line:node.line,column:node.column,filename:node.filename})},compile:function(){if(this.buf=[],this.pp&&this.buf.push("var pug_indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node),!this.dynamicMixins)for(var mixinNames=Object.keys(this.mixins),i=0;i<mixinNames.length;i++){var mixin=this.mixins[mixinNames[i]];if(!mixin.used)for(var x=0;x<mixin.instances.length;x++)for(var y=mixin.instances[x].start;y<mixin.instances[x].end;y++)this.buf[y]=""}var js=this.buf.join("\n"),globals=this.options.globals?this.options.globals.concat(INTERNAL_VARIABLES):INTERNAL_VARIABLES;return js=this.options.self?"var self = locals || {};"+js:addWith("locals || {}",js,globals.concat(this.runtimeFunctionsUsed.map(function(name){return"pug_"+name}))),this.debug&&(this.options.includeSources&&(js="var pug_debug_sources = "+stringify(this.options.includeSources)+";\n"+js),js="var pug_debug_filename, pug_debug_line;try {"+js+"} catch (err) {"+(this.inlineRuntimeFunctions?"pug_rethrow":"pug.rethrow")+"(err, pug_debug_filename, pug_debug_line"+(this.options.includeSources?", pug_debug_sources[pug_debug_filename]":"")+");}"),buildRuntime(this.runtimeFunctionsUsed)+"function "+(this.options.templateName||"template")+'(locals) {var pug_html = "", pug_mixins = {}, pug_interp;'+js+";return pug_html;}"},setDoctype:function(name){this.doctype=doctypes[name.toLowerCase()]||"<!DOCTYPE "+name+">",this.terse="<!doctype html>"==this.doctype.toLowerCase(),this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(str){str=stringify(str),str=str.substr(1,str.length-2),this.lastBufferedIdx==this.buf.length&&this.bufferedConcatenationCount<100?("code"===this.lastBufferedType&&(this.lastBuffered+=' + "',this.bufferedConcatenationCount++),this.lastBufferedType="text",this.lastBuffered+=str,this.buf[this.lastBufferedIdx-1]="pug_html = pug_html + "+this.bufferStartChar+this.lastBuffered+'";'):(this.bufferedConcatenationCount=0,this.buf.push('pug_html = pug_html + "'+str+'";'),this.lastBufferedType="text",this.bufferStartChar='"',this.lastBuffered=str,this.lastBufferedIdx=this.buf.length)},bufferExpression:function(src){if(isConstant(src))return this.buffer(toConstant(src)+"");this.lastBufferedIdx==this.buf.length&&this.bufferedConcatenationCount<100?(this.bufferedConcatenationCount++,"text"===this.lastBufferedType&&(this.lastBuffered+='"'),this.lastBufferedType="code",this.lastBuffered+=" + ("+src+")",this.buf[this.lastBufferedIdx-1]="pug_html = pug_html + ("+this.bufferStartChar+this.lastBuffered+");"):(this.bufferedConcatenationCount=0,this.buf.push("pug_html = pug_html + ("+src+");"),this.lastBufferedType="code",this.bufferStartChar="",this.lastBuffered="("+src+")",this.lastBufferedIdx=this.buf.length)},prettyIndent:function(offset,newline){offset=offset||0,newline=newline?"\n":"",this.buffer(newline+Array(this.indents+offset).join(this.pp)),this.parentIndents&&this.buf.push('pug_html = pug_html + pug_indent.join("");')},visit:function(node,parent){var debug=this.debug;if(!node){var msg;throw msg=parent?"A child of "+parent.type+" ("+(parent.filename||"Pug")+":"+parent.line+")":"A top-level node",msg+=" is "+node+", expected a Pug AST Node.",new TypeError(msg)}if(debug&&!1!==node.debug&&"Block"!==node.type&&node.line){var js=";pug_debug_line = "+node.line;node.filename&&(js+=";pug_debug_filename = "+stringify(node.filename)),this.buf.push(js+";")}if(!this["visit"+node.type]){var msg;switch(msg=parent?"A child of "+parent.type:"A top-level node",msg+=" ("+(node.filename||"Pug")+":"+node.line+") is of type "+node.type+", which is not supported by pug-code-gen.",node.type){case"Filter":msg+=" Please use pug-filters to preprocess this AST.";break;case"Extends":case"Include":case"NamedBlock":case"FileReference":msg+=" Please use pug-linker to preprocess this AST."}throw new TypeError(msg)}this.visitNode(node)},visitNode:function(node){return this["visit"+node.type](node)},visitCase:function(node){this.buf.push("switch ("+node.expr+"){"),this.visit(node.block,node),this.buf.push("}")},visitWhen:function(node){"default"==node.expr?this.buf.push("default:"):this.buf.push("case "+node.expr+":"),node.block&&(this.visit(node.block,node),this.buf.push("  break;"))},visitLiteral:function(node){this.buffer(node.str)},visitNamedBlock:function(block){return this.visitBlock(block)},visitBlock:function(block){var escapePrettyMode=this.escapePrettyMode,pp=this.pp;pp&&block.nodes.length>1&&!escapePrettyMode&&"Text"===block.nodes[0].type&&"Text"===block.nodes[1].type&&this.prettyIndent(1,!0);for(var i=0;i<block.nodes.length;++i)pp&&i>0&&!escapePrettyMode&&"Text"===block.nodes[i].type&&"Text"===block.nodes[i-1].type&&/\n$/.test(block.nodes[i-1].val)&&this.prettyIndent(1,!1),this.visit(block.nodes[i],block)},visitMixinBlock:function(block){this.pp&&this.buf.push("pug_indent.push('"+Array(this.indents+1).join(this.pp)+"');"),this.buf.push("block && block();"),this.pp&&this.buf.push("pug_indent.pop();")},visitDoctype:function(doctype){!doctype||!doctype.val&&this.doctype||this.setDoctype(doctype.val||"html"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(mixin){var name="pug_mixins[",args=mixin.args||"",block=mixin.block,attrs=mixin.attrs,attrsBlocks=this.attributeBlocks(mixin.attributeBlocks),pp=this.pp,dynamic="#"===mixin.name[0],key=mixin.name;if(dynamic&&(this.dynamicMixins=!0),name+=(dynamic?mixin.name.substr(2,mixin.name.length-3):'"'+mixin.name+'"')+"]",this.mixins[key]=this.mixins[key]||{used:!1,instances:[]},mixin.call){if(this.mixins[key].used=!0,pp&&this.buf.push("pug_indent.push('"+Array(this.indents+1).join(pp)+"');"),block||attrs.length||attrsBlocks.length){if(this.buf.push(name+".call({"),block){this.buf.push("block: function(){"),this.parentIndents++;var _indents=this.indents;this.indents=0,this.visit(mixin.block,mixin),this.indents=_indents,this.parentIndents--,attrs.length||attrsBlocks.length?this.buf.push("},"):this.buf.push("}")}if(attrsBlocks.length){if(attrs.length){var val=this.attrs(attrs);attrsBlocks.unshift(val)}attrsBlocks.length>1?this.buf.push("attributes: "+this.runtime("merge")+"(["+attrsBlocks.join(",")+"])"):this.buf.push("attributes: "+attrsBlocks[0])}else if(attrs.length){var val=this.attrs(attrs);this.buf.push("attributes: "+val)}args?this.buf.push("}, "+args+");"):this.buf.push("});")}else this.buf.push(name+"("+args+");");pp&&this.buf.push("pug_indent.pop();")}else{var mixin_start=this.buf.length;args=args?args.split(","):[];var rest;args.length&&/^\.\.\./.test(args[args.length-1].trim())&&(rest=args.pop().trim().replace(/^\.\.\./,"")),this.buf.push(name+" = pug_interp = function("+args.join(",")+"){"),this.buf.push("var block = (this && this.block), attributes = (this && this.attributes) || {};"),rest&&(this.buf.push("var "+rest+" = [];"),this.buf.push("for (pug_interp = "+args.length+"; pug_interp < arguments.length; pug_interp++) {"),this.buf.push("  "+rest+".push(arguments[pug_interp]);"),this.buf.push("}")),this.parentIndents++,this.visit(block,mixin),this.parentIndents--,this.buf.push("};");var mixin_end=this.buf.length;this.mixins[key].instances.push({start:mixin_start,end:mixin_end})}},visitTag:function(tag,interpolated){function bufferName(){interpolated?self.bufferExpression(tag.expr):self.buffer(name)}this.indents++;var name=tag.name,pp=this.pp,self=this;!0===WHITE_SPACE_SENSITIVE_TAGS[tag.name]&&(this.escapePrettyMode=!0),this.hasCompiledTag||(this.hasCompiledDoctype||"html"!=name||this.visitDoctype(),this.hasCompiledTag=!0),pp&&!tag.isInline&&this.prettyIndent(0,!0),tag.selfClosing||!this.xml&&selfClosing[tag.name]?(this.buffer("<"),bufferName(),this.visitAttributes(tag.attrs,this.attributeBlocks(tag.attributeBlocks)),this.terse&&!tag.selfClosing?this.buffer(">"):this.buffer("/>"),(tag.code||tag.block&&("Block"!==tag.block.type||0!==tag.block.nodes.length)&&tag.block.nodes.some(function(tag){return"Text"!==tag.type||!/^\s*$/.test(tag.val)}))&&this.error(name+" is a self closing element: <"+name+"/> but contains nested content.","SELF_CLOSING_CONTENT",tag)):(this.buffer("<"),bufferName(),this.visitAttributes(tag.attrs,this.attributeBlocks(tag.attributeBlocks)),this.buffer(">"),tag.code&&this.visitCode(tag.code),this.visit(tag.block,tag),!pp||tag.isInline||!0===WHITE_SPACE_SENSITIVE_TAGS[tag.name]||tagCanInline(tag)||this.prettyIndent(0,!0),this.buffer("</"),bufferName(),this.buffer(">")),!0===WHITE_SPACE_SENSITIVE_TAGS[tag.name]&&(this.escapePrettyMode=!1),this.indents--},visitInterpolatedTag:function(tag){return this.visitTag(tag,!0)},visitText:function(text){this.buffer(text.val)},visitComment:function(comment){comment.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("\x3c!--"+comment.val+"--\x3e"))},visitYieldBlock:function(block){},visitBlockComment:function(comment){comment.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("\x3c!--"+(comment.val||"")),this.visit(comment.block,comment),this.pp&&this.prettyIndent(1,!0),this.buffer("--\x3e"))},visitCode:function(code){if(code.buffer){var val=code.val.trim();val="null == (pug_interp = "+val+') ? "" : pug_interp',!1!==code.mustEscape&&(val=this.runtime("escape")+"("+val+")"),this.bufferExpression(val)}else this.buf.push(code.val);code.block&&(code.buffer||this.buf.push("{"),this.visit(code.block,code),code.buffer||this.buf.push("}"))},visitConditional:function(cond){var test=cond.test;this.buf.push("if ("+test+") {"),this.visit(cond.consequent,cond),this.buf.push("}"),cond.alternate&&("Conditional"===cond.alternate.type?(this.buf.push("else"),this.visitConditional(cond.alternate)):(this.buf.push("else {"),this.visit(cond.alternate,cond),this.buf.push("}")))},visitWhile:function(loop){var test=loop.test;this.buf.push("while ("+test+") {"),this.visit(loop.block,loop),this.buf.push("}")},visitEach:function(each){var indexVarName=each.key||"pug_index"+this.eachCount;this.eachCount++,this.buf.push("// iterate "+each.obj+"\n;(function(){\n  var $$obj = "+each.obj+";\n  if ('number' == typeof $$obj.length) {"),each.alternate&&this.buf.push("    if ($$obj.length) {"),this.buf.push("      for (var "+indexVarName+" = 0, $$l = $$obj.length; "+indexVarName+" < $$l; "+indexVarName+"++) {\n        var "+each.val+" = $$obj["+indexVarName+"];"),this.visit(each.block,each),this.buf.push("      }"),each.alternate&&(this.buf.push("    } else {"),this.visit(each.alternate,each),this.buf.push("    }")),this.buf.push("  } else {\n    var $$l = 0;\n    for (var "+indexVarName+" in $$obj) {\n      $$l++;\n      var "+each.val+" = $$obj["+indexVarName+"];"),this.visit(each.block,each),this.buf.push("    }"),each.alternate&&(this.buf.push("    if ($$l === 0) {"),this.visit(each.alternate,each),this.buf.push("    }")),this.buf.push("  }\n}).call(this);\n")},visitAttributes:function(attrs,attributeBlocks){if(attributeBlocks.length){if(attrs.length){var val=this.attrs(attrs);attributeBlocks.unshift(val)}attributeBlocks.length>1?this.bufferExpression(this.runtime("attrs")+"("+this.runtime("merge")+"(["+attributeBlocks.join(",")+"]), "+stringify(this.terse)+")"):this.bufferExpression(this.runtime("attrs")+"("+attributeBlocks[0]+", "+stringify(this.terse)+")")}else attrs.length&&this.attrs(attrs,!0)},attrs:function(attrs,buffer){var res=compileAttrs(attrs,{terse:this.terse,format:buffer?"html":"object",runtime:this.runtime.bind(this)});return buffer&&this.bufferExpression(res),res},attributeBlocks:function(attributeBlocks){return attributeBlocks&&attributeBlocks.slice().map(function(attrBlock){return attrBlock.val})}}},{constantinople:140,doctypes:220,"js-stringify":238,"pug-attrs":380,"pug-error":382,"pug-runtime":392,"pug-runtime/build":391,"void-elements":458,with:459}],382:[function(require,module,exports){"use strict";function makeError(code,message,options){var fullMessage,line=options.line,column=options.column,filename=options.filename,src=options.src,location=line+(column?":"+column:"");if(src&&line>=1&&line<=src.split("\n").length){var lines=src.split("\n"),start=Math.max(line-3,0),end=Math.min(lines.length,line+3),context=lines.slice(start,end).map(function(text,i){var curr=i+start+1,preamble=(curr==line?"  > ":"    ")+curr+"| ",out=preamble+text;return curr===line&&column>0&&(out+="\n",out+=Array(preamble.length+column).join("-")+"^"),out}).join("\n");fullMessage=(filename||"Pug")+":"+location+"\n"+context+"\n\n"+message}else fullMessage=(filename||"Pug")+":"+location+"\n\n"+message;var err=new Error(fullMessage);return err.code="PUG:"+code,err.msg=message,err.line=line,err.column=column,err.filename=filename,err.src=src,err.toJSON=function(){return{code:this.code,msg:this.msg,line:this.line,column:this.column,filename:this.filename}},err}module.exports=makeError},{}],383:[function(require,module,exports){"use strict";exports.runFilter=require("./lib/run-filter"),exports.handleFilters=require("./lib/handle-filters")},{"./lib/handle-filters":384,"./lib/run-filter":385}],384:[function(require,module,exports){"use strict";function handleFilters(ast,filters,options,filterAliases){function getFilterName(filter){var filterName=filter.name;if(filterAliases&&filterAliases[filterName]&&(filterName=filterAliases[filterName],
filterAliases[filterName]))throw error("FILTER_ALISE_CHAIN",'The filter "'+filter.name+'" is an alias for "'+filterName+'", which is an alias for "'+filterAliases[filterName]+'".  Pug does not support chains of filter aliases.',filter);return filterName}return options=options||{},walk(ast,function(node){function filterWithFallback(filter,text,attrs,funcName){try{var filterName=getFilterName(filter);return filters&&filters[filterName]?filters[filterName](text,attrs):runFilter(filterName,text,attrs,dir,funcName)}catch(ex){if("UNKNOWN_FILTER"===ex.code)throw error(ex.code,ex.message,filter);throw ex}}var dir=node.filename?dirname(node.filename):null;if("Filter"===node.type){handleNestedFilters(node,filters,options,filterAliases);var text=getBodyAsText(node),attrs=getAttributes(node,options);attrs.filename=node.filename,node.type="Text",node.val=filterWithFallback(node,text,attrs)}else if("RawInclude"===node.type&&node.filters.length){var firstFilter=node.filters.pop(),attrs=getAttributes(firstFilter,options),filename=attrs.filename=node.file.fullPath,str=node.file.str;node.type="Text",node.val=function(filter,filename,text,attrs){var filterName=getFilterName(filter);return filters&&filters[filterName]?filters[filterName](text,attrs):filterWithFallback(filter,filename,attrs,"renderFile")}(firstFilter,filename,str,attrs),node.filters.slice().reverse().forEach(function(filter){var attrs=getAttributes(filter,options);attrs.filename=filename,node.val=filterWithFallback(filter,node.val,attrs)}),node.filters=void 0,node.file=void 0}},{includeDependencies:!0}),ast}function handleNestedFilters(node,filters,options,filterAliases){node.block.nodes[0]&&"Filter"===node.block.nodes[0].type&&(node.block.nodes[0]=handleFilters(node.block,filters,options,filterAliases).nodes[0])}function getBodyAsText(node){return node.block.nodes.map(function(node){return node.val}).join("")}function getAttributes(node,options){var attrs={};node.attrs.forEach(function(attr){try{attrs[attr.name]=!0===attr.val||constantinople.toConstant(attr.val)}catch(ex){if(/not constant/.test(ex.message))throw error("FILTER_OPTION_NOT_CONSTANT",ex.message+" All filters are rendered compile-time so filter options must be constants.",node);throw ex}});var opts=options[node.name]||{};return Object.keys(opts).forEach(function(opt){attrs.hasOwnProperty(opt)||(attrs[opt]=opts[opt])}),attrs}var dirname=require("path").dirname,constantinople=require("constantinople"),walk=require("pug-walk"),error=require("pug-error"),runFilter=require("./run-filter");module.exports=handleFilters},{"./run-filter":385,constantinople:140,path:368,"pug-error":382,"pug-walk":398}],385:[function(require,module,exports){(function(process){"use strict";function filter(name,str,options,currentDirectory,funcName){funcName=funcName||"render";var tr;try{try{tr=require(resolve.sync("jstransformer-"+name,{basedir:currentDirectory||process.cwd()}))}catch(ex){tr=require("jstransformer-"+name)}tr=jstransformer(tr)}catch(ex){}if(tr){var result=tr[funcName](str,options,options).body;if(options&&options.minify)try{switch(tr.outputFormat){case"js":result=uglify.minify(result,{fromString:!0}).code;break;case"css":result=(new CleanCSS).minify(result).styles}}catch(ex){}return result}var err=new Error('unknown filter ":'+name+'"');throw err.code="UNKNOWN_FILTER",err}var jstransformer=require("jstransformer"),uglify=require("uglify-js"),CleanCSS=require("clean-css"),resolve=require("resolve");module.exports=filter}).call(this,require("_process"))},{_process:371,"clean-css":44,jstransformer:239,resolve:414,"uglify-js":452}],386:[function(require,module,exports){"use strict";function lex(str,options){var lexer=new Lexer(str,options);return JSON.parse(JSON.stringify(lexer.getTokens()))}function Lexer(str,options){if(options=options||{},"string"!=typeof str)throw new Error('Expected source code to be a string but got "'+typeof str+'"');if("object"!=typeof options)throw new Error('Expected "options" to be an object but got "'+typeof options+'"');str=str.replace(/^\uFEFF/,""),this.input=str.replace(/\r\n|\r/g,"\n"),this.originalInput=this.input,this.filename=options.filename,this.interpolated=options.interpolated||!1,this.lineno=options.startingLine||1,this.colno=options.startingColumn||1,this.plugins=options.plugins||[],this.indentStack=[0],this.indentRe=null,this.interpolationAllowed=!0,this.whitespaceRe=/[ \n\t]/,this.tokens=[],this.ended=!1}var assert=require("assert"),isExpression=require("is-expression"),characterParser=require("character-parser"),error=require("pug-error");module.exports=lex,module.exports.Lexer=Lexer,Lexer.prototype={constructor:Lexer,error:function(code,message){throw error(code,message,{line:this.lineno,column:this.colno,filename:this.filename,src:this.originalInput})},assert:function(value,message){value||this.error("ASSERT_FAILED",message)},isExpression:function(exp){return isExpression(exp,{throw:!0})},assertExpression:function(exp,noThrow){try{return this.callLexerFunction("isExpression",exp),!0}catch(ex){if(noThrow)return!1;if(!ex.loc)throw ex;this.incrementLine(ex.loc.line-1),this.incrementColumn(ex.loc.column);var msg="Syntax Error: "+ex.message.replace(/ \([0-9]+:[0-9]+\)$/,"");this.error("SYNTAX_ERROR",msg)}},assertNestingCorrect:function(exp){characterParser(exp).isNesting()&&this.error("INCORRECT_NESTING","Nesting must match on expression `"+exp+"`")},tok:function(type,val){var res={type:type,loc:{start:{line:this.lineno,column:this.colno},filename:this.filename}};return void 0!==val&&(res.val=val),res},tokEnd:function(tok){return tok.loc.end={line:this.lineno,column:this.colno},tok},incrementLine:function(increment){this.lineno+=increment,increment&&(this.colno=1)},incrementColumn:function(increment){this.colno+=increment},consume:function(len){this.input=this.input.substr(len)},scan:function(regexp,type){var captures;if(captures=regexp.exec(this.input)){var len=captures[0].length,val=captures[1],diff=len-(val?val.length:0),tok=this.tok(type,val);return this.consume(len),this.incrementColumn(diff),tok}},scanEndOfLine:function(regexp,type){var captures;if(captures=regexp.exec(this.input)){var whitespace,tok,whitespaceLength=0;(whitespace=/^([ ]+)([^ ]*)/.exec(captures[0]))&&(whitespaceLength=whitespace[1].length,this.incrementColumn(whitespaceLength));var newInput=this.input.substr(captures[0].length);if(":"===newInput[0])return this.input=newInput,tok=this.tok(type,captures[1]),this.incrementColumn(captures[0].length-whitespaceLength),tok;if(/^[ \t]*(\n|$)/.test(newInput))return this.input=newInput.substr(/^[ \t]*/.exec(newInput)[0].length),tok=this.tok(type,captures[1]),this.incrementColumn(captures[0].length-whitespaceLength),tok}},bracketExpression:function(skip){skip=skip||0;var start=this.input[skip];assert("("===start||"{"===start||"["===start,'The start character should be "(", "{" or "["');var range,end=characterParser.BRACKETS[start];try{range=characterParser.parseUntil(this.input,end,{start:skip+1})}catch(ex){if(void 0!==ex.index){for(var idx=ex.index,tmp=this.input.substr(skip).indexOf("\n"),nextNewline=tmp+skip,ptr=0;idx>nextNewline&&-1!==tmp;)this.incrementLine(1),idx-=nextNewline+1,ptr+=nextNewline+1,tmp=nextNewline=this.input.substr(ptr).indexOf("\n");this.incrementColumn(idx)}throw"CHARACTER_PARSER:END_OF_STRING_REACHED"===ex.code?this.error("NO_END_BRACKET","The end of the string reached with no closing bracket "+end+" found."):"CHARACTER_PARSER:MISMATCHED_BRACKET"===ex.code&&this.error("BRACKET_MISMATCH",ex.message),ex}return range},scanIndentation:function(){var captures,re;return this.indentRe?captures=this.indentRe.exec(this.input):(re=/^\n(\t*) */,captures=re.exec(this.input),captures&&!captures[1].length&&(re=/^\n( *)/,captures=re.exec(this.input)),captures&&captures[1].length&&(this.indentRe=re)),captures},eos:function(){if(!this.input.length){this.interpolated&&this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.");for(var i=0;this.indentStack[i];i++)this.tokens.push(this.tokEnd(this.tok("outdent")));return this.tokens.push(this.tokEnd(this.tok("eos"))),this.ended=!0,!0}},blank:function(){var captures;if(captures=/^\n[ \t]*\n/.exec(this.input))return this.consume(captures[0].length-1),this.incrementLine(1),!0},comment:function(){var captures;if(captures=/^\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("comment",captures[2]);return tok.buffer="-"!=captures[1],this.interpolationAllowed=tok.buffer,this.tokens.push(tok),this.incrementColumn(captures[0].length),this.tokEnd(tok),this.callLexerFunction("pipelessText"),!0}},interpolation:function(){if(/^#\{/.test(this.input)){var match=this.bracketExpression(1);this.consume(match.end+1);var tok=this.tok("interpolation",match.src);this.tokens.push(tok),this.incrementColumn(2),this.assertExpression(match.src);var splitted=match.src.split("\n"),lines=splitted.length-1;return this.incrementLine(lines),this.incrementColumn(splitted[lines].length+1),this.tokEnd(tok),!0}},tag:function(){var captures;if(captures=/^(\w(?:[-:\w]*\w)?)/.exec(this.input)){var tok,name=captures[1],len=captures[0].length;return this.consume(len),tok=this.tok("tag",name),this.tokens.push(tok),this.incrementColumn(len),this.tokEnd(tok),!0}},filter:function(opts){var tok=this.scan(/^:([\w\-]+)/,"filter"),inInclude=opts&&opts.inInclude;if(tok)return this.tokens.push(tok),this.incrementColumn(tok.val.length),this.tokEnd(tok),this.callLexerFunction("attrs"),inInclude||(this.interpolationAllowed=!1,this.callLexerFunction("pipelessText")),!0},doctype:function(){var node=this.scanEndOfLine(/^doctype *([^\n]*)/,"doctype");if(node)return this.tokens.push(this.tokEnd(node)),!0},id:function(){var tok=this.scan(/^#([\w-]+)/,"id");if(tok)return this.tokens.push(tok),this.incrementColumn(tok.val.length),this.tokEnd(tok),!0;/^#/.test(this.input)&&this.error("INVALID_ID",'"'+/.[^ \t\(\#\.\:]*/.exec(this.input.substr(1))[0]+'" is not a valid ID.')},className:function(){var tok=this.scan(/^\.([_a-z0-9\-]*[_a-z][_a-z0-9\-]*)/i,"class");if(tok)return this.tokens.push(tok),this.incrementColumn(tok.val.length),this.tokEnd(tok),!0;/^\.[_a-z0-9\-]+/i.test(this.input)&&this.error("INVALID_CLASS_NAME","Class names must contain at least one letter or underscore."),/^\./.test(this.input)&&this.error("INVALID_CLASS_NAME",'"'+/.[^ \t\(\#\.\:]*/.exec(this.input.substr(1))[0]+'" is not a valid class name.  Class names can only contain "_", "-", a-z and 0-9, and must contain at least one of "_", or a-z')},endInterpolation:function(){if(this.interpolated&&"]"===this.input[0])return this.input=this.input.substr(1),this.ended=!0,!0},addText:function(type,value,prefix,escaped){var tok;if(value+prefix!==""){prefix=prefix||"",escaped=escaped||0;var indexOfEnd=this.interpolated?value.indexOf("]"):-1,indexOfStart=this.interpolationAllowed?value.indexOf("#["):-1,indexOfEscaped=this.interpolationAllowed?value.indexOf("\\#["):-1,matchOfStringInterp=/(\\)?([#!]){((?:.|\n)*)$/.exec(value),indexOfStringInterp=this.interpolationAllowed&&matchOfStringInterp?matchOfStringInterp.index:1/0;if(-1===indexOfEnd&&(indexOfEnd=1/0),-1===indexOfStart&&(indexOfStart=1/0),-1===indexOfEscaped&&(indexOfEscaped=1/0),indexOfEscaped!==1/0&&indexOfEscaped<indexOfEnd&&indexOfEscaped<indexOfStart&&indexOfEscaped<indexOfStringInterp)return prefix=prefix+value.substring(0,indexOfEscaped)+"#[",this.addText(type,value.substring(indexOfEscaped+3),prefix,escaped+1);if(indexOfStart!==1/0&&indexOfStart<indexOfEnd&&indexOfStart<indexOfEscaped&&indexOfStart<indexOfStringInterp){tok=this.tok(type,prefix+value.substring(0,indexOfStart)),this.incrementColumn(prefix.length+indexOfStart+escaped),this.tokens.push(this.tokEnd(tok)),tok=this.tok("start-pug-interpolation"),this.incrementColumn(2),this.tokens.push(this.tokEnd(tok));var interpolated,child=new this.constructor(value.substr(indexOfStart+2),{filename:this.filename,interpolated:!0,startingLine:this.lineno,startingColumn:this.colno});try{interpolated=child.getTokens()}catch(ex){throw ex.code&&/^PUG:/.test(ex.code)&&(this.colno=ex.column,this.error(ex.code.substr(4),ex.msg)),ex}return this.colno=child.colno,this.tokens=this.tokens.concat(interpolated),tok=this.tok("end-pug-interpolation"),this.incrementColumn(1),this.tokens.push(this.tokEnd(tok)),void this.addText(type,child.input)}if(indexOfEnd!==1/0&&indexOfEnd<indexOfStart&&indexOfEnd<indexOfEscaped&&indexOfEnd<indexOfStringInterp)return prefix+value.substring(0,indexOfEnd)&&this.addText(type,value.substring(0,indexOfEnd),prefix),this.ended=!0,void(this.input=value.substr(value.indexOf("]")+1)+this.input);if(indexOfStringInterp!==1/0){if(matchOfStringInterp[1])return prefix=prefix+value.substring(0,indexOfStringInterp)+"#{",this.addText(type,value.substring(indexOfStringInterp+3),prefix,escaped+1);var before=value.substr(0,indexOfStringInterp);(prefix||before)&&(before=prefix+before,tok=this.tok(type,before),this.incrementColumn(before.length+escaped),this.tokens.push(this.tokEnd(tok)));var range,rest=matchOfStringInterp[3];tok=this.tok("interpolated-code"),this.incrementColumn(2);try{range=characterParser.parseUntil(rest,"}")}catch(ex){if(void 0!==ex.index&&this.incrementColumn(ex.index),"CHARACTER_PARSER:END_OF_STRING_REACHED"===ex.code)this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.");else{if("CHARACTER_PARSER:MISMATCHED_BRACKET"!==ex.code)throw ex;this.error("BRACKET_MISMATCH",ex.message)}}return tok.mustEscape="#"===matchOfStringInterp[2],tok.buffer=!0,tok.val=range.src,this.assertExpression(range.src),void(range.end+1<rest.length?(rest=rest.substr(range.end+1),this.incrementColumn(range.end+1),this.tokens.push(this.tokEnd(tok)),this.addText(type,rest)):(this.incrementColumn(rest.length),this.tokens.push(this.tokEnd(tok))))}value=prefix+value,tok=this.tok(type,value),this.incrementColumn(value.length+escaped),this.tokens.push(this.tokEnd(tok))}},text:function(){var tok=this.scan(/^(?:\| ?| )([^\n]+)/,"text")||this.scan(/^( )/,"text")||this.scan(/^\|( ?)/,"text");if(tok)return this.addText("text",tok.val),!0},textHtml:function(){var tok=this.scan(/^(<[^\n]*)/,"text-html");if(tok)return this.addText("text-html",tok.val),!0},dot:function(){var tok;if(tok=this.scanEndOfLine(/^\./,"dot"))return this.tokens.push(this.tokEnd(tok)),this.callLexerFunction("pipelessText"),!0},extends:function(){var tok=this.scan(/^extends?(?= |$|\n)/,"extends");if(tok)return this.tokens.push(this.tokEnd(tok)),this.callLexerFunction("path")||this.error("NO_EXTENDS_PATH","missing path for extends"),!0;this.scan(/^extends?\b/)&&this.error("MALFORMED_EXTENDS","malformed extends")},prepend:function(){var captures;if(captures=/^(?:block +)?prepend +([^\n]+)/.exec(this.input)){var name=captures[1].trim(),comment="";if(-1!==name.indexOf("//")&&(comment="//"+name.split("//").slice(1).join("//"),name=name.split("//")[0].trim()),!name)return;for(var tok=this.tok("block",name),len=captures[0].length-comment.length;this.whitespaceRe.test(this.input.charAt(len-1));)len--;return this.incrementColumn(len),tok.mode="prepend",this.tokens.push(this.tokEnd(tok)),this.consume(captures[0].length-comment.length),this.incrementColumn(captures[0].length-comment.length-len),!0}},append:function(){var captures;if(captures=/^(?:block +)?append +([^\n]+)/.exec(this.input)){var name=captures[1].trim(),comment="";if(-1!==name.indexOf("//")&&(comment="//"+name.split("//").slice(1).join("//"),name=name.split("//")[0].trim()),!name)return;for(var tok=this.tok("block",name),len=captures[0].length-comment.length;this.whitespaceRe.test(this.input.charAt(len-1));)len--;return this.incrementColumn(len),tok.mode="append",this.tokens.push(this.tokEnd(tok)),this.consume(captures[0].length-comment.length),this.incrementColumn(captures[0].length-comment.length-len),!0}},block:function(){var captures;if(captures=/^block +([^\n]+)/.exec(this.input)){var name=captures[1].trim(),comment="";if(-1!==name.indexOf("//")&&(comment="//"+name.split("//").slice(1).join("//"),name=name.split("//")[0].trim()),!name)return;for(var tok=this.tok("block",name),len=captures[0].length-comment.length;this.whitespaceRe.test(this.input.charAt(len-1));)len--;return this.incrementColumn(len),tok.mode="replace",this.tokens.push(this.tokEnd(tok)),this.consume(captures[0].length-comment.length),this.incrementColumn(captures[0].length-comment.length-len),!0}},mixinBlock:function(){var tok;if(tok=this.scanEndOfLine(/^block/,"mixin-block"))return this.tokens.push(this.tokEnd(tok)),!0},yield:function(){var tok=this.scanEndOfLine(/^yield/,"yield");if(tok)return this.tokens.push(this.tokEnd(tok)),!0},include:function(){var tok=this.scan(/^include(?=:| |$|\n)/,"include");if(tok){for(this.tokens.push(this.tokEnd(tok));this.callLexerFunction("filter",{inInclude:!0}););return this.callLexerFunction("path")||(/^[^ \n]+/.test(this.input)?this.fail():this.error("NO_INCLUDE_PATH","missing path for include")),!0}this.scan(/^include\b/)&&this.error("MALFORMED_INCLUDE","malformed include")},path:function(){var tok=this.scanEndOfLine(/^ ([^\n]+)/,"path");if(tok&&(tok.val=tok.val.trim()))return this.tokens.push(this.tokEnd(tok)),!0},case:function(){var tok=this.scanEndOfLine(/^case +([^\n]+)/,"case");if(tok)return this.incrementColumn(-tok.val.length),this.assertExpression(tok.val),this.incrementColumn(tok.val.length),this.tokens.push(this.tokEnd(tok)),!0;this.scan(/^case\b/)&&this.error("NO_CASE_EXPRESSION","missing expression for case")},when:function(){var tok=this.scanEndOfLine(/^when +([^:\n]+)/,"when");if(tok){for(var parser=characterParser(tok.val);parser.isNesting()||parser.isString();){var rest=/:([^:\n]+)/.exec(this.input);if(!rest)break;tok.val+=rest[0],this.consume(rest[0].length),this.incrementColumn(rest[0].length),parser=characterParser(tok.val)}return this.incrementColumn(-tok.val.length),this.assertExpression(tok.val),this.incrementColumn(tok.val.length),this.tokens.push(this.tokEnd(tok)),!0}this.scan(/^when\b/)&&this.error("NO_WHEN_EXPRESSION","missing expression for when")},default:function(){var tok=this.scanEndOfLine(/^default/,"default");if(tok)return this.tokens.push(this.tokEnd(tok)),!0;this.scan(/^default\b/)&&this.error("DEFAULT_WITH_EXPRESSION","default should not have an expression")},call:function(){var tok,captures,increment;if(captures=/^\+(\s*)(([-\w]+)|(#\{))/.exec(this.input)){if(captures[3])increment=captures[0].length,this.consume(increment),tok=this.tok("call",captures[3]);else{var match=this.bracketExpression(2+captures[1].length);increment=match.end+1,this.consume(increment),this.assertExpression(match.src),tok=this.tok("call","#{"+match.src+"}")}if(this.incrementColumn(increment),tok.args=null,captures=/^ *\(/.exec(this.input)){var range=this.bracketExpression(captures[0].length-1);if(!/^\s*[-\w]+ *=/.test(range.src)){this.incrementColumn(1),this.consume(range.end+1),tok.args=range.src,this.assertExpression("["+tok.args+"]");for(var i=0;i<=tok.args.length;i++)"\n"===tok.args[i]?this.incrementLine(1):this.incrementColumn(1)}}return this.tokens.push(this.tokEnd(tok)),!0}},mixin:function(){var captures;if(captures=/^mixin +([-\w]+)(?: *\((.*)\))? */.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("mixin",captures[1]);return tok.args=captures[2]||null,this.incrementColumn(captures[0].length),this.tokens.push(this.tokEnd(tok)),!0}},conditional:function(){var captures;if(captures=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(captures[0].length);var type=captures[1].replace(/ /g,"-"),js=captures[2]&&captures[2].trim(),tok=this.tok(type,js);switch(this.incrementColumn(captures[0].length-js.length),type){case"if":case"else-if":this.assertExpression(js);break;case"unless":this.assertExpression(js),tok.val="!("+js+")",tok.type="if";break;case"else":js&&this.error("ELSE_CONDITION","`else` cannot have a condition, perhaps you meant `else if`")}return this.incrementColumn(js.length),this.tokens.push(this.tokEnd(tok)),!0}},while:function(){var captures,tok;if(captures=/^while +([^\n]+)/.exec(this.input))return this.consume(captures[0].length),this.assertExpression(captures[1]),tok=this.tok("while",captures[1]),this.incrementColumn(captures[0].length),this.tokens.push(this.tokEnd(tok)),!0;this.scan(/^while\b/)&&this.error("NO_WHILE_EXPRESSION","missing expression for while")},each:function(){var captures;if(captures=/^(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? * in *([^\n]+)/.exec(this.input)){this.consume(captures[0].length);var tok=this.tok("each",captures[1]);return tok.key=captures[2]||null,this.incrementColumn(captures[0].length-captures[3].length),this.assertExpression(captures[3]),tok.code=captures[3],this.incrementColumn(captures[3].length),this.tokens.push(this.tokEnd(tok)),!0}this.scan(/^(?:each|for)\b/)&&this.error("MALFORMED_EACH","malformed each"),(captures=/^- *(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? +in +([^\n]+)/.exec(this.input))&&this.error("MALFORMED_EACH",'Pug each and for should no longer be prefixed with a dash ("-"). They are pug keywords and not part of JavaScript.')},code:function(){var captures;if(captures=/^(!?=|-)[ \t]*([^\n]+)/.exec(this.input)){var flags=captures[1],code=captures[2],shortened=0;if(this.interpolated){var parsed;try{parsed=characterParser.parseUntil(code,"]")}catch(err){if(void 0!==err.index&&this.incrementColumn(captures[0].length-code.length+err.index),"CHARACTER_PARSER:END_OF_STRING_REACHED"===err.code)this.error("NO_END_BRACKET","End of line was reached with no closing bracket for interpolation.");else{if("CHARACTER_PARSER:MISMATCHED_BRACKET"!==err.code)throw err;this.error("BRACKET_MISMATCH",err.message)}}shortened=code.length-parsed.end,code=parsed.src}var consumed=captures[0].length-shortened;this.consume(consumed);var tok=this.tok("code",code);return tok.mustEscape="="===flags.charAt(0),tok.buffer="="===flags.charAt(0)||"="===flags.charAt(1),this.incrementColumn(captures[0].length-captures[2].length),tok.buffer&&this.assertExpression(code),this.tokens.push(tok),this.incrementColumn(code.length),this.tokEnd(tok),!0}},blockCode:function(){var tok;if(tok=this.scanEndOfLine(/^-/,"blockcode"))return this.tokens.push(this.tokEnd(tok)),this.interpolationAllowed=!1,this.callLexerFunction("pipelessText"),!0},attribute:function(str){var i,quote="",quoteRe=/['"]/,key="";for(i=0;i<str.length&&this.whitespaceRe.test(str[i]);i++)"\n"===str[i]?this.incrementLine(1):this.incrementColumn(1);if(i===str.length)return"";var tok=this.tok("attribute");for(quoteRe.test(str[i])&&(quote=str[i],this.incrementColumn(1),i++);i<str.length;i++){if(quote){if(str[i]===quote){this.incrementColumn(1),i++;break}}else if(this.whitespaceRe.test(str[i])||"!"===str[i]||"="===str[i]||","===str[i])break;key+=str[i],"\n"===str[i]?this.incrementLine(1):this.incrementColumn(1)}tok.name=key;var valueResponse=this.attributeValue(str.substr(i));for(valueResponse.val?(tok.val=valueResponse.val,tok.mustEscape=valueResponse.mustEscape):(tok.val=!0,tok.mustEscape=!0),str=valueResponse.remainingSource,this.tokens.push(this.tokEnd(tok)),i=0;i<str.length&&this.whitespaceRe.test(str[i]);i++)"\n"===str[i]?this.incrementLine(1):this.incrementColumn(1);return","===str[i]&&(this.incrementColumn(1),i++),str.substr(i)},attributeValue:function(str){var done,i,x,quoteRe=/['"]/,val="",escapeAttr=!0,state=characterParser.defaultState(),col=this.colno,line=this.lineno;for(i=0;i<str.length&&this.whitespaceRe.test(str[i]);i++)"\n"===str[i]?(line++,col=1):col++;if(i===str.length)return{remainingSource:str};if("!"===str[i]&&(escapeAttr=!1,col++,i++,"="!==str[i]&&this.error("INVALID_KEY_CHARACTER","Unexpected character "+str[i]+" expected `=`")),"="!==str[i]){if(0!==i||!str||this.whitespaceRe.test(str[0])||","===str[0])return{remainingSource:str};this.error("INVALID_KEY_CHARACTER","Unexpected character "+str[0]+" expected `=`")}for(this.lineno=line,this.colno=col+1,i++;i<str.length&&this.whitespaceRe.test(str[i]);i++)"\n"===str[i]?this.incrementLine(1):this.incrementColumn(1);for(line=this.lineno,col=this.colno;i<str.length;i++){if(!state.isNesting()&&!state.isString()){if(this.whitespaceRe.test(str[i])){for(done=!1,x=i;x<str.length;x++)if(!this.whitespaceRe.test(str[x])){characterParser.isPunctuator(str[x])&&!quoteRe.test(str[x])&&":"!==str[x]||!this.assertExpression(val,!0)||(done=!0);break}if(done||x===str.length)break}if(","===str[i]&&this.assertExpression(val,!0))break}state=characterParser.parseChar(str[i],state),val+=str[i],"\n"===str[i]?(line++,col=1):col++}return this.assertExpression(val),this.lineno=line,this.colno=col,{val:val,mustEscape:escapeAttr,remainingSource:str.substr(i)}},attrs:function(){var tok;if("("==this.input.charAt(0)){tok=this.tok("start-attributes");var index=this.bracketExpression().end,str=this.input.substr(1,index-1);for(this.incrementColumn(1),this.tokens.push(this.tokEnd(tok)),this.assertNestingCorrect(str),this.consume(index+1);str;)str=this.attribute(str);return tok=this.tok("end-attributes"),this.incrementColumn(1),this.tokens.push(this.tokEnd(tok)),!0}},attributesBlock:function(){if(/^&attributes\b/.test(this.input)){var consumed=11;this.consume(consumed);var tok=this.tok("&attributes");this.incrementColumn(consumed);var args=this.bracketExpression();return consumed=args.end+1,this.consume(consumed),tok.val=args.src,this.incrementColumn(consumed),this.tokens.push(this.tokEnd(tok)),!0}},indent:function(){var tok,captures=this.scanIndentation();if(captures){var indents=captures[1].length;if(this.incrementLine(1),this.consume(indents+1)," "!=this.input[0]&&"\t"!=this.input[0]||this.error("INVALID_INDENTATION","Invalid indentation, you can use tabs or spaces but not both"),"\n"==this.input[0])return this.interpolationAllowed=!0,this.tokEnd(this.tok("newline"));if(indents<this.indentStack[0]){for(var outdent_count=0;this.indentStack[0]>indents;)this.indentStack[1]<indents&&this.error("INCONSISTENT_INDENTATION","Inconsistent indentation. Expecting either "+this.indentStack[1]+" or "+this.indentStack[0]+" spaces/tabs."),outdent_count++,this.indentStack.shift();for(;outdent_count--;)this.colno=1,tok=this.tok("outdent"),this.colno=this.indentStack[0]+1,this.tokens.push(this.tokEnd(tok))}else indents&&indents!=this.indentStack[0]?(tok=this.tok("indent",indents),this.colno=1+indents,this.tokens.push(this.tokEnd(tok)),this.indentStack.unshift(indents)):(tok=this.tok("newline"),this.colno=1+Math.min(this.indentStack[0]||0,indents),this.tokens.push(this.tokEnd(tok)));return this.interpolationAllowed=!0,!0}},pipelessText:function pipelessText(indents){for(;this.callLexerFunction("blank"););var captures=this.scanIndentation();if((indents=indents||captures&&captures[1].length)>this.indentStack[0]){this.tokens.push(this.tokEnd(this.tok("start-pipeless-text")));var isMatch,tokens=[],token_indent=[],stringPtr=0;do{var i=this.input.substr(stringPtr+1).indexOf("\n");-1==i&&(i=this.input.length-stringPtr-1);var str=this.input.substr(stringPtr+1,i),lineCaptures=this.indentRe.exec("\n"+str),lineIndents=lineCaptures&&lineCaptures[1].length;if(isMatch=lineIndents>=indents,token_indent.push(isMatch),isMatch=isMatch||!str.trim())stringPtr+=str.length+1,tokens.push(str.substr(indents));else if(lineIndents>this.indentStack[0])return this.tokens.pop(),pipelessText.call(this,lineCaptures[1].length)}while(this.input.length-stringPtr&&isMatch);for(this.consume(stringPtr);0===this.input.length&&""===tokens[tokens.length-1];)tokens.pop();return tokens.forEach(function(token,i){var tok;this.incrementLine(1),0!==i&&(tok=this.tok("newline")),token_indent[i]&&this.incrementColumn(indents),tok&&this.tokens.push(this.tokEnd(tok)),this.addText("text",token)}.bind(this)),this.tokens.push(this.tokEnd(this.tok("end-pipeless-text"))),!0}},slash:function(){var tok=this.scan(/^\//,"slash");if(tok)return this.tokens.push(this.tokEnd(tok)),!0},colon:function(){var tok=this.scan(/^: +/,":");if(tok)return this.tokens.push(this.tokEnd(tok)),!0},fail:function(){this.error("UNEXPECTED_TEXT",'unexpected text "'+this.input.substr(0,5)+'"')},callLexerFunction:function(func){for(var rest=[],i=1;i<arguments.length;i++)rest.push(arguments[i]);for(var pluginArgs=[this].concat(rest),i=0;i<this.plugins.length;i++){var plugin=this.plugins[i];if(plugin[func]&&plugin[func].apply(plugin,pluginArgs))return!0}return this[func].apply(this,rest)},advance:function(){return this.callLexerFunction("blank")||this.callLexerFunction("eos")||this.callLexerFunction("endInterpolation")||this.callLexerFunction("yield")||this.callLexerFunction("doctype")||this.callLexerFunction("interpolation")||this.callLexerFunction("case")||this.callLexerFunction("when")||this.callLexerFunction("default")||this.callLexerFunction("extends")||this.callLexerFunction("append")||this.callLexerFunction("prepend")||this.callLexerFunction("block")||this.callLexerFunction("mixinBlock")||this.callLexerFunction("include")||this.callLexerFunction("mixin")||this.callLexerFunction("call")||this.callLexerFunction("conditional")||this.callLexerFunction("each")||this.callLexerFunction("while")||this.callLexerFunction("tag")||this.callLexerFunction("filter")||this.callLexerFunction("blockCode")||this.callLexerFunction("code")||this.callLexerFunction("id")||this.callLexerFunction("dot")||this.callLexerFunction("className")||this.callLexerFunction("attrs")||this.callLexerFunction("attributesBlock")||this.callLexerFunction("indent")||this.callLexerFunction("text")||this.callLexerFunction("textHtml")||this.callLexerFunction("comment")||this.callLexerFunction("slash")||this.callLexerFunction("colon")||this.fail()},getTokens:function(){for(;!this.ended;)this.callLexerFunction("advance");return this.tokens}}},{assert:8,"character-parser":43,"is-expression":233,"pug-error":382}],387:[function(require,module,exports){"use strict";function error(){throw require("pug-error").apply(null,arguments)}function link(ast){assert("Block"===ast.type,"The top level element should always be a block");var extendsNode=null;if(ast.nodes.length){var hasExtends="Extends"===ast.nodes[0].type;checkExtendPosition(ast,hasExtends),hasExtends&&(extendsNode=ast.nodes.shift())}if(ast=applyIncludes(ast),ast.declaredBlocks=findDeclaredBlocks(ast),extendsNode){var mixins=[],expectedBlocks=[];ast.nodes.forEach(function addNode(node){"NamedBlock"===node.type?expectedBlocks.push(node):"Block"===node.type?node.nodes.forEach(addNode):"Mixin"===node.type&&!1===node.call?mixins.push(node):error("UNEXPECTED_NODES_IN_EXTENDING_ROOT","Only named blocks and mixins can appear at the top level of an extending template",node)});var parent=link(extendsNode.file.ast);extend(parent.declaredBlocks,ast);var foundBlockNames=[];return walk(parent,function(node){"NamedBlock"===node.type&&foundBlockNames.push(node.name)}),expectedBlocks.forEach(function(expectedBlock){-1===foundBlockNames.indexOf(expectedBlock.name)&&error("UNEXPECTED_BLOCK","Unexpected block "+expectedBlock.name,expectedBlock)}),Object.keys(ast.declaredBlocks).forEach(function(name){parent.declaredBlocks[name]=ast.declaredBlocks[name]}),parent.nodes=mixins.concat(parent.nodes),parent.hasExtends=!0,parent}return ast}function findDeclaredBlocks(ast){var definitions={};return walk(ast,function(node){"NamedBlock"===node.type&&"replace"===node.mode&&(definitions[node.name]=definitions[node.name]||[],definitions[node.name].push(node))}),definitions}function flattenParentBlocks(parentBlocks,accumulator){return accumulator=accumulator||[],parentBlocks.forEach(function(parentBlock){parentBlock.parents&&flattenParentBlocks(parentBlock.parents,accumulator),accumulator.push(parentBlock)}),accumulator}function extend(parentBlocks,ast){var stack={};walk(ast,function(node){if("NamedBlock"===node.type){if(stack[node.name]===node.name)return node.ignore=!0;stack[node.name]=node.name;var parentBlockList=parentBlocks[node.name]?flattenParentBlocks(parentBlocks[node.name]):[];parentBlockList.length&&(node.parents=parentBlockList,
parentBlockList.forEach(function(parentBlock){switch(node.mode){case"append":parentBlock.nodes=parentBlock.nodes.concat(node.nodes);break;case"prepend":parentBlock.nodes=node.nodes.concat(parentBlock.nodes);break;case"replace":parentBlock.nodes=node.nodes}}))}},function(node){"NamedBlock"!==node.type||node.ignore||delete stack[node.name]})}function applyIncludes(ast,child){return walk(ast,function(node,replace){"RawInclude"===node.type&&replace({type:"Text",val:node.file.str.replace(/\r/g,"")})},function(node,replace){if("Include"===node.type){var childAST=link(node.file.ast);childAST.hasExtends&&(childAST=removeBlocks(childAST)),replace(applyYield(childAST,node.block))}})}function removeBlocks(ast){return walk(ast,function(node,replace){"NamedBlock"===node.type&&replace({type:"Block",nodes:node.nodes})})}function applyYield(ast,block){function defaultYieldLocation(node){for(var res=node,i=0;i<node.nodes.length;i++)node.nodes[i].textOnly||("Block"===node.nodes[i].type?res=defaultYieldLocation(node.nodes[i]):node.nodes[i].block&&node.nodes[i].block.nodes.length&&(res=defaultYieldLocation(node.nodes[i].block)));return res}if(!block||!block.nodes.length)return ast;var replaced=!1;return ast=walk(ast,null,function(node,replace){"YieldBlock"===node.type&&(replaced=!0,node.type="Block",node.nodes=[block])}),replaced||defaultYieldLocation(ast).nodes.push(block),ast}function checkExtendPosition(ast,hasExtends){var legitExtendsReached=!1;walk(ast,function(node){"Extends"===node.type&&(hasExtends&&!legitExtendsReached?legitExtendsReached=!0:error("EXTENDS_NOT_FIRST",'Declaration of template inheritance ("extends") should be the first thing in the file. There can only be one extends statement per file.',node))})}var assert=require("assert"),walk=require("pug-walk");module.exports=link},{assert:8,"pug-error":382,"pug-walk":398}],388:[function(require,module,exports){"use strict";function load(ast,options){return options=getOptions(options),ast=JSON.parse(JSON.stringify(ast)),walk(ast,function(node){if(void 0===node.str&&("Include"===node.type||"RawInclude"===node.type||"Extends"===node.type)){var file=node.file;if("FileReference"!==file.type)throw new Error('Expected file.type to be "FileReference"');var path,str;try{path=options.resolve(file.path,file.filename,options),file.fullPath=path,str=options.read(path,options)}catch(ex){throw ex.message+="\n    at "+node.filename+" line "+node.line,ex}file.str=str,"Extends"!==node.type&&"Include"!==node.type||(file.ast=load.string(str,assign({},options,{filename:path})))}})}function getOptions(options){return load.validateOptions(options),assign({resolve:load.resolve,read:load.read},options)}var fs=require("fs"),path=require("path"),walk=require("pug-walk"),assign=require("object-assign");module.exports=load,load.string=function(src,options){options=assign(getOptions(options),{src:src});var tokens=options.lex(src,options);return load(options.parse(tokens,options),options)},load.file=function(filename,options){options=assign(getOptions(options),{filename:filename});var str=options.read(filename);return load.string(str,options)},load.resolve=function(filename,source,options){if(filename=filename.trim(),"/"!==filename[0]&&!source)throw new Error('the "filename" option is required to use includes and extends with "relative" paths');if("/"===filename[0]&&!options.basedir)throw new Error('the "basedir" option is required to use includes and extends with "absolute" paths');return filename=path.join("/"===filename[0]?options.basedir:path.dirname(source.trim()),filename)},load.read=function(filename,options){return fs.readFileSync(filename,"utf8")},load.validateOptions=function(options){if("object"!=typeof options)throw new TypeError("options must be an object");if("function"!=typeof options.lex)throw new TypeError("options.lex must be a function");if("function"!=typeof options.parse)throw new TypeError("options.parse must be a function");if(options.resolve&&"function"!=typeof options.resolve)throw new TypeError("options.resolve must be a function");if(options.read&&"function"!=typeof options.read)throw new TypeError("options.read must be a function")}},{fs:40,"object-assign":366,path:368,"pug-walk":398}],389:[function(require,module,exports){"use strict";function parse(tokens,options){var parser=new Parser(tokens,options),ast=parser.parse();return JSON.parse(JSON.stringify(ast))}function Parser(tokens,options){if(options=options||{},!Array.isArray(tokens))throw new Error('Expected tokens to be an Array but got "'+typeof tokens+'"');if("object"!=typeof options)throw new Error('Expected "options" to be an object but got "'+typeof options+'"');this.tokens=new TokenStream(tokens),this.filename=options.filename,this.src=options.src,this.inMixin=0,this.plugins=options.plugins||[]}var assert=require("assert"),TokenStream=require("token-stream"),error=require("pug-error"),inlineTags=require("./lib/inline-tags");module.exports=parse,module.exports.Parser=Parser,Parser.prototype={constructor:Parser,error:function(code,message,token){throw error(code,message,{line:token.loc.start.line,column:token.loc.start.column,filename:this.filename,src:this.src})},advance:function(){return this.tokens.advance()},peek:function(){return this.tokens.peek()},lookahead:function(n){return this.tokens.lookahead(n)},parse:function(){for(var block=this.emptyBlock(0);"eos"!=this.peek().type;)if("newline"==this.peek().type)this.advance();else if("text-html"==this.peek().type)block.nodes=block.nodes.concat(this.parseTextHtml());else{var expr=this.parseExpr();expr&&("Block"===expr.type?block.nodes=block.nodes.concat(expr.nodes):block.nodes.push(expr))}return block},expect:function(type){if(this.peek().type===type)return this.advance();this.error("INVALID_TOKEN",'expected "'+type+'", but got "'+this.peek().type+'"',this.peek())},accept:function(type){if(this.peek().type===type)return this.advance()},initBlock:function(line,nodes){if((0|line)!==line)throw new Error("`line` is not an integer");if(!Array.isArray(nodes))throw new Error("`nodes` is not an array");return{type:"Block",nodes:nodes,line:line,filename:this.filename}},emptyBlock:function(line){return this.initBlock(line,[])},runPlugin:function(context,tok){for(var rest=[this],i=2;i<arguments.length;i++)rest.push(arguments[i]);for(var pluginContext,i=0;i<this.plugins.length;i++){var plugin=this.plugins[i];if(plugin[context]&&plugin[context][tok.type]){if(pluginContext)throw new Error("Multiple plugin handlers found for context "+JSON.stringify(context)+", token type "+JSON.stringify(tok.type));pluginContext=plugin[context]}}if(pluginContext)return pluginContext[tok.type].apply(pluginContext,rest)},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"mixin-block":return this.parseMixinBlock();case"case":return this.parseCase();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":case"interpolated-code":case"start-pug-interpolation":return this.parseText({block:!0});case"text-html":return this.initBlock(this.peek().loc.start.line,this.parseTextHtml());case"dot":return this.parseDot();case"each":return this.parseEach();case"code":return this.parseCode();case"blockcode":return this.parseBlockCode();case"if":return this.parseConditional();case"while":return this.parseWhile();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":return this.parseYield();case"id":case"class":return this.peek().loc.start,this.tokens.defer({type:"tag",val:"div",loc:this.peek().loc,filename:this.filename}),this.parseExpr();default:var pluginResult=this.runPlugin("expressionTokens",this.peek());if(pluginResult)return pluginResult;this.error("INVALID_TOKEN",'unexpected token "'+this.peek().type+'"',this.peek())}},parseDot:function(){return this.advance(),this.parseTextBlock()},parseText:function(options){var tags=[],lineno=this.peek().loc.start.line,nextTok=this.peek();loop:for(;;){switch(nextTok.type){case"text":var tok=this.advance();tags.push({type:"Text",val:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;case"interpolated-code":var tok=this.advance();tags.push({type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:!1!==tok.mustEscape,isInline:!0,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;case"newline":if(!options||!options.block)break loop;var tok=this.advance(),nextType=this.peek().type;"text"!==nextType&&"interpolated-code"!==nextType||tags.push({type:"Text",val:"\n",line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;case"start-pug-interpolation":this.advance(),tags.push(this.parseExpr()),this.expect("end-pug-interpolation");break;default:var pluginResult=this.runPlugin("textTokens",nextTok,tags);if(pluginResult)break;break loop}nextTok=this.peek()}return 1===tags.length?tags[0]:this.initBlock(lineno,tags)},parseTextHtml:function(){var nodes=[],currentNode=null;loop:for(;;)switch(this.peek().type){case"text-html":var text=this.advance();currentNode?currentNode.val+="\n"+text.val:(currentNode={type:"Text",val:text.val,filename:this.filename,line:text.loc.start.line,column:text.loc.start.column,isHtml:!0},nodes.push(currentNode));break;case"indent":var block=this.block();block.nodes.forEach(function(node){node.isHtml?currentNode?currentNode.val+="\n"+node.val:(currentNode=node,nodes.push(currentNode)):(currentNode=null,nodes.push(node))});break;case"code":currentNode=null,nodes.push(this.parseCode(!0));break;case"newline":this.advance();break;default:break loop}return nodes},parseBlockExpansion:function(){var tok=this.accept(":");if(tok){var expr=this.parseExpr();return"Block"===expr.type?expr:this.initBlock(tok.loc.start.line,[expr])}return this.block()},parseCase:function(){var tok=this.expect("case"),node={type:"Case",expr:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename},block=this.emptyBlock(tok.loc.start.line+1);for(this.expect("indent");"outdent"!=this.peek().type;)switch(this.peek().type){case"comment":case"newline":this.advance();break;case"when":block.nodes.push(this.parseWhen());break;case"default":block.nodes.push(this.parseDefault());break;default:if(this.runPlugin("caseTokens",this.peek(),block))break;this.error("INVALID_TOKEN",'Unexpected token "'+this.peek().type+'", expected "when", "default" or "newline"',this.peek())}return this.expect("outdent"),node.block=block,node},parseWhen:function(){var tok=this.expect("when");return"newline"!==this.peek().type?{type:"When",expr:tok.val,block:this.parseBlockExpansion(),debug:!1,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}:{type:"When",expr:tok.val,debug:!1,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseDefault:function(){var tok=this.expect("default");return{type:"When",expr:"default",block:this.parseBlockExpansion(),debug:!1,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseCode:function(noBlock){var tok=this.expect("code");assert("boolean"==typeof tok.mustEscape,"Please update to the newest version of pug-lexer.");var node={type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:!1!==tok.mustEscape,isInline:!!noBlock,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};if(node.val.match(/^ *else/)&&(node.debug=!1),noBlock)return node;var block;return block="indent"==this.peek().type,block&&(tok.buffer&&this.error("BLOCK_IN_BUFFERED_CODE","Buffered code cannot have a block attached to it",this.peek()),node.block=this.block()),node},parseConditional:function(){var tok=this.expect("if"),node={type:"Conditional",test:tok.val,consequent:this.emptyBlock(tok.loc.start.line),alternate:null,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};"indent"==this.peek().type&&(node.consequent=this.block());for(var currentNode=node;;)if("newline"===this.peek().type)this.expect("newline");else{if("else-if"!==this.peek().type){if("else"===this.peek().type){this.expect("else"),"indent"===this.peek().type&&(currentNode.alternate=this.block());break}break}tok=this.expect("else-if"),currentNode=currentNode.alternate={type:"Conditional",test:tok.val,consequent:this.emptyBlock(tok.loc.start.line),alternate:null,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename},"indent"==this.peek().type&&(currentNode.consequent=this.block())}return node},parseWhile:function(){var tok=this.expect("while"),node={type:"While",test:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return"indent"==this.peek().type?node.block=this.block():node.block=this.emptyBlock(tok.loc.start.line),node},parseBlockCode:function(){var tok=this.expect("blockcode"),line=tok.loc.start.line,column=tok.loc.start.column,body=this.peek(),text="";if("start-pipeless-text"===body.type){for(this.advance();"end-pipeless-text"!==this.peek().type;)switch(tok=this.advance(),tok.type){case"text":text+=tok.val;break;case"newline":text+="\n";break;default:var pluginResult=this.runPlugin("blockCodeTokens",tok,tok);if(pluginResult){text+=pluginResult;break}this.error("INVALID_TOKEN","Unexpected token type: "+tok.type,tok)}this.advance()}return{type:"Code",val:text,buffer:!1,mustEscape:!1,isInline:!1,line:line,column:column,filename:this.filename}},parseComment:function(){var block,tok=this.expect("comment");return(block=this.parseTextBlock())?{type:"BlockComment",val:tok.val,block:block,buffer:tok.buffer,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}:{type:"Comment",val:tok.val,buffer:tok.buffer,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseDoctype:function(){var tok=this.expect("doctype");return{type:"Doctype",val:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseIncludeFilter:function(){var tok=this.expect("filter"),attrs=[];return"start-attributes"===this.peek().type&&(attrs=this.attrs()),{type:"IncludeFilter",name:tok.val,attrs:attrs,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseFilter:function(){var block,tok=this.expect("filter"),attrs=[];if("start-attributes"===this.peek().type&&(attrs=this.attrs()),"text"===this.peek().type){var textToken=this.advance();block=this.initBlock(textToken.loc.start.line,[{type:"Text",val:textToken.val,line:textToken.loc.start.line,column:textToken.loc.start.column,filename:this.filename}])}else block="filter"===this.peek().type?this.initBlock(tok.loc.start.line,[this.parseFilter()]):this.parseTextBlock()||this.emptyBlock(tok.loc.start.line);return{type:"Filter",name:tok.val,block:block,attrs:attrs,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseEach:function(){var tok=this.expect("each"),node={type:"Each",obj:tok.code,val:tok.val,key:tok.key,block:this.block(),line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return"else"==this.peek().type&&(this.advance(),node.alternate=this.block()),node},parseExtends:function(){var tok=this.expect("extends"),path=this.expect("path");return{type:"Extends",file:{type:"FileReference",path:path.val.trim(),line:path.loc.start.line,column:path.loc.start.column,filename:this.filename},line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseBlock:function(){var tok=this.expect("block"),node="indent"==this.peek().type?this.block():this.emptyBlock(tok.loc.start.line);return node.type="NamedBlock",node.name=tok.val.trim(),node.mode=tok.mode,node.line=tok.loc.start.line,node.column=tok.loc.start.column,node},parseMixinBlock:function(){var tok=this.expect("mixin-block");return this.inMixin||this.error("BLOCK_OUTISDE_MIXIN","Anonymous blocks are not allowed unless they are part of a mixin.",tok),{type:"MixinBlock",line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseYield:function(){var tok=this.expect("yield");return{type:"YieldBlock",line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename}},parseInclude:function(){for(var tok=this.expect("include"),node={type:"Include",file:{type:"FileReference",filename:this.filename},line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename},filters=[];"filter"===this.peek().type;)filters.push(this.parseIncludeFilter());var path=this.expect("path");return node.file.path=path.val.trim(),node.file.line=path.loc.start.line,node.file.column=path.loc.start.column,!/\.jade$/.test(node.file.path)&&!/\.pug$/.test(node.file.path)||filters.length?(node.type="RawInclude",node.filters=filters,"indent"===this.peek().type&&this.error("RAW_INCLUDE_BLOCK","Raw inclusion cannot contain a block",this.peek())):(node.block="indent"==this.peek().type?this.block():this.emptyBlock(tok.loc.start.line),/\.jade$/.test(node.file.path)&&console.warn(this.filename+", line "+tok.loc.start.line+':\nThe .jade extension is deprecated, use .pug for "'+node.file.path+'".')),node},parseCall:function(){var tok=this.expect("call"),name=tok.val,args=tok.args,mixin={type:"Mixin",name:name,args:args,block:this.emptyBlock(tok.loc.start.line),call:!0,attrs:[],attributeBlocks:[],line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return this.tag(mixin),mixin.code&&(mixin.block.nodes.push(mixin.code),delete mixin.code),0===mixin.block.nodes.length&&(mixin.block=null),mixin},parseMixin:function(){var tok=this.expect("mixin"),name=tok.val,args=tok.args;if("indent"==this.peek().type){this.inMixin++;var mixin={type:"Mixin",name:name,args:args,block:this.block(),call:!1,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return this.inMixin--,mixin}this.error("MIXIN_WITHOUT_BODY","Mixin "+name+" declared without body",tok)},parseTextBlock:function(){var tok=this.accept("start-pipeless-text");if(tok){for(var block=this.emptyBlock(tok.loc.start.line);"end-pipeless-text"!==this.peek().type;){var tok=this.advance();switch(tok.type){case"text":block.nodes.push({type:"Text",val:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;case"newline":block.nodes.push({type:"Text",val:"\n",line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;case"start-pug-interpolation":block.nodes.push(this.parseExpr()),this.expect("end-pug-interpolation");break;case"interpolated-code":block.nodes.push({type:"Code",val:tok.val,buffer:tok.buffer,mustEscape:!1!==tok.mustEscape,isInline:!0,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;default:if(this.runPlugin("textBlockTokens",tok,block,tok))break;this.error("INVALID_TOKEN","Unexpected token type: "+tok.type,tok)}}return this.advance(),block}},block:function(){for(var tok=this.expect("indent"),block=this.emptyBlock(tok.loc.start.line);"outdent"!=this.peek().type;)if("newline"==this.peek().type)this.advance();else if("text-html"==this.peek().type)block.nodes=block.nodes.concat(this.parseTextHtml());else{var expr=this.parseExpr();"Block"===expr.type?block.nodes=block.nodes.concat(expr.nodes):block.nodes.push(expr)}return this.expect("outdent"),block},parseInterpolation:function(){var tok=this.advance(),tag={type:"InterpolatedTag",expr:tok.val,selfClosing:!1,block:this.emptyBlock(tok.loc.start.line),attrs:[],attributeBlocks:[],isInline:!1,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return this.tag(tag,{selfClosingAllowed:!0})},parseTag:function(){var tok=this.advance(),tag={type:"Tag",name:tok.val,selfClosing:!1,block:this.emptyBlock(tok.loc.start.line),attrs:[],attributeBlocks:[],isInline:-1!==inlineTags.indexOf(tok.val),line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename};return this.tag(tag,{selfClosingAllowed:!0})},tag:function(tag,options){var seenAttrs=!1,attributeNames=[],selfClosingAllowed=options&&options.selfClosingAllowed;out:for(;;)switch(this.peek().type){case"id":case"class":var tok=this.advance();"id"===tok.type&&(-1!==attributeNames.indexOf("id")&&this.error("DUPLICATE_ID",'Duplicate attribute "id" is not allowed.',tok),attributeNames.push("id")),tag.attrs.push({name:tok.type,val:"'"+tok.val+"'",line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename,mustEscape:!1});continue;case"start-attributes":seenAttrs&&console.warn(this.filename+", line "+this.peek().loc.start.line+":\nYou should not have pug tags with multiple attributes."),seenAttrs=!0,tag.attrs=tag.attrs.concat(this.attrs(attributeNames));continue;case"&attributes":var tok=this.advance();tag.attributeBlocks.push({type:"AttributeBlock",val:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename});break;default:var pluginResult=this.runPlugin("tagAttributeTokens",this.peek(),tag,attributeNames);if(pluginResult)break;break out}switch("dot"==this.peek().type&&(tag.textOnly=!0,this.advance()),this.peek().type){case"text":case"interpolated-code":var text=this.parseText();"Block"===text.type?tag.block.nodes.push.apply(tag.block.nodes,text.nodes):tag.block.nodes.push(text);break;case"code":tag.block.nodes.push(this.parseCode(!0));break;case":":this.advance();var expr=this.parseExpr();tag.block="Block"===expr.type?expr:this.initBlock(tag.line,[expr]);break;case"newline":case"indent":case"outdent":case"eos":case"start-pipeless-text":case"end-pug-interpolation":break;case"slash":if(selfClosingAllowed){this.advance(),tag.selfClosing=!0;break}default:var pluginResult=this.runPlugin("tagTokens",this.peek(),tag,options);if(pluginResult)break;this.error("INVALID_TOKEN","Unexpected token `"+this.peek().type+"` expected `text`, `interpolated-code`, `code`, `:`"+(selfClosingAllowed?", `slash`":"")+", `newline` or `eos`",this.peek())}for(;"newline"==this.peek().type;)this.advance();if(tag.textOnly)tag.block=this.parseTextBlock()||this.emptyBlock(tag.line);else if("indent"==this.peek().type)for(var block=this.block(),i=0,len=block.nodes.length;i<len;++i)tag.block.nodes.push(block.nodes[i]);return tag},attrs:function(attributeNames){this.expect("start-attributes");for(var attrs=[],tok=this.advance();"attribute"===tok.type;)"class"!==tok.name&&attributeNames&&(-1!==attributeNames.indexOf(tok.name)&&this.error("DUPLICATE_ATTRIBUTE",'Duplicate attribute "'+tok.name+'" is not allowed.',tok),attributeNames.push(tok.name)),attrs.push({name:tok.name,val:tok.val,line:tok.loc.start.line,column:tok.loc.start.column,filename:this.filename,mustEscape:!1!==tok.mustEscape}),tok=this.advance();return this.tokens.defer(tok),this.expect("end-attributes"),attrs}}},{"./lib/inline-tags":390,assert:8,"pug-error":382,"token-stream":440}],390:[function(require,module,exports){"use strict";module.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]},{}],391:[function(require,module,exports){"use strict";function build(functions){var fns=[];functions=functions.filter(function(fn){return!internals[fn]});for(var i=0;i<functions.length;i++)-1===fns.indexOf(functions[i])&&(fns.push(functions[i]),functions.push.apply(functions,dependencies[functions[i]]));return fns.sort().map(function(name){return sources[name]}).join("\n")}var dependencies=(require("fs"),require("./lib/dependencies.js")),internals=require("./lib/internals.js"),sources=require("./lib/sources.js");module.exports=build},{"./lib/dependencies.js":393,"./lib/internals.js":394,"./lib/sources.js":395,fs:39}],392:[function(require,module,exports){"use strict";function pug_merge(a,b){if(1===arguments.length){for(var attrs=a[0],i=1;i<a.length;i++)attrs=pug_merge(attrs,a[i]);return attrs}for(var key in b)if("class"===key){var valA=a[key]||[];a[key]=(Array.isArray(valA)?valA:[valA]).concat(b[key]||[])}else if("style"===key){var valA=pug_style(a[key]);valA=valA&&";"!==valA[valA.length-1]?valA+";":valA;var valB=pug_style(b[key]);valB=valB&&";"!==valB[valB.length-1]?valB+";":valB,a[key]=valA+valB}else a[key]=b[key];return a}function pug_classes_array(val,escaping){for(var className,classString="",padding="",escapeEnabled=Array.isArray(escaping),i=0;i<val.length;i++)(className=pug_classes(val[i]))&&(escapeEnabled&&escaping[i]&&(className=pug_escape(className)),classString=classString+padding+className,padding=" ");return classString}function pug_classes_object(val){var classString="",padding="";for(var key in val)key&&val[key]&&pug_has_own_property.call(val,key)&&(classString=classString+padding+key,padding=" ");return classString}function pug_classes(val,escaping){return Array.isArray(val)?pug_classes_array(val,escaping):val&&"object"==typeof val?pug_classes_object(val):val||""}function pug_style(val){if(!val)return"";if("object"==typeof val){var out="";for(var style in val)pug_has_own_property.call(val,style)&&(out=out+style+":"+val[style]+";");return out}return val+""}function pug_attr(key,val,escaped,terse){return!1!==val&&null!=val&&(val||"class"!==key&&"style"!==key)?!0===val?" "+(terse?key:key+'="'+key+'"'):("function"==typeof val.toJSON&&(val=val.toJSON()),"string"==typeof val||(val=JSON.stringify(val),escaped||-1===val.indexOf('"'))?(escaped&&(val=pug_escape(val))," "+key+'="'+val+'"'):" "+key+"='"+val.replace(/'/g,"&#39;")+"'"):""}function pug_attrs(obj,terse){var attrs="";for(var key in obj)if(pug_has_own_property.call(obj,key)){var val=obj[key];if("class"===key){val=pug_classes(val),attrs=pug_attr(key,val,!1,terse)+attrs;continue}"style"===key&&(val=pug_style(val)),attrs+=pug_attr(key,val,!1,terse)}return attrs}function pug_escape(_html){var html=""+_html,regexResult=pug_match_html.exec(html);if(!regexResult)return _html;var i,lastIndex,escape,result="";for(i=regexResult.index,lastIndex=0;i<html.length;i++){switch(html.charCodeAt(i)){case 34:escape="&quot;";break;case 38:escape="&amp;";break;case 60:escape="&lt;";break;case 62:escape="&gt;";break;default:continue}lastIndex!==i&&(result+=html.substring(lastIndex,i)),lastIndex=i+1,result+=escape}return lastIndex!==i?result+html.substring(lastIndex,i):result}function pug_rethrow(err,filename,lineno,str){if(!(err instanceof Error))throw err;if(!("undefined"==typeof window&&filename||str))throw err.message+=" on line "+lineno,err;try{str=str||require("fs").readFileSync(filename,"utf8")}catch(ex){pug_rethrow(err,null,lineno)}var context=3,lines=str.split("\n"),start=Math.max(lineno-context,0),end=Math.min(lines.length,lineno+context),context=lines.slice(start,end).map(function(line,i){var curr=i+start+1;return(curr==lineno?"  > ":"    ")+curr+"| "+line}).join("\n");throw err.path=filename,err.message=(filename||"Pug")+":"+lineno+"\n"+context+"\n\n"+err.message,err}var pug_has_own_property=Object.prototype.hasOwnProperty;exports.merge=pug_merge,exports.classes=pug_classes,exports.style=pug_style,exports.attr=pug_attr,exports.attrs=pug_attrs;var pug_match_html=/["&<>]/;exports.escape=pug_escape,exports.rethrow=pug_rethrow},{fs:39}],393:[function(require,module,exports){module.exports={has_own_property:[],merge:["style"],classes_array:["classes","escape"],classes_object:["has_own_property"],classes:["classes_array","classes_object"],style:["has_own_property"],attr:["escape"],attrs:["attr","classes","has_own_property","style"],match_html:[],escape:["match_html"],rethrow:[]}},{}],394:[function(require,module,exports){module.exports={dependencies:!0,internals:!0,has_own_property:!0,classes_array:!0,classes_object:!0,match_html:!0}},{}],395:[function(require,module,exports){module.exports={has_own_property:"var pug_has_own_property=Object.prototype.hasOwnProperty;",merge:'function pug_merge(e,r){if(1===arguments.length){for(var t=e[0],g=1;g<e.length;g++)t=pug_merge(t,e[g]);return t}for(var l in r)if("class"===l){var n=e[l]||[];e[l]=(Array.isArray(n)?n:[n]).concat(r[l]||[])}else if("style"===l){var n=pug_style(e[l]);n=n&&";"!==n[n.length-1]?n+";":n;var a=pug_style(r[l]);a=a&&";"!==a[a.length-1]?a+";":a,e[l]=n+a}else e[l]=r[l];return e}',classes_array:'function pug_classes_array(r,a){for(var s,e="",u="",c=Array.isArray(a),g=0;g<r.length;g++)(s=pug_classes(r[g]))&&(c&&a[g]&&(s=pug_escape(s)),e=e+u+s,u=" ");return e}',classes_object:'function pug_classes_object(r){var a="",n="";for(var o in r)o&&r[o]&&pug_has_own_property.call(r,o)&&(a=a+n+o,n=" ");return a}',classes:'function pug_classes(s,r){return Array.isArray(s)?pug_classes_array(s,r):s&&"object"==typeof s?pug_classes_object(s):s||""}',style:'function pug_style(r){if(!r)return"";if("object"==typeof r){var t="";for(var e in r)pug_has_own_property.call(r,e)&&(t=t+e+":"+r[e]+";");return t}return r+""}',attr:'function pug_attr(t,e,n,f){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(f?t:t+\'="\'+t+\'"\'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf(\'"\'))?(n&&(e=pug_escape(e))," "+t+\'="\'+e+\'"\'):" "+t+"=\'"+e.replace(/\'/g,"&#39;")+"\'"):""}',attrs:'function pug_attrs(t,r){var a="";for(var s in t)if(pug_has_own_property.call(t,s)){var u=t[s];if("class"===s){u=pug_classes(u),a=pug_attr(s,u,!1,r)+a;continue}"style"===s&&(u=pug_style(u)),a+=pug_attr(s,u,!1,r)}return a}',match_html:'var pug_match_html=/["&<>]/;',escape:'function pug_escape(e){var a=""+e,t=pug_match_html.exec(a);if(!t)return e;var r,c,n,s="";for(r=t.index,c=0;r<a.length;r++){switch(a.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}c!==r&&(s+=a.substring(c,r)),c=r+1,s+=n}return c!==r?s+a.substring(c,r):s}',rethrow:'function pug_rethrow(n,e,r,t){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&e||t))throw n.message+=" on line "+r,n;try{t=t||require("fs").readFileSync(e,"utf8")}catch(e){pug_rethrow(n,null,r)}var i=3,a=t.split("\\n"),o=Math.max(r-i,0),h=Math.min(a.length,r+i),i=a.slice(o,h).map(function(n,e){var t=e+o+1;return(t==r?"  > ":"    ")+t+"| "+n}).join("\\n");throw n.path=e,n.message=(e||"Pug")+":"+r+"\\n"+i+"\\n\\n"+n.message,n}'}},{}],396:[function(require,module,exports){function wrap(template,templateName){return templateName=templateName||"template",Function("pug",template+"\nreturn "+templateName+";")(runtime)}var runtime=require("./");module.exports=wrap},{"./":392}],397:[function(require,module,exports){"use strict";function unexpectedToken(type,occasion,filename,line){throw error("UNEXPECTED_TOKEN","`"+type+"` encountered when "+occasion,{filename:filename,line:line})}function stripComments(input,options){options=options||{};var stripUnbuffered=!1!==options.stripUnbuffered,stripBuffered=!0===options.stripBuffered,filename=options.filename,inComment=!1,inPipelessText=!1;return input.filter(function(tok){switch(tok.type){case"comment":if(!inComment)return!(inComment=tok.buffer?stripBuffered:stripUnbuffered);unexpectedToken("comment","already in a comment",filename,tok.line);case"start-pipeless-text":return!inComment||(inPipelessText&&unexpectedToken("start-pipeless-text","already in pipeless text mode",filename,tok.line),inPipelessText=!0,!1);case"end-pipeless-text":return!inComment||(inPipelessText||unexpectedToken("end-pipeless-text","not in pipeless text mode",filename,tok.line),inPipelessText=!1,inComment=!1,!1);case"text":return!inComment;default:return!inPipelessText&&(inComment=!1,!0)}})}var error=require("pug-error");module.exports=stripComments},{"pug-error":382}],398:[function(require,module,exports){"use strict";function walkAST(ast,before,after,options){function walkAndMergeNodes(nodes){return nodes.reduce(function(nodes,node){var result=walkAST(node,before,after,options);return Array.isArray(result)?nodes.concat(result):nodes.concat([result])},[])}after&&"object"==typeof after&&void 0===options&&(options=after,after=null),options=options||{includeDependencies:!1}
;var parents=options.parents=options.parents||[],replace=function replace(replacement){if(Array.isArray(replacement)&&!replace.arrayAllowed)throw new Error("replace() can only be called with an array if the last parent is a Block or NamedBlock");ast=replacement};if(replace.arrayAllowed=parents[0]&&(/^(Named)?Block$/.test(parents[0].type)||"RawInclude"===parents[0].type&&"IncludeFilter"===ast.type),before){if(!1===before(ast,replace))return ast;if(Array.isArray(ast))return walkAndMergeNodes(ast)}switch(parents.unshift(ast),ast.type){case"NamedBlock":case"Block":ast.nodes=walkAndMergeNodes(ast.nodes);break;case"Case":case"Filter":case"Mixin":case"Tag":case"InterpolatedTag":case"When":case"Code":case"While":ast.block&&(ast.block=walkAST(ast.block,before,after,options));break;case"Each":ast.block&&(ast.block=walkAST(ast.block,before,after,options)),ast.alternate&&(ast.alternate=walkAST(ast.alternate,before,after,options));break;case"Conditional":ast.consequent&&(ast.consequent=walkAST(ast.consequent,before,after,options)),ast.alternate&&(ast.alternate=walkAST(ast.alternate,before,after,options));break;case"Include":walkAST(ast.block,before,after,options),walkAST(ast.file,before,after,options);break;case"Extends":walkAST(ast.file,before,after,options);break;case"RawInclude":ast.filters=walkAndMergeNodes(ast.filters),walkAST(ast.file,before,after,options);break;case"Attrs":case"BlockComment":case"Comment":case"Doctype":case"IncludeFilter":case"MixinBlock":case"YieldBlock":case"Text":break;case"FileReference":options.includeDependencies&&ast.ast&&walkAST(ast.ast,before,after,options);break;default:throw new Error("Unexpected node type "+ast.type)}return parents.shift(),after&&after(ast,replace),ast}module.exports=walkAST},{}],399:[function(require,module,exports){(function(process){"use strict";function applyPlugins(value,options,plugins,name){return plugins.reduce(function(value,plugin){return plugin[name]?plugin[name](value,options):value},value)}function findReplacementFunc(plugins,name){var eligiblePlugins=plugins.filter(function(plugin){return plugin[name]});if(eligiblePlugins.length>1)throw new Error("Two or more plugins all implement "+name+" method.");return eligiblePlugins.length?eligiblePlugins[0][name].bind(eligiblePlugins[0]):null}function compileBody(str,options){var debug_sources={};debug_sources[options.filename]=str;var dependencies=[],plugins=options.plugins||[],ast=load.string(str,{filename:options.filename,basedir:options.basedir,lex:function(str,options){var lexOptions={};return Object.keys(options).forEach(function(key){lexOptions[key]=options[key]}),lexOptions.plugins=plugins.filter(function(plugin){return!!plugin.lex}).map(function(plugin){return plugin.lex}),applyPlugins(lex(str,lexOptions),options,plugins,"postLex")},parse:function(tokens,options){tokens=tokens.map(function(token){return"path"===token.type&&""===path.extname(token.val)?{type:"path",loc:token.loc,val:token.val+".pug"}:token}),tokens=stripComments(tokens,options),tokens=applyPlugins(tokens,options,plugins,"preParse");var parseOptions={};return Object.keys(options).forEach(function(key){parseOptions[key]=options[key]}),parseOptions.plugins=plugins.filter(function(plugin){return!!plugin.parse}).map(function(plugin){return plugin.parse}),applyPlugins(applyPlugins(parse(tokens,parseOptions),options,plugins,"postParse"),options,plugins,"preLoad")},resolve:function(filename,source,loadOptions){var replacementFunc=findReplacementFunc(plugins,"resolve");return replacementFunc?replacementFunc(filename,source,options):load.resolve(filename,source,loadOptions)},read:function(filename,loadOptions){dependencies.push(filename);var contents,replacementFunc=findReplacementFunc(plugins,"read");contents=replacementFunc?replacementFunc(filename,options):load.read(filename,loadOptions);var str=applyPlugins(contents,{filename:filename},plugins,"preLex");return debug_sources[filename]=str,str}});ast=applyPlugins(ast,options,plugins,"postLoad"),ast=applyPlugins(ast,options,plugins,"preFilters");var filtersSet={};Object.keys(exports.filters).forEach(function(key){filtersSet[key]=exports.filters[key]}),options.filters&&Object.keys(options.filters).forEach(function(key){filtersSet[key]=options.filters[key]}),ast=filters.handleFilters(ast,filtersSet,options.filterOptions,options.filterAliases),ast=applyPlugins(ast,options,plugins,"postFilters"),ast=applyPlugins(ast,options,plugins,"preLink"),ast=link(ast),ast=applyPlugins(ast,options,plugins,"postLink"),ast=applyPlugins(ast,options,plugins,"preCodeGen");var js=generateCode(ast,{pretty:options.pretty,compileDebug:options.compileDebug,doctype:options.doctype,inlineRuntimeFunctions:options.inlineRuntimeFunctions,globals:options.globals,self:options.self,includeSources:!!options.includeSources&&debug_sources,templateName:options.templateName});return js=applyPlugins(js,options,plugins,"postCodeGen"),options.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",js.replace(/^/gm,"  ")),{body:js,dependencies:dependencies}}function handleTemplateCache(options,str){var key=options.filename;if(options.cache&&exports.cache[key])return exports.cache[key];void 0===str&&(str=fs.readFileSync(options.filename,"utf8"));var templ=exports.compile(str,options);return options.cache&&(exports.cache[key]=templ),templ}var fs=require("fs"),path=require("path"),lex=require("pug-lexer"),stripComments=require("pug-strip-comments"),parse=require("pug-parser"),load=require("pug-load"),filters=require("pug-filters"),link=require("pug-linker"),generateCode=require("pug-code-gen"),runtime=require("pug-runtime"),runtimeWrap=require("pug-runtime/wrap");exports.name="Pug",exports.runtime=runtime,exports.cache={},exports.filters={},exports.compile=function(str,options){var options=options||{};str=String(str);var parsed=compileBody(str,{compileDebug:!1!==options.compileDebug,filename:options.filename,basedir:options.basedir,pretty:options.pretty,doctype:options.doctype,inlineRuntimeFunctions:options.inlineRuntimeFunctions,globals:options.globals,self:options.self,includeSources:!0===options.compileDebug,debug:options.debug,templateName:"template",filters:options.filters,filterOptions:options.filterOptions,filterAliases:options.filterAliases,plugins:options.plugins}),res=options.inlineRuntimeFunctions?new Function("",parsed.body+";return template;")():runtimeWrap(parsed.body);return res.dependencies=parsed.dependencies,res},exports.compileClientWithDependenciesTracked=function(str,options){var options=options||{};str=String(str);var parsed=compileBody(str,{compileDebug:options.compileDebug,filename:options.filename,basedir:options.basedir,pretty:options.pretty,doctype:options.doctype,inlineRuntimeFunctions:!1!==options.inlineRuntimeFunctions,globals:options.globals,self:options.self,includeSources:options.compileDebug,debug:options.debug,templateName:options.name||"template",filters:options.filters,filterOptions:options.filterOptions,filterAliases:options.filterAliases,plugins:options.plugins}),body=parsed.body;return options.module&&(!1===options.inlineRuntimeFunctions&&(body='var pug = require("pug-runtime");'+body),body+=" module.exports = "+(options.name||"template")+";"),{body:body,dependencies:parsed.dependencies}},exports.compileClient=function(str,options){return exports.compileClientWithDependenciesTracked(str,options).body},exports.compileFile=function(path,options){return options=options||{},options.filename=path,handleTemplateCache(options)},exports.render=function(str,options,fn){if("function"==typeof options&&(fn=options,options=void 0),"function"==typeof fn){var res;try{res=exports.render(str,options)}catch(ex){return fn(ex)}return fn(null,res)}if(options=options||{},options.cache&&!options.filename)throw new Error('the "filename" option is required for caching');return handleTemplateCache(options,str)(options)},exports.renderFile=function(path,options,fn){if("function"==typeof options&&(fn=options,options=void 0),"function"==typeof fn){var res;try{res=exports.renderFile(path,options)}catch(ex){return fn(ex)}return fn(null,res)}return options=options||{},options.filename=path,handleTemplateCache(options)(options)},exports.compileFileClient=function(path,options){var key=path+":client";if(options=options||{},options.filename=path,options.cache&&exports.cache[key])return exports.cache[key];var str=fs.readFileSync(options.filename,"utf8"),out=exports.compileClient(str,options);return options.cache&&(exports.cache[key]=out),out},exports.__express=function(path,options,fn){void 0==options.compileDebug&&"production"===process.env.NODE_ENV&&(options.compileDebug=!1),exports.renderFile(path,options,fn)}}).call(this,require("_process"))},{_process:371,fs:39,path:368,"pug-code-gen":381,"pug-filters":383,"pug-lexer":386,"pug-linker":387,"pug-load":388,"pug-parser":389,"pug-runtime":392,"pug-runtime/wrap":396,"pug-strip-comments":397}],400:[function(require,module,exports){(function(global){!function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,"."),result+map(string.split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),basic<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],401:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],402:[function(require,module,exports){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],403:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":401,"./encode":402}],404:[function(require,module,exports){"use strict";function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}var pna=require("process-nextick-args"),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},{"./_stream_readable":406,"./_stream_writable":408,"core-util-is":219,inherits:231,"process-nextick-args":370}],405:[function(require,module,exports){"use strict";function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":407,"core-util-is":219,inherits:231}],406:[function(require,module,exports){(function(process,global){"use strict";function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function prependListener(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(null===chunk)state.reading=!1,onEofChunk(stream,state);else{var er;skipChunkCheck||(er=chunkInvalid(state,chunk)),er?stream.emit("error",er):state.objectMode||chunk&&chunk.length>0?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=_uint8ArrayToBuffer(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1)}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;return _isUint8Array(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!==n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=fromListPartial(n,state.buffer,state.decoder),ret}function fromListPartial(n,list,hasStrings){var ret;return n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list),ret}function copyFromBufferString(n,list){var p=list.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}var pna=require("process-nextick-args");module.exports=Readable;var Duplex,isArray=require("isarray");Readable.ReadableState=ReadableState;var EElistenerCount=(require("events").EventEmitter,function(emitter,type){return emitter.listeners(type).length}),Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require("./internal/streams/BufferList"),destroyImpl=require("./internal/streams/destroy");util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading?(doRead=!1,debug("reading or ended",doRead)):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state)));var ret;return ret=n>0?fromList(n,state):null,null===ret?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,cleanup())}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:unpipe;state.endEmitted?pna.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1,increasedAwaitDrain=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}
return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){_this.push(chunk)||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":404,"./internal/streams/BufferList":409,"./internal/streams/destroy":410,"./internal/streams/stream":411,_process:371,"core-util-is":219,events:225,inherits:231,isarray:237,"process-nextick-args":370,"safe-buffer":421,"string_decoder/":412,util:39}],407:[function(require,module,exports){"use strict";function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit("close")})}},{"./_stream_duplex":404,"core-util-is":219,inherits:231}],408:[function(require,module,exports){(function(process,global,setImmediate){"use strict";function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(_this,state)}}function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),pna.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),pna.nextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function prefinish(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(prefinish(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;for(corkReq.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}var pna=require("process-nextick-args");module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&_isUint8Array(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=_uint8ArrayToBuffer(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):(isBuf||validChunk(this,state,chunk,cb))&&(state.pendingcb++,ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("timers").setImmediate)},{"./_stream_duplex":404,"./internal/streams/destroy":410,"./internal/streams/stream":411,_process:371,"core-util-is":219,inherits:231,"process-nextick-args":370,"safe-buffer":421,timers:437,"util-deprecate":455}],409:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function copyBuffer(src,target,offset){src.copy(target,offset)}var Buffer=require("safe-buffer").Buffer,util=require("util");module.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj})},{"safe-buffer":421,util:39}],410:[function(require,module,exports){"use strict";function destroy(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(self,err){self.emit("error",err)}var pna=require("process-nextick-args");module.exports={destroy:destroy,undestroy:undestroy}},{"process-nextick-args":370}],411:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:225}],412:[function(require,module,exports){"use strict";function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self.lastNeed=nb-1),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(self.lastNeed=nb-2),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]),nb>=0?(nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0)}function utf8CheckExtraBytes(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�"}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,buf,p);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�":r}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":421}],413:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":404,"./lib/_stream_passthrough.js":405,"./lib/_stream_readable.js":406,"./lib/_stream_transform.js":407,"./lib/_stream_writable.js":408}],414:[function(require,module,exports){var core=require("./lib/core"),async=require("./lib/async");async.core=core,async.isCore=function(x){return core[x]},async.sync=require("./lib/sync"),module.exports=async},{"./lib/async":415,"./lib/core":418,"./lib/sync":420}],415:[function(require,module,exports){(function(process){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js"),defaultIsFile=function(file,cb){fs.stat(file,function(err,stat){return err?"ENOENT"===err.code||"ENOTDIR"===err.code?cb(null,!1):cb(err):cb(null,stat.isFile()||stat.isFIFO())})};module.exports=function(x,options,callback){function onfile(err,m,pkg){err?cb(err):m?cb(null,m,pkg):loadAsDirectory(res,function(err,d,pkg){if(err)cb(err);else if(d)cb(null,d,pkg);else{var moduleError=new Error("Cannot find module '"+x+"' from '"+parent+"'");moduleError.code="MODULE_NOT_FOUND",cb(moduleError)}})}function loadAsFile(x,thePackage,callback){function load(exts,x,loadPackage){function onpkg(err,pkg_,dir){if(pkg=pkg_,err)return cb(err);if(dir&&pkg&&opts.pathFilter){var rfile=path.relative(dir,file),rel=rfile.slice(0,rfile.length-exts[0].length),r=opts.pathFilter(pkg,x,rel);if(r)return load([""].concat(extensions.slice()),path.resolve(dir,r),pkg)}isFile(file,onex)}function onex(err,ex){return err?cb(err):ex?cb(null,file,pkg):void load(exts.slice(1),x,pkg)}if(0===exts.length)return cb(null,void 0,loadPackage);var file=x+exts[0],pkg=loadPackage;pkg?onpkg(null,pkg):loadpkg(path.dirname(file),onpkg)}var loadAsFilePackage=thePackage,cb=callback;"function"==typeof loadAsFilePackage&&(cb=loadAsFilePackage,loadAsFilePackage=void 0),load([""].concat(extensions),x,loadAsFilePackage)}function loadpkg(dir,cb){if(""===dir||"/"===dir)return cb(null);if("win32"===process.platform&&/^\w:[\/\\]*$/.test(dir))return cb(null);if(/[\/\\]node_modules[\/\\]*$/.test(dir))return cb(null);var pkgfile=path.join(dir,"package.json");isFile(pkgfile,function(err,ex){if(!ex)return loadpkg(path.dirname(dir),cb);readFile(pkgfile,function(err,body){err&&cb(err);try{var pkg=JSON.parse(body)}catch(jsonErr){}pkg&&opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),cb(null,pkg,dir)})})}function loadAsDirectory(x,loadAsDirectoryPackage,callback){var cb=callback,fpkg=loadAsDirectoryPackage;"function"==typeof fpkg&&(cb=fpkg,fpkg=opts.package);var pkgfile=path.join(x,"package.json");isFile(pkgfile,function(err,ex){return err?cb(err):ex?void readFile(pkgfile,function(err,body){if(err)return cb(err);try{var pkg=JSON.parse(body)}catch(jsonErr){}if(opts.packageFilter&&(pkg=opts.packageFilter(pkg,pkgfile)),pkg.main)return"."!==pkg.main&&"./"!==pkg.main||(pkg.main="index"),void loadAsFile(path.resolve(x,pkg.main),pkg,function(err,m,pkg){return err?cb(err):m?cb(null,m,pkg):pkg?void loadAsDirectory(path.resolve(x,pkg.main),pkg,function(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void loadAsFile(path.join(x,"index"),pkg,cb)}):loadAsFile(path.join(x,"index"),pkg,cb)});loadAsFile(path.join(x,"/index"),pkg,cb)}):loadAsFile(path.join(x,"index"),fpkg,cb)})}function processDirs(cb,dirs){function onfile(err,m,pkg){return err?cb(err):m?cb(null,m,pkg):void loadAsDirectory(path.join(dir,x),opts.package,ondir)}function ondir(err,n,pkg){return err?cb(err):n?cb(null,n,pkg):void processDirs(cb,dirs.slice(1))}if(0===dirs.length)return cb(null,void 0);var dir=dirs[0];loadAsFile(path.join(dir,x),opts.package,onfile)}var cb=callback,opts=options||{};if("function"==typeof opts&&(cb=opts,opts={}),"string"!=typeof x){var err=new TypeError("Path must be a string.");return process.nextTick(function(){cb(err)})}var isFile=opts.isFile||defaultIsFile,readFile=opts.readFile||fs.readFile,extensions=opts.extensions||[".js"],basedir=opts.basedir||path.dirname(caller()),parent=opts.filename||basedir;if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\/\\])/.test(x)){var res=path.resolve(basedir,x);".."!==x&&"/"!==x.slice(-1)||(res+="/"),/\/$/.test(x)&&res===basedir?loadAsDirectory(res,opts.package,onfile):loadAsFile(res,opts.package,onfile)}else!function(x,start,cb){processDirs(cb,nodeModulesPaths(start,opts))}(0,basedir,function(err,n,pkg){if(err)cb(err);else if(n)cb(null,n,pkg);else{if(core[x])return cb(null,x);var moduleError=new Error("Cannot find module '"+x+"' from '"+parent+"'");moduleError.code="MODULE_NOT_FOUND",cb(moduleError)}})}}).call(this,require("_process"))},{"./caller.js":416,"./core":418,"./node-modules-paths.js":419,_process:371,fs:40,path:368}],416:[function(require,module,exports){module.exports=function(){var origPrepareStackTrace=Error.prepareStackTrace;Error.prepareStackTrace=function(_,stack){return stack};var stack=(new Error).stack;return Error.prepareStackTrace=origPrepareStackTrace,stack[2].getFileName()}},{}],417:[function(require,module,exports){module.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":">= 10 && < 10.1",_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0","node-inspect/lib/internal/inspect_client":">= 7.6.0","node-inspect/lib/internal/inspect_repl":">= 7.6.0",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0"],v8:">= 1",vm:!0,zlib:!0}},{}],418:[function(require,module,exports){(function(process){function specifierIncluded(specifier){for(var parts=specifier.split(" "),op=parts.length>1?parts[0]:"=",versionParts=(parts.length>1?parts[1]:parts[0]).split("."),i=0;i<3;++i){var cur=Number(current[i]||0),ver=Number(versionParts[i]||0);if(cur!==ver)return"<"===op?cur<ver:">="===op&&cur>=ver}return">="===op}function matchesRange(range){var specifiers=range.split(/ ?&& ?/);if(0===specifiers.length)return!1;for(var i=0;i<specifiers.length;++i)if(!specifierIncluded(specifiers[i]))return!1;return!0}var current=process.versions&&process.versions.node&&process.versions.node.split(".")||[],data=require("./core.json"),core={};for(var mod in data)Object.prototype.hasOwnProperty.call(data,mod)&&(core[mod]=function(specifierValue){if("boolean"==typeof specifierValue)return specifierValue;if(specifierValue&&"object"==typeof specifierValue){for(var i=0;i<specifierValue.length;++i)if(matchesRange(specifierValue[i]))return!0;return!1}return matchesRange(specifierValue)}(data[mod]));module.exports=core}).call(this,require("_process"))},{"./core.json":417,_process:371}],419:[function(require,module,exports){var path=require("path"),fs=require("fs"),parse=path.parse||require("path-parse");module.exports=function(start,opts){var modules=opts&&opts.moduleDirectory?[].concat(opts.moduleDirectory):["node_modules"],absoluteStart=path.resolve(start);if(opts&&!1===opts.preserveSymlinks)try{absoluteStart=fs.realpathSync(absoluteStart)}catch(err){if("ENOENT"!==err.code)throw err}var prefix="/";/^([A-Za-z]:)/.test(absoluteStart)?prefix="":/^\\\\/.test(absoluteStart)&&(prefix="\\\\");for(var paths=[absoluteStart],parsed=parse(absoluteStart);parsed.dir!==paths[paths.length-1];)paths.push(parsed.dir),parsed=parse(parsed.dir);var dirs=paths.reduce(function(dirs,aPath){return dirs.concat(modules.map(function(moduleDir){return path.join(prefix,aPath,moduleDir)}))},[]);return opts&&opts.paths?dirs.concat(opts.paths):dirs}},{fs:40,path:368,"path-parse":369}],420:[function(require,module,exports){(function(process){var core=require("./core"),fs=require("fs"),path=require("path"),caller=require("./caller.js"),nodeModulesPaths=require("./node-modules-paths.js"),defaultIsFile=function(file){try{var stat=fs.statSync(file)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return stat.isFile()||stat.isFIFO()};module.exports=function(x,options){function loadAsFileSync(x){var pkg=loadpkg(path.dirname(x));if(pkg&&pkg.dir&&pkg.pkg&&opts.pathFilter){var rfile=path.relative(pkg.dir,x),r=opts.pathFilter(pkg.pkg,x,rfile);r&&(x=path.resolve(pkg.dir,r))}if(isFile(x))return x;for(var i=0;i<extensions.length;i++){var file=x+extensions[i];if(isFile(file))return file}}function loadpkg(dir){
if(""!==dir&&"/"!==dir&&!("win32"===process.platform&&/^\w:[\/\\]*$/.test(dir)||/[\/\\]node_modules[\/\\]*$/.test(dir))){var pkgfile=path.join(dir,"package.json");if(!isFile(pkgfile))return loadpkg(path.dirname(dir));var body=readFileSync(pkgfile);try{var pkg=JSON.parse(body)}catch(jsonErr){}return pkg&&opts.packageFilter&&(pkg=opts.packageFilter(pkg,dir)),{pkg:pkg,dir:dir}}}function loadAsDirectorySync(x){var pkgfile=path.join(x,"/package.json");if(isFile(pkgfile))try{var body=readFileSync(pkgfile,"UTF8"),pkg=JSON.parse(body);if(opts.packageFilter&&(pkg=opts.packageFilter(pkg,x)),pkg.main){"."!==pkg.main&&"./"!==pkg.main||(pkg.main="index");var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m;var n=loadAsDirectorySync(path.resolve(x,pkg.main));if(n)return n}}catch(e){}return loadAsFileSync(path.join(x,"/index"))}if("string"!=typeof x)throw new TypeError("Path must be a string.");var opts=options||{},isFile=opts.isFile||defaultIsFile,readFileSync=opts.readFileSync||fs.readFileSync,extensions=opts.extensions||[".js"],basedir=opts.basedir||path.dirname(caller()),parent=opts.filename||basedir;if(opts.paths=opts.paths||[],/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\/\\])/.test(x)){var res=path.resolve(basedir,x);".."!==x&&"/"!==x.slice(-1)||(res+="/");var m=loadAsFileSync(res)||loadAsDirectorySync(res);if(m)return m}else{var n=function(x,start){for(var dirs=nodeModulesPaths(start,opts),i=0;i<dirs.length;i++){var dir=dirs[i],m=loadAsFileSync(path.join(dir,"/",x));if(m)return m;var n=loadAsDirectorySync(path.join(dir,"/",x));if(n)return n}}(x,basedir);if(n)return n}if(core[x])return x;var err=new Error("Cannot find module '"+x+"' from '"+parent+"'");throw err.code="MODULE_NOT_FOUND",err}}).call(this,require("_process"))},{"./caller.js":416,"./core":418,"./node-modules-paths.js":419,_process:371,fs:40,path:368}],421:[function(require,module,exports){function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}var buffer=require("buffer"),Buffer=buffer.Buffer;Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:41}],422:[function(require,module,exports){function ArraySet(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}var util=require("./util"),has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;ArraySet.fromArray=function(aArray,aAllowDuplicates){for(var set=new ArraySet,i=0,len=aArray.length;i<len;i++)set.add(aArray[i],aAllowDuplicates);return set},ArraySet.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(aStr,aAllowDuplicates){var sStr=hasNativeMap?aStr:util.toSetString(aStr),isDuplicate=hasNativeMap?this.has(aStr):has.call(this._set,sStr),idx=this._array.length;isDuplicate&&!aAllowDuplicates||this._array.push(aStr),isDuplicate||(hasNativeMap?this._set.set(aStr,idx):this._set[sStr]=idx)},ArraySet.prototype.has=function(aStr){if(hasNativeMap)return this._set.has(aStr);var sStr=util.toSetString(aStr);return has.call(this._set,sStr)},ArraySet.prototype.indexOf=function(aStr){if(hasNativeMap){var idx=this._set.get(aStr);if(idx>=0)return idx}else{var sStr=util.toSetString(aStr);if(has.call(this._set,sStr))return this._set[sStr]}throw new Error('"'+aStr+'" is not in the set.')},ArraySet.prototype.at=function(aIdx){if(aIdx>=0&&aIdx<this._array.length)return this._array[aIdx];throw new Error("No element indexed by "+aIdx)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet},{"./util":431}],423:[function(require,module,exports){function toVLQSigned(aValue){return aValue<0?1+(-aValue<<1):0+(aValue<<1)}function fromVLQSigned(aValue){var isNegative=1==(1&aValue),shifted=aValue>>1;return isNegative?-shifted:shifted}var base64=require("./base64");exports.encode=function(aValue){var digit,encoded="",vlq=toVLQSigned(aValue);do{digit=31&vlq,vlq>>>=5,vlq>0&&(digit|=32),encoded+=base64.encode(digit)}while(vlq>0);return encoded},exports.decode=function(aStr,aIndex,aOutParam){var continuation,digit,strLen=aStr.length,result=0,shift=0;do{if(aIndex>=strLen)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(digit=base64.decode(aStr.charCodeAt(aIndex++))))throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1));continuation=!!(32&digit),digit&=31,result+=digit<<shift,shift+=5}while(continuation);aOutParam.value=fromVLQSigned(result),aOutParam.rest=aIndex}},{"./base64":424}],424:[function(require,module,exports){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(0<=number&&number<intToCharMap.length)return intToCharMap[number];throw new TypeError("Must be between 0 and 63: "+number)},exports.decode=function(charCode){return 65<=charCode&&charCode<=90?charCode-65:97<=charCode&&charCode<=122?charCode-97+26:48<=charCode&&charCode<=57?charCode-48+52:43==charCode?62:47==charCode?63:-1}},{}],425:[function(require,module,exports){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow,cmp=aCompare(aNeedle,aHaystack[mid],!0);return 0===cmp?mid:cmp>0?aHigh-mid>1?recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?aHigh<aHaystack.length?aHigh:-1:mid:mid-aLow>1?recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?mid:aLow<0?-1:aLow}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(aNeedle,aHaystack,aCompare,aBias){if(0===aHaystack.length)return-1;var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(index<0)return-1;for(;index-1>=0&&0===aCompare(aHaystack[index],aHaystack[index-1],!0);)--index;return index}},{}],426:[function(require,module,exports){function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine,lineB=mappingB.generatedLine,columnA=mappingA.generatedColumn,columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var util=require("./util");MappingList.prototype.unsortedForEach=function(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)},MappingList.prototype.add=function(aMapping){generatedPositionAfter(this._last,aMapping)?(this._last=aMapping,this._array.push(aMapping)):(this._sorted=!1,this._array.push(aMapping))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList},{"./util":431}],427:[function(require,module,exports){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y],ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(p<r){var pivotIndex=randomIntInRange(p,r),i=p-1;swap(ary,pivotIndex,r);for(var pivot=ary[r],j=p;j<r;j++)comparator(ary[j],pivot)<=0&&(i+=1,swap(ary,i,j));swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1),doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}},{}],428:[function(require,module,exports){function SourceMapConsumer(aSourceMap,aSourceMapURL){var sourceMap=aSourceMap;return"string"==typeof aSourceMap&&(sourceMap=util.parseSourceMapInput(aSourceMap)),null!=sourceMap.sections?new IndexedSourceMapConsumer(sourceMap,aSourceMapURL):new BasicSourceMapConsumer(sourceMap,aSourceMapURL)}function BasicSourceMapConsumer(aSourceMap,aSourceMapURL){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=util.parseSourceMapInput(aSourceMap));var version=util.getArg(sourceMap,"version"),sources=util.getArg(sourceMap,"sources"),names=util.getArg(sourceMap,"names",[]),sourceRoot=util.getArg(sourceMap,"sourceRoot",null),sourcesContent=util.getArg(sourceMap,"sourcesContent",null),mappings=util.getArg(sourceMap,"mappings"),file=util.getArg(sourceMap,"file",null);if(version!=this._version)throw new Error("Unsupported version: "+version);sourceRoot&&(sourceRoot=util.normalize(sourceRoot)),sources=sources.map(String).map(util.normalize).map(function(source){return sourceRoot&&util.isAbsolute(sourceRoot)&&util.isAbsolute(source)?util.relative(sourceRoot,source):source}),this._names=ArraySet.fromArray(names.map(String),!0),this._sources=ArraySet.fromArray(sources,!0),this._absoluteSources=this._sources.toArray().map(function(s){return util.computeSourceURL(sourceRoot,s,aSourceMapURL)}),this.sourceRoot=sourceRoot,this.sourcesContent=sourcesContent,this._mappings=mappings,this._sourceMapURL=aSourceMapURL,this.file=file}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(aSourceMap,aSourceMapURL){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=util.parseSourceMapInput(aSourceMap));var version=util.getArg(sourceMap,"version"),sections=util.getArg(sourceMap,"sections");if(version!=this._version)throw new Error("Unsupported version: "+version);this._sources=new ArraySet,this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var offset=util.getArg(s,"offset"),offsetLine=util.getArg(offset,"line"),offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lastOffset=offset,{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"),aSourceMapURL)}})}var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;SourceMapConsumer.fromSourceMap=function(aSourceMap,aSourceMapURL){return BasicSourceMapConsumer.fromSourceMap(aSourceMap,aSourceMapURL)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(aStr,index){var c=aStr.charAt(index);return";"===c||","===c},SourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(aCallback,aContext,aOrder){var mappings,context=aContext||null,order=aOrder||SourceMapConsumer.GENERATED_ORDER;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=null===mapping.source?null:this._sources.at(mapping.source);return source=util.computeSourceURL(sourceRoot,source,this._sourceMapURL),{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:null===mapping.name?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(aArgs){var line=util.getArg(aArgs,"line"),needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(needle.source=this._findSourceIndex(needle.source),needle.source<0)return[];var mappings=[],index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(void 0===aArgs.column)for(var originalLine=mapping.originalLine;mapping&&mapping.originalLine===originalLine;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index];else for(var originalColumn=mapping.originalColumn;mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index]}return mappings},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(aSource){var relativeSource=aSource;if(null!=this.sourceRoot&&(relativeSource=util.relative(this.sourceRoot,relativeSource)),this._sources.has(relativeSource))return this._sources.indexOf(relativeSource);var i;for(i=0;i<this._absoluteSources.length;++i)if(this._absoluteSources[i]==aSource)return i;return-1},BasicSourceMapConsumer.fromSourceMap=function(aSourceMap,aSourceMapURL){var smc=Object.create(BasicSourceMapConsumer.prototype),names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),!0),sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),!0);smc.sourceRoot=aSourceMap._sourceRoot,smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot),smc.file=aSourceMap._file,smc._sourceMapURL=aSourceMapURL,smc._absoluteSources=smc._sources.toArray().map(function(s){return util.computeSourceURL(smc.sourceRoot,s,aSourceMapURL)});for(var generatedMappings=aSourceMap._mappings.toArray().slice(),destGeneratedMappings=smc.__generatedMappings=[],destOriginalMappings=smc.__originalMappings=[],i=0,length=generatedMappings.length;i<length;i++){var srcMapping=generatedMappings[i],destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine,destMapping.generatedColumn=srcMapping.generatedColumn,srcMapping.source&&(destMapping.source=sources.indexOf(srcMapping.source),destMapping.originalLine=srcMapping.originalLine,destMapping.originalColumn=srcMapping.originalColumn,srcMapping.name&&(destMapping.name=names.indexOf(srcMapping.name)),destOriginalMappings.push(destMapping)),destGeneratedMappings.push(destMapping)}return quickSort(smc.__originalMappings,util.compareByOriginalPositions),smc},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){for(var mapping,str,segment,end,value,generatedLine=1,previousGeneratedColumn=0,previousOriginalLine=0,previousOriginalColumn=0,previousSource=0,previousName=0,length=aStr.length,index=0,cachedSegments={},temp={},originalMappings=[],generatedMappings=[];index<length;)if(";"===aStr.charAt(index))generatedLine++,index++,previousGeneratedColumn=0;else if(","===aStr.charAt(index))index++;else{for(mapping=new Mapping,mapping.generatedLine=generatedLine,end=index;end<length&&!this._charIsMappingSeparator(aStr,end);end++);if(str=aStr.slice(index,end),segment=cachedSegments[str])index+=str.length;else{for(segment=[];index<end;)base64VLQ.decode(aStr,index,temp),value=temp.value,index=temp.rest,segment.push(value);if(2===segment.length)throw new Error("Found a source, but no line and column");if(3===segment.length)throw new Error("Found a source and line, but no column");cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0],previousGeneratedColumn=mapping.generatedColumn,segment.length>1&&(mapping.source=previousSource+segment[1],previousSource+=segment[1],mapping.originalLine=previousOriginalLine+segment[2],previousOriginalLine=mapping.originalLine,mapping.originalLine+=1,mapping.originalColumn=previousOriginalColumn+segment[3],previousOriginalColumn=mapping.originalColumn,segment.length>4&&(mapping.name=previousName+segment[4],previousName+=segment[4])),generatedMappings.push(mapping),"number"==typeof mapping.originalLine&&originalMappings.push(mapping)}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=generatedMappings,quickSort(originalMappings,util.compareByOriginalPositions),this.__originalMappings=originalMappings},BasicSourceMapConsumer.prototype._findMapping=function(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName]);if(aNeedle[aColumnName]<0)throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName]);return binarySearch.search(aNeedle,aMappings,aComparator,aBias)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);null!==source&&(source=this._sources.at(source),source=util.computeSourceURL(this.sourceRoot,source,this._sourceMapURL));var name=util.getArg(mapping,"name",null);return null!==name&&(name=this._names.at(name)),{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return null==sc}))},BasicSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){if(!this.sourcesContent)return null;var index=this._findSourceIndex(aSource);if(index>=0)return this.sourcesContent[index];var relativeSource=aSource;null!=this.sourceRoot&&(relativeSource=util.relative(this.sourceRoot,relativeSource));var url;if(null!=this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=relativeSource.replace(/^file:\/\//,"");if("file"==url.scheme&&this._sources.has(fileUriAbsPath))return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];if((!url.path||"/"==url.path)&&this._sources.has("/"+relativeSource))return this.sourcesContent[this._sources.indexOf("/"+relativeSource)]}if(nullOnMissing)return null;throw new Error('"'+relativeSource+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){var source=util.getArg(aArgs,"source");if((source=this._findSourceIndex(source))<0)return{line:null,column:null,lastColumn:null};var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source)return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var sources=[],i=0;i<this._sections.length;i++)for(var j=0;j<this._sections[i].consumer.sources.length;j++)sources.push(this._sections[i].consumer.sources[j]);return sources}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;return cmp||needle.generatedColumn-section.generatedOffset.generatedColumn}),section=this._sections[sectionIndex];return section?section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i],content=section.consumer.sourceContentFor(aSource,!0);if(content)return content}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(-1!==section.consumer._findSourceIndex(util.getArg(aArgs,"source"))){var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){return{line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var section=this._sections[i],sectionMappings=section.consumer._generatedMappings,j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[j],source=section.consumer._sources.at(mapping.source);source=util.computeSourceURL(section.consumer.sourceRoot,source,this._sourceMapURL),this._sources.add(source),source=this._sources.indexOf(source);var name=null;mapping.name&&(name=section.consumer._names.at(mapping.name),this._names.add(name),name=this._names.indexOf(name));var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.generatedColumn+(section.generatedOffset.generatedLine===mapping.generatedLine?section.generatedOffset.generatedColumn-1:0),originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping),"number"==typeof adjustedMapping.originalLine&&this.__originalMappings.push(adjustedMapping)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer},{"./array-set":422,"./base64-vlq":423,"./binary-search":425,"./quick-sort":427,"./util":431}],429:[function(require,module,exports){function SourceMapGenerator(aArgs){aArgs||(aArgs={}),this._file=util.getArg(aArgs,"file",null),this._sourceRoot=util.getArg(aArgs,"sourceRoot",null),this._skipValidation=util.getArg(aArgs,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot,generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});return aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};null!=mapping.source&&(newMapping.source=mapping.source,null!=sourceRoot&&(newMapping.source=util.relative(sourceRoot,newMapping.source)),newMapping.original={line:mapping.originalLine,column:mapping.originalColumn},null!=mapping.name&&(newMapping.name=mapping.name)),generator.addMapping(newMapping)}),aSourceMapConsumer.sources.forEach(function(sourceFile){var sourceRelative=sourceFile;null!==sourceRoot&&(sourceRelative=util.relative(sourceRoot,sourceFile)),generator._sources.has(sourceRelative)||generator._sources.add(sourceRelative);var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&generator.setSourceContent(sourceFile,content)}),generator},SourceMapGenerator.prototype.addMapping=function(aArgs){var generated=util.getArg(aArgs,"generated"),original=util.getArg(aArgs,"original",null),source=util.getArg(aArgs,"source",null),name=util.getArg(aArgs,"name",null);this._skipValidation||this._validateMapping(generated,original,source,name),null!=source&&(source=String(source),this._sources.has(source)||this._sources.add(source)),null!=name&&(name=String(name),this._names.has(name)||this._names.add(name)),this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:null!=original&&original.line,originalColumn:null!=original&&original.column,source:source,name:name})},SourceMapGenerator.prototype.setSourceContent=function(aSourceFile,aSourceContent){var source=aSourceFile;null!=this._sourceRoot&&(source=util.relative(this._sourceRoot,source)),null!=aSourceContent?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util.toSetString(source)]=aSourceContent):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(source)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(null==aSourceFile){if(null==aSourceMapConsumer.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile));var newSources=new ArraySet,newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&null!=mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});null!=original.source&&(mapping.source=original.source,null!=aSourceMapPath&&(mapping.source=util.join(aSourceMapPath,mapping.source)),null!=sourceRoot&&(mapping.source=util.relative(sourceRoot,mapping.source)),mapping.originalLine=original.line,mapping.originalColumn=original.column,null!=original.name&&(mapping.name=original.name))}var source=mapping.source;null==source||newSources.has(source)||newSources.add(source);var name=mapping.name;null==name||newNames.has(name)||newNames.add(name)},this),this._sources=newSources,this._names=newNames,aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aSourceMapPath&&(sourceFile=util.join(aSourceMapPath,sourceFile)),null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile)),this.setSourceContent(sourceFile,content))},this)},SourceMapGenerator.prototype._validateMapping=function(aGenerated,aOriginal,aSource,aName){if(aOriginal&&"number"!=typeof aOriginal.line&&"number"!=typeof aOriginal.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0)||aOriginal||aSource||aName)&&!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource))throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var next,mapping,nameIdx,sourceIdx,previousGeneratedColumn=0,previousGeneratedLine=1,previousOriginalColumn=0,previousOriginalLine=0,previousName=0,previousSource=0,result="",mappings=this._mappings.toArray(),i=0,len=mappings.length;i<len;i++){if(mapping=mappings[i],next="",mapping.generatedLine!==previousGeneratedLine)for(previousGeneratedColumn=0;mapping.generatedLine!==previousGeneratedLine;)next+=";",previousGeneratedLine++;else if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1]))continue;next+=","}next+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn),previousGeneratedColumn=mapping.generatedColumn,null!=mapping.source&&(sourceIdx=this._sources.indexOf(mapping.source),next+=base64VLQ.encode(sourceIdx-previousSource),previousSource=sourceIdx,next+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine),previousOriginalLine=mapping.originalLine-1,next+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn),previousOriginalColumn=mapping.originalColumn,null!=mapping.name&&(nameIdx=this._names.indexOf(mapping.name),next+=base64VLQ.encode(nameIdx-previousName),previousName=nameIdx)),result+=next}return result},SourceMapGenerator.prototype._generateSourcesContent=function(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents)return null
;null!=aSourceRoot&&(source=util.relative(aSourceRoot,source));var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(map.file=this._file),null!=this._sourceRoot&&(map.sourceRoot=this._sourceRoot),this._sourcesContents&&(map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)),map},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator},{"./array-set":422,"./base64-vlq":423,"./mapping-list":426,"./util":431}],430:[function(require,module,exports){function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[],this.sourceContents={},this.line=null==aLine?null:aLine,this.column=null==aColumn?null:aColumn,this.source=null==aSource?null:aSource,this.name=null==aName?null:aName,this[isSourceNode]=!0,null!=aChunks&&this.add(aChunks)}var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,isSourceNode="$$$isSourceNode$$$";SourceNode.fromStringWithSourceMap=function(aGeneratedCode,aSourceMapConsumer,aRelativePath){function addMappingWithCode(mapping,code){if(null===mapping||void 0===mapping.source)node.add(code);else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}var node=new SourceNode,remainingLines=aGeneratedCode.split(REGEX_NEWLINE),remainingLinesIndex=0,shiftNextLine=function(){function getNextLine(){return remainingLinesIndex<remainingLines.length?remainingLines[remainingLinesIndex++]:void 0}return getNextLine()+(getNextLine()||"")},lastGeneratedLine=1,lastGeneratedColumn=0,lastMapping=null;return aSourceMapConsumer.eachMapping(function(mapping){if(null!==lastMapping){if(!(lastGeneratedLine<mapping.generatedLine)){var nextLine=remainingLines[remainingLinesIndex]||"",code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);return remainingLines[remainingLinesIndex]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn),lastGeneratedColumn=mapping.generatedColumn,addMappingWithCode(lastMapping,code),void(lastMapping=mapping)}addMappingWithCode(lastMapping,shiftNextLine()),lastGeneratedLine++,lastGeneratedColumn=0}for(;lastGeneratedLine<mapping.generatedLine;)node.add(shiftNextLine()),lastGeneratedLine++;if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[remainingLinesIndex]||"";node.add(nextLine.substr(0,mapping.generatedColumn)),remainingLines[remainingLinesIndex]=nextLine.substr(mapping.generatedColumn),lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this),remainingLinesIndex<remainingLines.length&&(lastMapping&&addMappingWithCode(lastMapping,shiftNextLine()),node.add(remainingLines.splice(remainingLinesIndex).join(""))),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aRelativePath&&(sourceFile=util.join(aRelativePath,sourceFile)),node.setSourceContent(sourceFile,content))}),node},SourceNode.prototype.add=function(aChunk){if(Array.isArray(aChunk))aChunk.forEach(function(chunk){this.add(chunk)},this);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);aChunk&&this.children.push(aChunk)}return this},SourceNode.prototype.prepend=function(aChunk){if(Array.isArray(aChunk))for(var i=aChunk.length-1;i>=0;i--)this.prepend(aChunk[i]);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);this.children.unshift(aChunk)}return this},SourceNode.prototype.walk=function(aFn){for(var chunk,i=0,len=this.children.length;i<len;i++)chunk=this.children[i],chunk[isSourceNode]?chunk.walk(aFn):""!==chunk&&aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(aSep){var newChildren,i,len=this.children.length;if(len>0){for(newChildren=[],i=0;i<len-1;i++)newChildren.push(this.children[i]),newChildren.push(aSep);newChildren.push(this.children[i]),this.children=newChildren}return this},SourceNode.prototype.replaceRight=function(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];return lastChild[isSourceNode]?lastChild.replaceRight(aPattern,aReplacement):"string"==typeof lastChild?this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement):this.children.push("".replace(aPattern,aReplacement)),this},SourceNode.prototype.setSourceContent=function(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent},SourceNode.prototype.walkSourceContents=function(aFn){for(var i=0,len=this.children.length;i<len;i++)this.children[i][isSourceNode]&&this.children[i].walkSourceContents(aFn);for(var sources=Object.keys(this.sourceContents),i=0,len=sources.length;i<len;i++)aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])},SourceNode.prototype.toString=function(){var str="";return this.walk(function(chunk){str+=chunk}),str},SourceNode.prototype.toStringWithSourceMap=function(aArgs){var generated={code:"",line:1,column:0},map=new SourceMapGenerator(aArgs),sourceMappingActive=!1,lastOriginalSource=null,lastOriginalLine=null,lastOriginalColumn=null,lastOriginalName=null;return this.walk(function(chunk,original){generated.code+=chunk,null!==original.source&&null!==original.line&&null!==original.column?(lastOriginalSource===original.source&&lastOriginalLine===original.line&&lastOriginalColumn===original.column&&lastOriginalName===original.name||map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name}),lastOriginalSource=original.source,lastOriginalLine=original.line,lastOriginalColumn=original.column,lastOriginalName=original.name,sourceMappingActive=!0):sourceMappingActive&&(map.addMapping({generated:{line:generated.line,column:generated.column}}),lastOriginalSource=null,sourceMappingActive=!1);for(var idx=0,length=chunk.length;idx<length;idx++)10===chunk.charCodeAt(idx)?(generated.line++,generated.column=0,idx+1===length?(lastOriginalSource=null,sourceMappingActive=!1):sourceMappingActive&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})):generated.column++}),this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)}),{code:generated.code,map:map}},exports.SourceNode=SourceNode},{"./source-map-generator":429,"./util":431}],431:[function(require,module,exports){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs)return aArgs[aName];if(3===arguments.length)return aDefaultValue;throw new Error('"'+aName+'" is a required argument.')}function urlParse(aUrl){var match=aUrl.match(urlRegexp);return match?{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}:null}function urlGenerate(aParsedUrl){var url="";return aParsedUrl.scheme&&(url+=aParsedUrl.scheme+":"),url+="//",aParsedUrl.auth&&(url+=aParsedUrl.auth+"@"),aParsedUrl.host&&(url+=aParsedUrl.host),aParsedUrl.port&&(url+=":"+aParsedUrl.port),aParsedUrl.path&&(url+=aParsedUrl.path),url}function normalize(aPath){var path=aPath,url=urlParse(aPath);if(url){if(!url.path)return aPath;path=url.path}for(var part,isAbsolute=exports.isAbsolute(path),parts=path.split(/\/+/),up=0,i=parts.length-1;i>=0;i--)part=parts[i],"."===part?parts.splice(i,1):".."===part?up++:up>0&&(""===part?(parts.splice(i+1,up),up=0):(parts.splice(i,2),up--));return path=parts.join("/"),""===path&&(path=isAbsolute?"/":"."),url?(url.path=path,urlGenerate(url)):path}function join(aRoot,aPath){""===aRoot&&(aRoot="."),""===aPath&&(aPath=".");var aPathUrl=urlParse(aPath),aRootUrl=urlParse(aRoot);if(aRootUrl&&(aRoot=aRootUrl.path||"/"),aPathUrl&&!aPathUrl.scheme)return aRootUrl&&(aPathUrl.scheme=aRootUrl.scheme),urlGenerate(aPathUrl);if(aPathUrl||aPath.match(dataUrlRegexp))return aPath;if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path)return aRootUrl.host=aPath,urlGenerate(aRootUrl);var joined="/"===aPath.charAt(0)?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);return aRootUrl?(aRootUrl.path=joined,urlGenerate(aRootUrl)):joined}function relative(aRoot,aPath){""===aRoot&&(aRoot="."),aRoot=aRoot.replace(/\/$/,"");for(var level=0;0!==aPath.indexOf(aRoot+"/");){var index=aRoot.lastIndexOf("/");if(index<0)return aPath;if(aRoot=aRoot.slice(0,index),aRoot.match(/^([^\/]+:\/)?\/*$/))return aPath;++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}function identity(s){return s}function toSetString(aStr){return isProtoString(aStr)?"$"+aStr:aStr}function fromSetString(aStr){return isProtoString(aStr)?aStr.slice(1):aStr}function isProtoString(s){if(!s)return!1;var length=s.length;if(length<9)return!1;if(95!==s.charCodeAt(length-1)||95!==s.charCodeAt(length-2)||111!==s.charCodeAt(length-3)||116!==s.charCodeAt(length-4)||111!==s.charCodeAt(length-5)||114!==s.charCodeAt(length-6)||112!==s.charCodeAt(length-7)||95!==s.charCodeAt(length-8)||95!==s.charCodeAt(length-9))return!1;for(var i=length-10;i>=0;i--)if(36!==s.charCodeAt(i))return!1;return!0}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=strcmp(mappingA.source,mappingB.source);return 0!==cmp?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:0!==(cmp=mappingA.originalColumn-mappingB.originalColumn)||onlyCompareOriginal?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)?cmp:(cmp=mappingA.generatedLine-mappingB.generatedLine,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name))}function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)||onlyCompareGenerated?cmp:0!==(cmp=strcmp(mappingA.source,mappingB.source))?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name))}function strcmp(aStr1,aStr2){return aStr1===aStr2?0:null===aStr1?1:null===aStr2?-1:aStr1>aStr2?1:-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)?cmp:0!==(cmp=strcmp(mappingA.source,mappingB.source))?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name))}function parseSourceMapInput(str){return JSON.parse(str.replace(/^\)]}'[^\n]*\n/,""))}function computeSourceURL(sourceRoot,sourceURL,sourceMapURL){if(sourceURL=sourceURL||"",sourceRoot&&("/"!==sourceRoot[sourceRoot.length-1]&&"/"!==sourceURL[0]&&(sourceRoot+="/"),sourceURL=sourceRoot+sourceURL),sourceMapURL){var parsed=urlParse(sourceMapURL);if(!parsed)throw new Error("sourceMapURL could not be parsed");if(parsed.path){var index=parsed.path.lastIndexOf("/");index>=0&&(parsed.path=parsed.path.substring(0,index+1))}sourceURL=join(urlGenerate(parsed),sourceURL)}return normalize(sourceURL)}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,dataUrlRegexp=/^data:.+\,.+$/;exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.isAbsolute=function(aPath){return"/"===aPath.charAt(0)||urlRegexp.test(aPath)},exports.relative=relative;var supportsNullProto=function(){return!("__proto__"in Object.create(null))}();exports.toSetString=supportsNullProto?identity:toSetString,exports.fromSetString=supportsNullProto?identity:fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated,exports.parseSourceMapInput=parseSourceMapInput,exports.computeSourceURL=computeSourceURL},{}],432:[function(require,module,exports){exports.SourceMapGenerator=require("./lib/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./lib/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./lib/source-node").SourceNode},{"./lib/source-map-consumer":428,"./lib/source-map-generator":429,"./lib/source-node":430}],433:[function(require,module,exports){(function(global){var ClientRequest=require("./lib/request"),response=require("./lib/response"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(opts,cb){opts="string"==typeof opts?url.parse(opts):extend(opts);var defaultProtocol=-1===global.location.protocol.search(/^https?:$/)?"http:":"",protocol=opts.protocol||defaultProtocol,host=opts.hostname||opts.host,port=opts.port,path=opts.path||"/";host&&-1!==host.indexOf(":")&&(host="["+host+"]"),opts.url=(host?protocol+"//"+host:"")+(port?":"+port:"")+path,opts.method=(opts.method||"GET").toUpperCase(),opts.headers=opts.headers||{};var req=new ClientRequest(opts);return cb&&req.on("response",cb),req},http.get=function(opts,cb){var req=http.request(opts,cb);return req.end(),req},http.ClientRequest=ClientRequest,http.IncomingMessage=response.IncomingMessage,http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.globalAgent=new http.Agent,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":435,"./lib/response":436,"builtin-status-codes":42,url:453,xtend:460}],434:[function(require,module,exports){(function(global){function getXHR(){if(void 0!==xhr)return xhr;if(global.XMLHttpRequest){xhr=new global.XMLHttpRequest;try{xhr.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(e){xhr=null}}else xhr=null;return xhr}function checkTypeSupport(type){var xhr=getXHR();if(!xhr)return!1;try{return xhr.responseType=type,xhr.responseType===type}catch(e){}return!1}function isFunction(value){return"function"==typeof value}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.writableStream=isFunction(global.WritableStream),exports.abortController=isFunction(global.AbortController),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(e){}var xhr,haveArrayBuffer=void 0!==global.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=exports.fetch||haveArrayBuffer&&checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),exports.vbArray=isFunction(global.VBArray),xhr=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],435:[function(require,module,exports){(function(process,global,Buffer){function decideMode(preferBinary,useFetch){return capability.fetch&&useFetch?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&preferBinary?"arraybuffer":capability.vbArray&&preferBinary?"text:vbarray":"text"}function statusValid(xhr){try{var status=xhr.status;return null!==status&&0!==status}catch(e){return!1}}var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),toArrayBuffer=require("to-arraybuffer"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(opts){var self=this;stream.Writable.call(self),self._opts=opts,self._body=[],self._headers={},opts.auth&&self.setHeader("Authorization","Basic "+new Buffer(opts.auth).toString("base64")),Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])});var preferBinary,useFetch=!0;if("disable-fetch"===opts.mode||"requestTimeout"in opts&&!capability.abortController)useFetch=!1,preferBinary=!0;else if("prefer-streaming"===opts.mode)preferBinary=!1;else if("allow-wrong-content-type"===opts.mode)preferBinary=!capability.overrideMimeType;else{if(opts.mode&&"default"!==opts.mode&&"prefer-fast"!==opts.mode)throw new Error("Invalid value for opts.mode");preferBinary=!0}self._mode=decideMode(preferBinary,useFetch),self._fetchTimer=null,self.on("finish",function(){self._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(name,value){var self=this,lowerName=name.toLowerCase();-1===unsafeHeaders.indexOf(lowerName)&&(self._headers[lowerName]={name:name,value:value})},ClientRequest.prototype.getHeader=function(name){var header=this._headers[name.toLowerCase()];return header?header.value:null},ClientRequest.prototype.removeHeader=function(name){delete this._headers[name.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var self=this;if(!self._destroyed){var opts=self._opts,headersObj=self._headers,body=null;"GET"!==opts.method&&"HEAD"!==opts.method&&(body=capability.arraybuffer?toArrayBuffer(Buffer.concat(self._body)):capability.blobConstructor?new global.Blob(self._body.map(function(buffer){return toArrayBuffer(buffer)}),{type:(headersObj["content-type"]||{}).value||""}):Buffer.concat(self._body).toString());var headersList=[];if(Object.keys(headersObj).forEach(function(keyName){var name=headersObj[keyName].name,value=headersObj[keyName].value;Array.isArray(value)?value.forEach(function(v){headersList.push([name,v])}):headersList.push([name,value])}),"fetch"===self._mode){var signal=null;if(capability.abortController){var controller=new AbortController;signal=controller.signal,self._fetchAbortController=controller,"requestTimeout"in opts&&0!==opts.requestTimeout&&(self._fetchTimer=global.setTimeout(function(){self.emit("requestTimeout"),self._fetchAbortController&&self._fetchAbortController.abort()},opts.requestTimeout))}global.fetch(self._opts.url,{method:self._opts.method,headers:headersList,body:body||void 0,mode:"cors",credentials:opts.withCredentials?"include":"same-origin",signal:signal}).then(function(response){self._fetchResponse=response,self._connect()},function(reason){global.clearTimeout(self._fetchTimer),self._destroyed||self.emit("error",reason)})}else{var xhr=self._xhr=new global.XMLHttpRequest;try{xhr.open(self._opts.method,self._opts.url,!0)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}"responseType"in xhr&&(xhr.responseType=self._mode.split(":")[0]),"withCredentials"in xhr&&(xhr.withCredentials=!!opts.withCredentials),"text"===self._mode&&"overrideMimeType"in xhr&&xhr.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in opts&&(xhr.timeout=opts.requestTimeout,xhr.ontimeout=function(){self.emit("requestTimeout")}),headersList.forEach(function(header){xhr.setRequestHeader(header[0],header[1])}),self._response=null,xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress()}},"moz-chunked-arraybuffer"===self._mode&&(xhr.onprogress=function(){self._onXHRProgress()}),xhr.onerror=function(){self._destroyed||self.emit("error",new Error("XHR error"))};try{xhr.send(body)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}}}},ClientRequest.prototype._onXHRProgress=function(){var self=this;statusValid(self._xhr)&&!self._destroyed&&(self._response||self._connect(),self._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var self=this;self._destroyed||(self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode,self._fetchTimer),self._response.on("error",function(err){self.emit("error",err)}),self.emit("response",self._response))},ClientRequest.prototype._write=function(chunk,encoding,cb){this._body.push(chunk),cb()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var self=this;self._destroyed=!0,global.clearTimeout(self._fetchTimer),self._response&&(self._response._destroyed=!0),self._xhr?self._xhr.abort():self._fetchAbortController&&self._fetchAbortController.abort()},ClientRequest.prototype.end=function(data,encoding,cb){var self=this;"function"==typeof data&&(cb=data,data=void 0),stream.Writable.prototype.end.call(self,data,encoding,cb)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"./capability":434,"./response":436,_process:371,buffer:41,inherits:231,"readable-stream":413,"to-arraybuffer":438}],436:[function(require,module,exports){(function(process,global,Buffer){var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(xhr,response,mode,fetchTimer){function read(){reader.read().then(function(result){if(!self._destroyed){if(result.done)return global.clearTimeout(fetchTimer),void self.push(null);self.push(new Buffer(result.value)),read()}}).catch(function(err){global.clearTimeout(fetchTimer),self._destroyed||self.emit("error",err)})}var self=this;if(stream.Readable.call(self),self._mode=mode,self.headers={},self.rawHeaders=[],self.trailers={},self.rawTrailers=[],self.on("end",function(){process.nextTick(function(){self.emit("close")})}),"fetch"===mode){if(self._fetchResponse=response,self.url=response.url,self.statusCode=response.status,self.statusMessage=response.statusText,response.headers.forEach(function(header,key){self.headers[key.toLowerCase()]=header,self.rawHeaders.push(key,header)}),capability.writableStream){var writable=new WritableStream({write:function(chunk){return new Promise(function(resolve,reject){self._destroyed?reject():self.push(new Buffer(chunk))?resolve():self._resumeFetch=resolve})},close:function(){global.clearTimeout(fetchTimer),self._destroyed||self.push(null)},abort:function(err){self._destroyed||self.emit("error",err)}});try{return void response.body.pipeTo(writable).catch(function(err){global.clearTimeout(fetchTimer),self._destroyed||self.emit("error",err)})}catch(e){}}var reader=response.body.getReader();read()}else{self._xhr=xhr,self._pos=0,self.url=xhr.responseURL,self.statusCode=xhr.status,self.statusMessage=xhr.statusText;if(xhr.getAllResponseHeaders().split(/\r?\n/).forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/);if(matches){var key=matches[1].toLowerCase();"set-cookie"===key?(void 0===self.headers[key]&&(self.headers[key]=[]),self.headers[key].push(matches[2])):void 0!==self.headers[key]?self.headers[key]+=", "+matches[2]:self.headers[key]=matches[2],self.rawHeaders.push(matches[1],matches[2])}}),self._charset="x-user-defined",!capability.overrideMimeType){var mimeType=self.rawHeaders["mime-type"];if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/);charsetMatch&&(self._charset=charsetMatch[1].toLowerCase())}self._charset||(self._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){var self=this,resolve=self._resumeFetch;resolve&&(self._resumeFetch=null,resolve())},IncomingMessage.prototype._onXHRProgress=function(){var self=this,xhr=self._xhr,response=null;switch(self._mode){case"text:vbarray":if(xhr.readyState!==rStates.DONE)break;try{response=new global.VBArray(xhr.responseBody).toArray()}catch(e){}if(null!==response){self.push(new Buffer(response));break}case"text":try{response=xhr.responseText}catch(e){self._mode="text:vbarray";break}if(response.length>self._pos){var newData=response.substr(self._pos);if("x-user-defined"===self._charset){for(var buffer=new Buffer(newData.length),i=0;i<newData.length;i++)buffer[i]=255&newData.charCodeAt(i);self.push(buffer)}else self.push(newData,self._charset);self._pos=response.length}break;case"arraybuffer":if(xhr.readyState!==rStates.DONE||!xhr.response)break;response=xhr.response,self.push(new Buffer(new Uint8Array(response)));break;case"moz-chunked-arraybuffer":if(response=xhr.response,xhr.readyState!==rStates.LOADING||!response)break;self.push(new Buffer(new Uint8Array(response)));break;case"ms-stream":if(response=xhr.response,xhr.readyState!==rStates.LOADING)break;var reader=new global.MSStreamReader;reader.onprogress=function(){reader.result.byteLength>self._pos&&(self.push(new Buffer(new Uint8Array(reader.result.slice(self._pos)))),self._pos=reader.result.byteLength)},reader.onload=function(){self.push(null)},reader.readAsArrayBuffer(response)}self._xhr.readyState===rStates.DONE&&"ms-stream"!==self._mode&&self.push(null)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{"./capability":434,_process:371,buffer:41,inherits:231,"readable-stream":413}],437:[function(require,module,exports){(function(setImmediate,clearImmediate){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(fn){var id=nextImmediateId++,args=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[id]=!0,nextTick(function(){immediateIds[id]&&(args?fn.apply(null,args):fn.call(null),exports.clearImmediate(id))}),id},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":371,timers:437}],438:[function(require,module,exports){var Buffer=require("buffer").Buffer;module.exports=function(buf){if(buf instanceof Uint8Array){if(0===buf.byteOffset&&buf.byteLength===buf.buffer.byteLength)return buf.buffer;if("function"==typeof buf.buffer.slice)return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}if(Buffer.isBuffer(buf)){for(var arrayCopy=new Uint8Array(buf.length),len=buf.length,i=0;i<len;i++)arrayCopy[i]=buf[i];return arrayCopy.buffer}throw new Error("Argument must be a Buffer")}},{buffer:41}],439:[function(require,module,exports){"use strict";module.exports=function toFastproperties(o){function Sub(){}function ic(){return typeof receiver.foo}Sub.prototype=o;var receiver=new Sub;return ic(),ic(),o}},{}],440:[function(require,module,exports){"use strict";function TokenStream(tokens){if(!Array.isArray(tokens))throw new TypeError("tokens must be passed to TokenStream as an array.");this._tokens=tokens}module.exports=TokenStream,TokenStream.prototype.lookahead=function(index){if(this._tokens.length<=index)throw new Error("Cannot read past the end of a stream");return this._tokens[index]},TokenStream.prototype.peek=function(){if(0===this._tokens.length)throw new Error("Cannot read past the end of a stream");return this._tokens[0]},TokenStream.prototype.advance=function(){if(0===this._tokens.length)throw new Error("Cannot read past the end of a stream");return this._tokens.shift()},TokenStream.prototype.defer=function(token){this._tokens.unshift(token)}},{}],441:[function(require,module,exports){arguments[4][422][0].apply(exports,arguments)},{"./util":450,dup:422}],442:[function(require,module,exports){arguments[4][423][0].apply(exports,arguments)},{"./base64":443,dup:423}],443:[function(require,module,exports){arguments[4][424][0].apply(exports,arguments)},{dup:424}],444:[function(require,module,exports){arguments[4][425][0].apply(exports,arguments)},{dup:425}],445:[function(require,module,exports){arguments[4][426][0].apply(exports,arguments)},{"./util":450,dup:426}],446:[function(require,module,exports){arguments[4][427][0].apply(exports,arguments)},{dup:427}],447:[function(require,module,exports){function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;return"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))),null!=sourceMap.sections?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sources=util.getArg(sourceMap,"sources"),names=util.getArg(sourceMap,"names",[]),sourceRoot=util.getArg(sourceMap,"sourceRoot",null),sourcesContent=util.getArg(sourceMap,"sourcesContent",null),mappings=util.getArg(sourceMap,"mappings"),file=util.getArg(sourceMap,"file",null);if(version!=this._version)throw new Error("Unsupported version: "+version);sources=sources.map(String).map(util.normalize).map(function(source){return sourceRoot&&util.isAbsolute(sourceRoot)&&util.isAbsolute(source)?util.relative(sourceRoot,source):source}),this._names=ArraySet.fromArray(names.map(String),!0),this._sources=ArraySet.fromArray(sources,!0),this.sourceRoot=sourceRoot,this.sourcesContent=sourcesContent,this._mappings=mappings,this.file=file}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sections=util.getArg(sourceMap,"sections");if(version!=this._version)throw new Error("Unsupported version: "+version);this._sources=new ArraySet,this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.")
;var offset=util.getArg(s,"offset"),offsetLine=util.getArg(offset,"line"),offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lastOffset=offset,{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(aStr,index){var c=aStr.charAt(index);return";"===c||","===c},SourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(aCallback,aContext,aOrder){var mappings,context=aContext||null,order=aOrder||SourceMapConsumer.GENERATED_ORDER;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=null===mapping.source?null:this._sources.at(mapping.source);return null!=source&&null!=sourceRoot&&(source=util.join(sourceRoot,source)),{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:null===mapping.name?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(aArgs){var line=util.getArg(aArgs,"line"),needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(null!=this.sourceRoot&&(needle.source=util.relative(this.sourceRoot,needle.source)),!this._sources.has(needle.source))return[];needle.source=this._sources.indexOf(needle.source);var mappings=[],index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(void 0===aArgs.column)for(var originalLine=mapping.originalLine;mapping&&mapping.originalLine===originalLine;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index];else for(var originalColumn=mapping.originalColumn;mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index]}return mappings},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.fromSourceMap=function(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype),names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),!0),sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),!0);smc.sourceRoot=aSourceMap._sourceRoot,smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot),smc.file=aSourceMap._file;for(var generatedMappings=aSourceMap._mappings.toArray().slice(),destGeneratedMappings=smc.__generatedMappings=[],destOriginalMappings=smc.__originalMappings=[],i=0,length=generatedMappings.length;i<length;i++){var srcMapping=generatedMappings[i],destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine,destMapping.generatedColumn=srcMapping.generatedColumn,srcMapping.source&&(destMapping.source=sources.indexOf(srcMapping.source),destMapping.originalLine=srcMapping.originalLine,destMapping.originalColumn=srcMapping.originalColumn,srcMapping.name&&(destMapping.name=names.indexOf(srcMapping.name)),destOriginalMappings.push(destMapping)),destGeneratedMappings.push(destMapping)}return quickSort(smc.__originalMappings,util.compareByOriginalPositions),smc},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return null!=this.sourceRoot?util.join(this.sourceRoot,s):s},this)}}),BasicSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){for(var mapping,str,segment,end,value,generatedLine=1,previousGeneratedColumn=0,previousOriginalLine=0,previousOriginalColumn=0,previousSource=0,previousName=0,length=aStr.length,index=0,cachedSegments={},temp={},originalMappings=[],generatedMappings=[];index<length;)if(";"===aStr.charAt(index))generatedLine++,index++,previousGeneratedColumn=0;else if(","===aStr.charAt(index))index++;else{for(mapping=new Mapping,mapping.generatedLine=generatedLine,end=index;end<length&&!this._charIsMappingSeparator(aStr,end);end++);if(str=aStr.slice(index,end),segment=cachedSegments[str])index+=str.length;else{for(segment=[];index<end;)base64VLQ.decode(aStr,index,temp),value=temp.value,index=temp.rest,segment.push(value);if(2===segment.length)throw new Error("Found a source, but no line and column");if(3===segment.length)throw new Error("Found a source and line, but no column");cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0],previousGeneratedColumn=mapping.generatedColumn,segment.length>1&&(mapping.source=previousSource+segment[1],previousSource+=segment[1],mapping.originalLine=previousOriginalLine+segment[2],previousOriginalLine=mapping.originalLine,mapping.originalLine+=1,mapping.originalColumn=previousOriginalColumn+segment[3],previousOriginalColumn=mapping.originalColumn,segment.length>4&&(mapping.name=previousName+segment[4],previousName+=segment[4])),generatedMappings.push(mapping),"number"==typeof mapping.originalLine&&originalMappings.push(mapping)}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=generatedMappings,quickSort(originalMappings,util.compareByOriginalPositions),this.__originalMappings=originalMappings},BasicSourceMapConsumer.prototype._findMapping=function(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName]);if(aNeedle[aColumnName]<0)throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName]);return binarySearch.search(aNeedle,aMappings,aComparator,aBias)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);null!==source&&(source=this._sources.at(source),null!=this.sourceRoot&&(source=util.join(this.sourceRoot,source)));var name=util.getArg(mapping,"name",null);return null!==name&&(name=this._names.at(name)),{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return null==sc}))},BasicSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(aSource=util.relative(this.sourceRoot,aSource)),this._sources.has(aSource))return this.sourcesContent[this._sources.indexOf(aSource)];var url;if(null!=this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if("file"==url.scheme&&this._sources.has(fileUriAbsPath))return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];if((!url.path||"/"==url.path)&&this._sources.has("/"+aSource))return this.sourcesContent[this._sources.indexOf("/"+aSource)]}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){var source=util.getArg(aArgs,"source");if(null!=this.sourceRoot&&(source=util.relative(this.sourceRoot,source)),!this._sources.has(source))return{line:null,column:null,lastColumn:null};source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source)return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var sources=[],i=0;i<this._sections.length;i++)for(var j=0;j<this._sections[i].consumer.sources.length;j++)sources.push(this._sections[i].consumer.sources[j]);return sources}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;return cmp||needle.generatedColumn-section.generatedOffset.generatedColumn}),section=this._sections[sectionIndex];return section?section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i],content=section.consumer.sourceContentFor(aSource,!0);if(content)return content}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(-1!==section.consumer.sources.indexOf(util.getArg(aArgs,"source"))){var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){return{line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(aStr,aSourceRoot){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var section=this._sections[i],sectionMappings=section.consumer._generatedMappings,j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[j],source=section.consumer._sources.at(mapping.source);null!==section.consumer.sourceRoot&&(source=util.join(section.consumer.sourceRoot,source)),this._sources.add(source),source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name),name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.generatedColumn+(section.generatedOffset.generatedLine===mapping.generatedLine?section.generatedOffset.generatedColumn-1:0),originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping),"number"==typeof adjustedMapping.originalLine&&this.__originalMappings.push(adjustedMapping)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer},{"./array-set":441,"./base64-vlq":442,"./binary-search":444,"./quick-sort":446,"./util":450}],448:[function(require,module,exports){function SourceMapGenerator(aArgs){aArgs||(aArgs={}),this._file=util.getArg(aArgs,"file",null),this._sourceRoot=util.getArg(aArgs,"sourceRoot",null),this._skipValidation=util.getArg(aArgs,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot,generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});return aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};null!=mapping.source&&(newMapping.source=mapping.source,null!=sourceRoot&&(newMapping.source=util.relative(sourceRoot,newMapping.source)),newMapping.original={line:mapping.originalLine,column:mapping.originalColumn},null!=mapping.name&&(newMapping.name=mapping.name)),generator.addMapping(newMapping)}),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&generator.setSourceContent(sourceFile,content)}),generator},SourceMapGenerator.prototype.addMapping=function(aArgs){var generated=util.getArg(aArgs,"generated"),original=util.getArg(aArgs,"original",null),source=util.getArg(aArgs,"source",null),name=util.getArg(aArgs,"name",null);this._skipValidation||this._validateMapping(generated,original,source,name),null!=source&&(source=String(source),this._sources.has(source)||this._sources.add(source)),null!=name&&(name=String(name),this._names.has(name)||this._names.add(name)),this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:null!=original&&original.line,originalColumn:null!=original&&original.column,source:source,name:name})},SourceMapGenerator.prototype.setSourceContent=function(aSourceFile,aSourceContent){var source=aSourceFile;null!=this._sourceRoot&&(source=util.relative(this._sourceRoot,source)),null!=aSourceContent?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util.toSetString(source)]=aSourceContent):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(source)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(null==aSourceFile){if(null==aSourceMapConsumer.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile));var newSources=new ArraySet,newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&null!=mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});null!=original.source&&(mapping.source=original.source,null!=aSourceMapPath&&(mapping.source=util.join(aSourceMapPath,mapping.source)),null!=sourceRoot&&(mapping.source=util.relative(sourceRoot,mapping.source)),mapping.originalLine=original.line,mapping.originalColumn=original.column,null!=original.name&&(mapping.name=original.name))}var source=mapping.source;null==source||newSources.has(source)||newSources.add(source);var name=mapping.name;null==name||newNames.has(name)||newNames.add(name)},this),this._sources=newSources,this._names=newNames,aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aSourceMapPath&&(sourceFile=util.join(aSourceMapPath,sourceFile)),null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile)),this.setSourceContent(sourceFile,content))},this)},SourceMapGenerator.prototype._validateMapping=function(aGenerated,aOriginal,aSource,aName){if(aOriginal&&"number"!=typeof aOriginal.line&&"number"!=typeof aOriginal.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0)||aOriginal||aSource||aName)&&!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource))throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var next,mapping,nameIdx,sourceIdx,previousGeneratedColumn=0,previousGeneratedLine=1,previousOriginalColumn=0,previousOriginalLine=0,previousName=0,previousSource=0,result="",mappings=this._mappings.toArray(),i=0,len=mappings.length;i<len;i++){if(mapping=mappings[i],next="",mapping.generatedLine!==previousGeneratedLine)for(previousGeneratedColumn=0;mapping.generatedLine!==previousGeneratedLine;)next+=";",previousGeneratedLine++;else if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1]))continue;next+=","}next+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn),previousGeneratedColumn=mapping.generatedColumn,null!=mapping.source&&(sourceIdx=this._sources.indexOf(mapping.source),next+=base64VLQ.encode(sourceIdx-previousSource),previousSource=sourceIdx,next+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine),previousOriginalLine=mapping.originalLine-1,next+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn),previousOriginalColumn=mapping.originalColumn,null!=mapping.name&&(nameIdx=this._names.indexOf(mapping.name),next+=base64VLQ.encode(nameIdx-previousName),previousName=nameIdx)),result+=next}return result},SourceMapGenerator.prototype._generateSourcesContent=function(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents)return null;null!=aSourceRoot&&(source=util.relative(aSourceRoot,source));var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(map.file=this._file),null!=this._sourceRoot&&(map.sourceRoot=this._sourceRoot),this._sourcesContents&&(map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)),map},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator},{"./array-set":441,"./base64-vlq":442,"./mapping-list":445,"./util":450}],449:[function(require,module,exports){function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[],this.sourceContents={},this.line=null==aLine?null:aLine,this.column=null==aColumn?null:aColumn,this.source=null==aSource?null:aSource,this.name=null==aName?null:aName,this[isSourceNode]=!0,null!=aChunks&&this.add(aChunks)}var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,isSourceNode="$$$isSourceNode$$$";SourceNode.fromStringWithSourceMap=function(aGeneratedCode,aSourceMapConsumer,aRelativePath){function addMappingWithCode(mapping,code){if(null===mapping||void 0===mapping.source)node.add(code);else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}var node=new SourceNode,remainingLines=aGeneratedCode.split(REGEX_NEWLINE),remainingLinesIndex=0,shiftNextLine=function(){function getNextLine(){return remainingLinesIndex<remainingLines.length?remainingLines[remainingLinesIndex++]:void 0}return getNextLine()+(getNextLine()||"")},lastGeneratedLine=1,lastGeneratedColumn=0,lastMapping=null;return aSourceMapConsumer.eachMapping(function(mapping){if(null!==lastMapping){if(!(lastGeneratedLine<mapping.generatedLine)){var nextLine=remainingLines[remainingLinesIndex],code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);return remainingLines[remainingLinesIndex]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn),lastGeneratedColumn=mapping.generatedColumn,addMappingWithCode(lastMapping,code),void(lastMapping=mapping)}addMappingWithCode(lastMapping,shiftNextLine()),lastGeneratedLine++,lastGeneratedColumn=0}for(;lastGeneratedLine<mapping.generatedLine;)node.add(shiftNextLine()),lastGeneratedLine++;if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[remainingLinesIndex];node.add(nextLine.substr(0,mapping.generatedColumn)),remainingLines[remainingLinesIndex]=nextLine.substr(mapping.generatedColumn),lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this),remainingLinesIndex<remainingLines.length&&(lastMapping&&addMappingWithCode(lastMapping,shiftNextLine()),node.add(remainingLines.splice(remainingLinesIndex).join(""))),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aRelativePath&&(sourceFile=util.join(aRelativePath,sourceFile)),node.setSourceContent(sourceFile,content))}),node},SourceNode.prototype.add=function(aChunk){if(Array.isArray(aChunk))aChunk.forEach(function(chunk){this.add(chunk)},this);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);aChunk&&this.children.push(aChunk)}return this},SourceNode.prototype.prepend=function(aChunk){if(Array.isArray(aChunk))for(var i=aChunk.length-1;i>=0;i--)this.prepend(aChunk[i]);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);this.children.unshift(aChunk)}return this},SourceNode.prototype.walk=function(aFn){for(var chunk,i=0,len=this.children.length;i<len;i++)chunk=this.children[i],chunk[isSourceNode]?chunk.walk(aFn):""!==chunk&&aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(aSep){var newChildren,i,len=this.children.length;if(len>0){for(newChildren=[],i=0;i<len-1;i++)newChildren.push(this.children[i]),newChildren.push(aSep);newChildren.push(this.children[i]),this.children=newChildren}return this},SourceNode.prototype.replaceRight=function(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];return lastChild[isSourceNode]?lastChild.replaceRight(aPattern,aReplacement):"string"==typeof lastChild?this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement):this.children.push("".replace(aPattern,aReplacement)),this},SourceNode.prototype.setSourceContent=function(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent},SourceNode.prototype.walkSourceContents=function(aFn){for(var i=0,len=this.children.length;i<len;i++)this.children[i][isSourceNode]&&this.children[i].walkSourceContents(aFn);for(var sources=Object.keys(this.sourceContents),i=0,len=sources.length;i<len;i++)aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])},SourceNode.prototype.toString=function(){var str="";return this.walk(function(chunk){str+=chunk}),str},SourceNode.prototype.toStringWithSourceMap=function(aArgs){var generated={code:"",line:1,column:0},map=new SourceMapGenerator(aArgs),sourceMappingActive=!1,lastOriginalSource=null,lastOriginalLine=null,lastOriginalColumn=null,lastOriginalName=null;return this.walk(function(chunk,original){generated.code+=chunk,null!==original.source&&null!==original.line&&null!==original.column?(lastOriginalSource===original.source&&lastOriginalLine===original.line&&lastOriginalColumn===original.column&&lastOriginalName===original.name||map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name}),lastOriginalSource=original.source,lastOriginalLine=original.line,lastOriginalColumn=original.column,lastOriginalName=original.name,sourceMappingActive=!0):sourceMappingActive&&(map.addMapping({generated:{line:generated.line,column:generated.column}}),lastOriginalSource=null,sourceMappingActive=!1);for(var idx=0,length=chunk.length;idx<length;idx++)10===chunk.charCodeAt(idx)?(generated.line++,generated.column=0,idx+1===length?(lastOriginalSource=null,sourceMappingActive=!1):sourceMappingActive&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})):generated.column++}),this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)}),{code:generated.code,map:map}},exports.SourceNode=SourceNode},{"./source-map-generator":448,"./util":450}],450:[function(require,module,exports){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs)return aArgs[aName];if(3===arguments.length)return aDefaultValue;throw new Error('"'+aName+'" is a required argument.')}function urlParse(aUrl){var match=aUrl.match(urlRegexp);return match?{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}:null}function urlGenerate(aParsedUrl){var url="";return aParsedUrl.scheme&&(url+=aParsedUrl.scheme+":"),url+="//",aParsedUrl.auth&&(url+=aParsedUrl.auth+"@"),aParsedUrl.host&&(url+=aParsedUrl.host),aParsedUrl.port&&(url+=":"+aParsedUrl.port),aParsedUrl.path&&(url+=aParsedUrl.path),url}function normalize(aPath){var path=aPath,url=urlParse(aPath);if(url){if(!url.path)return aPath;path=url.path}for(var part,isAbsolute=exports.isAbsolute(path),parts=path.split(/\/+/),up=0,i=parts.length-1;i>=0;i--)part=parts[i],"."===part?parts.splice(i,1):".."===part?up++:up>0&&(""===part?(parts.splice(i+1,up),up=0):(parts.splice(i,2),up--));return path=parts.join("/"),""===path&&(path=isAbsolute?"/":"."),url?(url.path=path,urlGenerate(url)):path}function join(aRoot,aPath){""===aRoot&&(aRoot="."),""===aPath&&(aPath=".");var aPathUrl=urlParse(aPath),aRootUrl=urlParse(aRoot);if(aRootUrl&&(aRoot=aRootUrl.path||"/"),aPathUrl&&!aPathUrl.scheme)return aRootUrl&&(aPathUrl.scheme=aRootUrl.scheme),urlGenerate(aPathUrl);if(aPathUrl||aPath.match(dataUrlRegexp))return aPath;if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path)return aRootUrl.host=aPath,urlGenerate(aRootUrl);var joined="/"===aPath.charAt(0)?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);return aRootUrl?(aRootUrl.path=joined,urlGenerate(aRootUrl)):joined}function relative(aRoot,aPath){""===aRoot&&(aRoot="."),aRoot=aRoot.replace(/\/$/,"");for(var level=0;0!==aPath.indexOf(aRoot+"/");){var index=aRoot.lastIndexOf("/");if(index<0)return aPath;if(aRoot=aRoot.slice(0,index),aRoot.match(/^([^\/]+:\/)?\/*$/))return aPath;++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}function identity(s){return s}function toSetString(aStr){return isProtoString(aStr)?"$"+aStr:aStr}function fromSetString(aStr){return isProtoString(aStr)?aStr.slice(1):aStr}function isProtoString(s){if(!s)return!1;var length=s.length;if(length<9)return!1;if(95!==s.charCodeAt(length-1)||95!==s.charCodeAt(length-2)||111!==s.charCodeAt(length-3)||116!==s.charCodeAt(length-4)||111!==s.charCodeAt(length-5)||114!==s.charCodeAt(length-6)||112!==s.charCodeAt(length-7)||95!==s.charCodeAt(length-8)||95!==s.charCodeAt(length-9))return!1;for(var i=length-10;i>=0;i--)if(36!==s.charCodeAt(i))return!1;return!0}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;return 0!==cmp?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:0!==(cmp=mappingA.originalColumn-mappingB.originalColumn)||onlyCompareOriginal?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)?cmp:(cmp=mappingA.generatedLine-mappingB.generatedLine,0!==cmp?cmp:mappingA.name-mappingB.name)}function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)||onlyCompareGenerated?cmp:0!==(cmp=mappingA.source-mappingB.source)?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:mappingA.name-mappingB.name)}function strcmp(aStr1,aStr2){return aStr1===aStr2?0:aStr1>aStr2?1:-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:0!==(cmp=mappingA.generatedColumn-mappingB.generatedColumn)?cmp:0!==(cmp=strcmp(mappingA.source,mappingB.source))?cmp:0!==(cmp=mappingA.originalLine-mappingB.originalLine)?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name))}exports.getArg=getArg
;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,dataUrlRegexp=/^data:.+\,.+$/;exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.isAbsolute=function(aPath){return"/"===aPath.charAt(0)||!!aPath.match(urlRegexp)},exports.relative=relative;var supportsNullProto=function(){return!("__proto__"in Object.create(null))}();exports.toSetString=supportsNullProto?identity:toSetString,exports.fromSetString=supportsNullProto?identity:fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated},{}],451:[function(require,module,exports){arguments[4][432][0].apply(exports,arguments)},{"./lib/source-map-consumer":447,"./lib/source-map-generator":448,"./lib/source-node":449,dup:432}],452:[function(require,module,exports){(function(Buffer){function array_to_hash(a){for(var ret=Object.create(null),i=0;i<a.length;++i)ret[a[i]]=!0;return ret}function slice(a,start){return Array.prototype.slice.call(a,start||0)}function characters(str){return str.split("")}function member(name,array){return array.indexOf(name)>=0}function find_if(func,array){for(var i=0,n=array.length;i<n;++i)if(func(array[i]))return array[i]}function repeat_string(str,i){if(i<=0)return"";if(1==i)return str;var d=repeat_string(str,i>>1);return d+=d,1&i&&(d+=str),d}function configure_error_stack(fn){Object.defineProperty(fn.prototype,"stack",{get:function(){var err=new Error(this.message);err.name=this.name;try{throw err}catch(e){return e.stack}}})}function DefaultsError(msg,defs){this.message=msg,this.defs=defs}function defaults(args,defs,croak){!0===args&&(args={});var ret=args||{};if(croak)for(var i in ret)HOP(ret,i)&&!HOP(defs,i)&&DefaultsError.croak("`"+i+"` is not a supported option",defs);for(var i in defs)HOP(defs,i)&&(ret[i]=args&&HOP(args,i)?args[i]:defs[i]);return ret}function merge(obj,ext){var count=0;for(var i in ext)HOP(ext,i)&&(obj[i]=ext[i],count++);return count}function noop(){}function return_false(){return!1}function return_true(){return!0}function return_this(){return this}function return_null(){return null}function push_uniq(array,el){array.indexOf(el)<0&&array.push(el)}function string_template(text,props){return text.replace(/\{(.+?)\}/g,function(str,p){return props&&props[p]})}function remove(array,el){for(var i=array.length;--i>=0;)array[i]===el&&array.splice(i,1)}function mergeSort(array,cmp){function merge(a,b){for(var r=[],ai=0,bi=0,i=0;ai<a.length&&bi<b.length;)cmp(a[ai],b[bi])<=0?r[i++]=a[ai++]:r[i++]=b[bi++];return ai<a.length&&r.push.apply(r,a.slice(ai)),bi<b.length&&r.push.apply(r,b.slice(bi)),r}function _ms(a){if(a.length<=1)return a;var m=Math.floor(a.length/2),left=a.slice(0,m),right=a.slice(m);return left=_ms(left),right=_ms(right),merge(left,right)}return array.length<2?array.slice():_ms(array)}function set_difference(a,b){return a.filter(function(el){return b.indexOf(el)<0})}function set_intersection(a,b){return a.filter(function(el){return b.indexOf(el)>=0})}function makePredicate(words){function quote(word){return JSON.stringify(word).replace(/[\u2028\u2029]/g,function(s){switch(s){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return s})}function compareTo(arr){if(1==arr.length)return f+="return str === "+quote(arr[0])+";";f+="switch(str){";for(var i=0;i<arr.length;++i)f+="case "+quote(arr[i])+":";f+="return true}return false;"}words instanceof Array||(words=words.split(" "));var f="",cats=[];out:for(var i=0;i<words.length;++i){for(var j=0;j<cats.length;++j)if(cats[j][0].length==words[i].length){cats[j].push(words[i]);continue out}cats.push([words[i]])}if(cats.length>3){cats.sort(function(a,b){return b.length-a.length}),f+="switch(str.length){";for(var i=0;i<cats.length;++i){var cat=cats[i];f+="case "+cat[0].length+":",compareTo(cat)}f+="}"}else compareTo(words);return new Function("str",f)}function all(array,predicate){for(var i=array.length;--i>=0;)if(!predicate(array[i]))return!1;return!0}function Dictionary(){this._values=Object.create(null),this._size=0}function HOP(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function first_in_statement(stack){for(var p,node=stack.parent(-1),i=0;p=stack.parent(i);i++){if(p instanceof AST_Statement&&p.body===node)return!0;if(!(p instanceof AST_Seq&&p.car===node||p instanceof AST_Call&&p.expression===node&&!(p instanceof AST_New)||p instanceof AST_Dot&&p.expression===node||p instanceof AST_Sub&&p.expression===node||p instanceof AST_Conditional&&p.condition===node||p instanceof AST_Binary&&p.left===node||p instanceof AST_UnaryPostfix&&p.expression===node))return!1;node=p}}function DEFNODE(type,props,methods,base){arguments.length<4&&(base=AST_Node),props=props?props.split(/\s+/):[];var self_props=props;base&&base.PROPS&&(props=props.concat(base.PROPS));for(var code="return function AST_"+type+"(props){ if (props) { ",i=props.length;--i>=0;)code+="this."+props[i]+" = props."+props[i]+";";var proto=base&&new base;(proto&&proto.initialize||methods&&methods.initialize)&&(code+="this.initialize();"),code+="}}";var ctor=new Function(code)();if(proto&&(ctor.prototype=proto,ctor.BASE=base),base&&base.SUBCLASSES.push(ctor),ctor.prototype.CTOR=ctor,ctor.PROPS=props||null,ctor.SELF_PROPS=self_props,ctor.SUBCLASSES=[],type&&(ctor.prototype.TYPE=ctor.TYPE=type),methods)for(i in methods)HOP(methods,i)&&(/^\$/.test(i)?ctor[i.substr(1)]=methods[i]:ctor.prototype[i]=methods[i]);return ctor.DEFMETHOD=function(name,method){this.prototype[name]=method},void 0!==exports&&(exports["AST_"+type]=ctor),ctor}function walk_body(node,visitor){var body=node.body;if(body instanceof AST_Statement)body._walk(visitor);else for(var i=0,len=body.length;i<len;i++)body[i]._walk(visitor)}function TreeWalker(callback){this.visit=callback,this.stack=[],this.directives=Object.create(null)}function is_letter(code){return code>=97&&code<=122||code>=65&&code<=90||code>=170&&UNICODE.letter.test(String.fromCharCode(code))}function is_digit(code){return code>=48&&code<=57}function is_alphanumeric_char(code){return is_digit(code)||is_letter(code)}function is_unicode_digit(code){return UNICODE.digit.test(String.fromCharCode(code))}function is_unicode_combining_mark(ch){return UNICODE.non_spacing_mark.test(ch)||UNICODE.space_combining_mark.test(ch)}function is_unicode_connector_punctuation(ch){return UNICODE.connector_punctuation.test(ch)}function is_identifier(name){return!RESERVED_WORDS(name)&&/^[a-z_$][a-z0-9_$]*$/i.test(name)}function is_identifier_start(code){return 36==code||95==code||is_letter(code)}function is_identifier_char(ch){var code=ch.charCodeAt(0);return is_identifier_start(code)||is_digit(code)||8204==code||8205==code||is_unicode_combining_mark(ch)||is_unicode_connector_punctuation(ch)||is_unicode_digit(code)}function is_identifier_string(str){return/^[a-z_$][a-z0-9_$]*$/i.test(str)}function parse_js_number(num){if(RE_HEX_NUMBER.test(num))return parseInt(num.substr(2),16);if(RE_OCT_NUMBER.test(num))return parseInt(num.substr(1),8);var val=parseFloat(num);return val==num?val:void 0}function JS_Parse_Error(message,filename,line,col,pos){this.message=message,this.filename=filename,this.line=line,this.col=col,this.pos=pos}function js_error(message,filename,line,col,pos){throw new JS_Parse_Error(message,filename,line,col,pos)}function is_token(token,type,val){return token.type==type&&(null==val||token.value==val)}function tokenizer($TEXT,filename,html5_comments,shebang){function peek(){return S.text.charAt(S.pos)}function next(signal_eof,in_string){var ch=S.text.charAt(S.pos++);if(signal_eof&&!ch)throw EX_EOF;return NEWLINE_CHARS(ch)?(S.newline_before=S.newline_before||!in_string,++S.line,S.col=0,in_string||"\r"!=ch||"\n"!=peek()||(++S.pos,ch="\n")):++S.col,ch}function forward(i){for(;i-- >0;)next()}function looking_at(str){return S.text.substr(S.pos,str.length)==str}function find_eol(){for(var text=S.text,i=S.pos,n=S.text.length;i<n;++i){var ch=text[i];if(NEWLINE_CHARS(ch))return i}return-1}function find(what,signal_eof){var pos=S.text.indexOf(what,S.pos);if(signal_eof&&-1==pos)throw EX_EOF;return pos}function start_token(){S.tokline=S.line,S.tokcol=S.col,S.tokpos=S.pos}function token(type,value,is_comment){S.regex_allowed="operator"==type&&!UNARY_POSTFIX(value)||"keyword"==type&&KEYWORDS_BEFORE_EXPRESSION(value)||"punc"==type&&PUNC_BEFORE_EXPRESSION(value),"punc"==type&&"."==value?prev_was_dot=!0:is_comment||(prev_was_dot=!1);var ret={type:type,value:value,line:S.tokline,col:S.tokcol,pos:S.tokpos,endline:S.line,endcol:S.col,endpos:S.pos,nlb:S.newline_before,file:filename};if(/^(?:num|string|regexp)$/i.test(type)&&(ret.raw=$TEXT.substring(ret.pos,ret.endpos)),!is_comment){ret.comments_before=S.comments_before,S.comments_before=[];for(var i=0,len=ret.comments_before.length;i<len;i++)ret.nlb=ret.nlb||ret.comments_before[i].nlb}return S.newline_before=!1,new AST_Token(ret)}function skip_whitespace(){for(;WHITESPACE_CHARS(peek());)next()}function read_while(pred){for(var ch,ret="",i=0;(ch=peek())&&pred(ch,i++);)ret+=next();return ret}function parse_error(err){js_error(err,filename,S.tokline,S.tokcol,S.tokpos)}function read_num(prefix){var has_e=!1,after_e=!1,has_x=!1,has_dot="."==prefix,num=read_while(function(ch,i){var code=ch.charCodeAt(0);switch(code){case 120:case 88:return!has_x&&(has_x=!0);case 101:case 69:return!!has_x||!has_e&&(has_e=after_e=!0);case 45:return after_e||0==i&&!prefix;case 43:return after_e;case after_e=!1,46:return!(has_dot||has_x||has_e)&&(has_dot=!0)}return is_alphanumeric_char(code)});prefix&&(num=prefix+num),RE_OCT_NUMBER.test(num)&&next_token.has_directive("use strict")&&parse_error("Legacy octal literals are not allowed in strict mode");var valid=parse_js_number(num);if(!isNaN(valid))return token("num",valid);parse_error("Invalid syntax: "+num)}function read_escaped_char(in_string){var ch=next(!0,in_string);switch(ch.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(hex_bytes(2));case 117:return String.fromCharCode(hex_bytes(4));case 10:return"";case 13:if("\n"==peek())return next(!0,in_string),""}return ch>="0"&&ch<="7"?read_octal_escape_sequence(ch):ch}function read_octal_escape_sequence(ch){var p=peek();return p>="0"&&p<="7"&&(ch+=next(!0),ch[0]<="3"&&(p=peek())>="0"&&p<="7"&&(ch+=next(!0))),"0"===ch?"\0":(ch.length>0&&next_token.has_directive("use strict")&&parse_error("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(ch,8)))}function hex_bytes(n){for(var num=0;n>0;--n){var digit=parseInt(next(!0),16);isNaN(digit)&&parse_error("Invalid hex-character pattern in string"),num=num<<4|digit}return num}function skip_line_comment(type){var ret,regex_allowed=S.regex_allowed,i=find_eol();return-1==i?(ret=S.text.substr(S.pos),S.pos=S.text.length):(ret=S.text.substring(S.pos,i),S.pos=i),S.col=S.tokcol+(S.pos-S.tokpos),S.comments_before.push(token(type,ret,!0)),S.regex_allowed=regex_allowed,next_token}function read_name(){for(var ch,hex,backslash=!1,name="",escaped=!1;null!=(ch=peek());)if(backslash)"u"!=ch&&parse_error("Expecting UnicodeEscapeSequence -- uXXXX"),ch=read_escaped_char(),is_identifier_char(ch)||parse_error("Unicode char: "+ch.charCodeAt(0)+" is not valid in identifier"),name+=ch,backslash=!1;else if("\\"==ch)escaped=backslash=!0,next();else{if(!is_identifier_char(ch))break;name+=next()}return KEYWORDS(name)&&escaped&&(hex=name.charCodeAt(0).toString(16).toUpperCase(),name="\\u"+"0000".substr(hex.length)+hex+name.slice(1)),name}function read_operator(prefix){function grow(op){if(!peek())return op;var bigger=op+peek();return OPERATORS(bigger)?(next(),grow(bigger)):op}return token("operator",grow(prefix||next()))}function handle_slash(){switch(next(),peek()){case"/":return next(),skip_line_comment("comment1");case"*":return next(),skip_multiline_comment()}return S.regex_allowed?read_regexp(""):read_operator("/")}function handle_dot(){return next(),is_digit(peek().charCodeAt(0))?read_num("."):token("punc",".")}function read_word(){var word=read_name();return prev_was_dot?token("name",word):KEYWORDS_ATOM(word)?token("atom",word):KEYWORDS(word)?OPERATORS(word)?token("operator",word):token("keyword",word):token("name",word)}function with_eof_error(eof_error,cont){return function(x){try{return cont(x)}catch(ex){if(ex!==EX_EOF)throw ex;parse_error(eof_error)}}}function next_token(force_regexp){if(null!=force_regexp)return read_regexp(force_regexp);for(shebang&&0==S.pos&&looking_at("#!")&&(start_token(),forward(2),skip_line_comment("comment5"));;){if(skip_whitespace(),start_token(),html5_comments){if(looking_at("\x3c!--")){forward(4),skip_line_comment("comment3");continue}if(looking_at("--\x3e")&&S.newline_before){forward(3),skip_line_comment("comment4");continue}}var ch=peek();if(!ch)return token("eof");var code=ch.charCodeAt(0);switch(code){case 34:case 39:return read_string(ch);case 46:return handle_dot();case 47:var tok=handle_slash();if(tok===next_token)continue;return tok}if(is_digit(code))return read_num();if(PUNC_CHARS(ch))return token("punc",next());if(OPERATOR_CHARS(ch))return read_operator();if(92==code||is_identifier_start(code))return read_word();break}parse_error("Unexpected character '"+ch+"'")}var S={text:$TEXT,filename:filename,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},prev_was_dot=!1,read_string=with_eof_error("Unterminated string constant",function(quote_char){for(var quote=next(),ret="";;){var ch=next(!0,!0);if("\\"==ch)ch=read_escaped_char(!0);else if(NEWLINE_CHARS(ch))parse_error("Unterminated string constant");else if(ch==quote)break;ret+=ch}var tok=token("string",ret);return tok.quote=quote_char,tok}),skip_multiline_comment=with_eof_error("Unterminated multiline comment",function(){var regex_allowed=S.regex_allowed,i=find("*/",!0),text=S.text.substring(S.pos,i).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return forward(text.length+2),S.comments_before.push(token("comment2",text,!0)),S.regex_allowed=regex_allowed,next_token}),read_regexp=with_eof_error("Unterminated regular expression",function(regexp){for(var ch,prev_backslash=!1,in_class=!1;ch=next(!0);)if(NEWLINE_CHARS(ch))parse_error("Unexpected line terminator");else if(prev_backslash)regexp+="\\"+ch,prev_backslash=!1;else if("["==ch)in_class=!0,regexp+=ch;else if("]"==ch&&in_class)in_class=!1,regexp+=ch;else{if("/"==ch&&!in_class)break;"\\"==ch?prev_backslash=!0:regexp+=ch}var mods=read_name();try{return token("regexp",new RegExp(regexp,mods))}catch(e){parse_error(e.message)}});return next_token.context=function(nc){return nc&&(S=nc),S},next_token.add_directive=function(directive){S.directive_stack[S.directive_stack.length-1].push(directive),void 0===S.directives[directive]?S.directives[directive]=1:S.directives[directive]++},next_token.push_directives_stack=function(){S.directive_stack.push([])},next_token.pop_directives_stack=function(){for(var directives=S.directive_stack[S.directive_stack.length-1],i=0;i<directives.length;i++)S.directives[directives[i]]--;S.directive_stack.pop()},next_token.has_directive=function(directive){return void 0!==S.directives[directive]&&S.directives[directive]>0},next_token}function parse($TEXT,options){function is(type,value){return is_token(S.token,type,value)}function peek(){return S.peeked||(S.peeked=S.input())}function next(){return S.prev=S.token,S.peeked?(S.token=S.peeked,S.peeked=null):S.token=S.input(),S.in_directives=S.in_directives&&("string"==S.token.type||is("punc",";")),S.token}function prev(){return S.prev}function croak(msg,line,col,pos){var ctx=S.input.context();js_error(msg,ctx.filename,null!=line?line:ctx.tokline,null!=col?col:ctx.tokcol,null!=pos?pos:ctx.tokpos)}function token_error(token,msg){croak(msg,token.line,token.col)}function unexpected(token){null==token&&(token=S.token),token_error(token,"Unexpected token: "+token.type+" ("+token.value+")")}function expect_token(type,val){if(is(type,val))return next();token_error(S.token,"Unexpected token "+S.token.type+" «"+S.token.value+"», expected "+type+" «"+val+"»")}function expect(punc){return expect_token("punc",punc)}function can_insert_semicolon(){return!options.strict&&(S.token.nlb||is("eof")||is("punc","}"))}function semicolon(optional){is("punc",";")?next():optional||can_insert_semicolon()||unexpected()}function parenthesised(){expect("(");var exp=expression(!0);return expect(")"),exp}function embed_tokens(parser){return function(){var start=S.token,expr=parser(),end=prev();return expr.start=start,expr.end=end,expr}}function handle_regexp(){(is("operator","/")||is("operator","/="))&&(S.peeked=null,S.token=S.input(S.token.value.substr(1)))}function labeled_statement(){var label=as_symbol(AST_Label);find_if(function(l){return l.name==label.name},S.labels)&&croak("Label "+label.name+" defined twice"),expect(":"),S.labels.push(label);var stat=statement();return S.labels.pop(),stat instanceof AST_IterationStatement||label.references.forEach(function(ref){ref instanceof AST_Continue&&(ref=ref.label.start,croak("Continue label `"+label.name+"` refers to non-IterationStatement.",ref.line,ref.col,ref.pos))}),new AST_LabeledStatement({body:stat,label:label})}function simple_statement(tmp){return new AST_SimpleStatement({body:(tmp=expression(!0),semicolon(),tmp)})}function break_cont(type){var ldef,label=null;can_insert_semicolon()||(label=as_symbol(AST_LabelRef,!0)),null!=label?(ldef=find_if(function(l){return l.name==label.name},S.labels),ldef||croak("Undefined label "+label.name),label.thedef=ldef):0==S.in_loop&&croak(type.TYPE+" not inside a loop or switch"),semicolon();var stat=new type({label:label});return ldef&&ldef.references.push(stat),stat}function for_(){expect("(");var init=null;return!is("punc",";")&&(init=is("keyword","var")?(next(),var_(!0)):expression(!0,!0),is("operator","in"))?(init instanceof AST_Var&&init.definitions.length>1&&croak("Only one variable declaration allowed in for..in loop"),next(),for_in(init)):regular_for(init)}function regular_for(init){expect(";");var test=is("punc",";")?null:expression(!0);expect(";");var step=is("punc",")")?null:expression(!0);return expect(")"),new AST_For({init:init,condition:test,step:step,body:in_loop(statement)})}function for_in(init){var lhs=init instanceof AST_Var?init.definitions[0].name:null,obj=expression(!0);return expect(")"),new AST_ForIn({init:init,name:lhs,object:obj,body:in_loop(statement)})}function if_(){var cond=parenthesised(),body=statement(),belse=null;return is("keyword","else")&&(next(),belse=statement()),new AST_If({condition:cond,body:body,alternative:belse})}function block_(){expect("{");for(var a=[];!is("punc","}");)is("eof")&&unexpected(),a.push(statement());return next(),a}function switch_body_(){expect("{");for(var tmp,a=[],cur=null,branch=null;!is("punc","}");)is("eof")&&unexpected(),is("keyword","case")?(branch&&(branch.end=prev()),cur=[],branch=new AST_Case({start:(tmp=S.token,next(),tmp),expression:expression(!0),body:cur}),a.push(branch),expect(":")):is("keyword","default")?(branch&&(branch.end=prev()),cur=[],branch=new AST_Default({start:(tmp=S.token,next(),expect(":"),tmp),body:cur}),a.push(branch)):(cur||unexpected(),cur.push(statement()));return branch&&(branch.end=prev()),next(),a}function try_(){var body=block_(),bcatch=null,bfinally=null;if(is("keyword","catch")){var start=S.token;next(),expect("(");var name=as_symbol(AST_SymbolCatch);expect(")"),bcatch=new AST_Catch({start:start,argname:name,body:block_(),end:prev()})}if(is("keyword","finally")){var start=S.token;next(),bfinally=new AST_Finally({start:start,body:block_(),end:prev()})}return bcatch||bfinally||croak("Missing catch/finally blocks"),new AST_Try({body:body,bcatch:bcatch,bfinally:bfinally})}function vardefs(no_in,in_const){for(var a=[];a.push(new AST_VarDef({start:S.token,name:as_symbol(in_const?AST_SymbolConst:AST_SymbolVar),value:is("operator","=")?(next(),expression(!1,no_in)):null,end:prev()})),is("punc",",");)next();return a}function as_atom_node(){var ret,tok=S.token;switch(tok.type){case"name":case"keyword":ret=_make_symbol(AST_SymbolRef);break;case"num":ret=new AST_Number({start:tok,end:tok,value:tok.value});break;case"string":ret=new AST_String({start:tok,end:tok,value:tok.value,quote:tok.quote});break;case"regexp":ret=new AST_RegExp({start:tok,end:tok,value:tok.value});break;case"atom":switch(tok.value){case"false":ret=new AST_False({start:tok,end:tok});break;case"true":ret=new AST_True({start:tok,end:tok});break;case"null":ret=new AST_Null({start:tok,end:tok})}break;case"operator":is_identifier_string(tok.value)||croak("Invalid getter/setter name: "+tok.value,tok.line,tok.col,tok.pos),ret=_make_symbol(AST_SymbolRef)}return next(),ret}function expr_list(closing,allow_trailing_comma,allow_empty){for(var first=!0,a=[];!is("punc",closing)&&(first?first=!1:expect(","),!allow_trailing_comma||!is("punc",closing));)is("punc",",")&&allow_empty?a.push(new AST_Hole({start:S.token,end:S.token})):a.push(expression(!1));return next(),a}function as_property_name(){var tmp=S.token;switch(tmp.type){case"operator":KEYWORDS(tmp.value)||unexpected();case"num":case"string":case"name":case"keyword":case"atom":return next(),tmp.value;default:unexpected()}}function as_name(){var tmp=S.token;return"name"!=tmp.type&&unexpected(),next(),tmp.value}function _make_symbol(type){var name=S.token.value;return new("this"==name?AST_This:type)({name:String(name),start:S.token,end:S.token})}function as_symbol(type,noerror){if(!is("name"))return noerror||croak("Name expected"),null;var sym=_make_symbol(type);return next(),sym}function make_unary(ctor,token,expr){var op=token.value;return"++"!=op&&"--"!=op||is_assignable(expr)||croak("Invalid use of "+op+" operator",token.line,token.col,token.pos),new ctor({operator:op,expression:expr})}function expr_ops(no_in){return expr_op(maybe_unary(!0),0,no_in)}function is_assignable(expr){return!!options.cli||(expr instanceof AST_PropAccess||expr instanceof AST_SymbolRef)}function in_loop(cont){++S.in_loop;var ret=cont();return--S.in_loop,ret}options=defaults(options,{bare_returns:!1,cli:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null});var S={input:"string"==typeof $TEXT?tokenizer($TEXT,options.filename,options.html5_comments,options.shebang):$TEXT,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};S.token=next();var statement=embed_tokens(function(){switch(handle_regexp(),S.token.type){case"string":if(S.in_directives){var token=peek();-1==S.token.raw.indexOf("\\")&&(token.nlb||is_token(token,"eof")||is_token(token,"punc",";")||is_token(token,"punc","}"))?S.input.add_directive(S.token.value):S.in_directives=!1}var dir=S.in_directives,stat=simple_statement();return dir?new AST_Directive(stat.body):stat;case"num":case"regexp":case"operator":case"atom":return simple_statement();case"name":return is_token(peek(),"punc",":")?labeled_statement():simple_statement();case"punc":switch(S.token.value){case"{":return new AST_BlockStatement({start:S.token,body:block_(),end:prev()});case"[":case"(":return simple_statement();case";":return S.in_directives=!1,next(),new AST_EmptyStatement;default:unexpected()}case"keyword":switch(S.token.value){case"break":return next(),break_cont(AST_Break);case"continue":return next(),break_cont(AST_Continue);case"debugger":return next(),semicolon(),new AST_Debugger;case"do":next();var body=in_loop(statement);expect_token("keyword","while");var condition=parenthesised();return semicolon(!0),new AST_Do({body:body,condition:condition});case"while":return next(),new AST_While({condition:parenthesised(),body:in_loop(statement)});case"for":return next(),for_();case"function":return next(),function_(AST_Defun);case"if":return next(),if_();case"return":0!=S.in_function||options.bare_returns||croak("'return' outside of function"),next();var value=null;return is("punc",";")?next():can_insert_semicolon()||(value=expression(!0),semicolon()),new AST_Return({value:value});case"switch":return next(),new AST_Switch({expression:parenthesised(),body:in_loop(switch_body_)});case"throw":next(),S.token.nlb&&croak("Illegal newline after 'throw'");var value=expression(!0);return semicolon(),new AST_Throw({value:value});case"try":return next(),try_();case"var":next();var node=var_();return semicolon(),node;case"const":next();var node=const_();return semicolon(),node;case"with":return S.input.has_directive("use strict")&&croak("Strict mode may not include a with statement"),next(),new AST_With({expression:parenthesised(),body:statement()})}}unexpected()}),function_=function(ctor){var in_statement=ctor===AST_Defun,name=is("name")?as_symbol(in_statement?AST_SymbolDefun:AST_SymbolLambda):null;return in_statement&&!name&&unexpected(),expect("("),new ctor({name:name,argnames:function(first,a){for(;!is("punc",")");)first?first=!1:expect(","),a.push(as_symbol(AST_SymbolFunarg));return next(),a}(!0,[]),body:function(loop,labels){++S.in_function,S.in_directives=!0,S.input.push_directives_stack(),S.in_loop=0,S.labels=[];var a=block_();return S.input.pop_directives_stack(),--S.in_function,S.in_loop=loop,S.labels=labels,a}(S.in_loop,S.labels)})},var_=function(no_in){return new AST_Var({start:prev(),definitions:vardefs(no_in,!1),end:prev()})},const_=function(){return new AST_Const({start:prev(),definitions:vardefs(!1,!0),end:prev()})},new_=function(allow_calls){var start=S.token;expect_token("operator","new");var args,newexp=expr_atom(!1);return is("punc","(")?(next(),args=expr_list(")")):args=[],subscripts(new AST_New({start:start,expression:newexp,args:args,end:prev()}),allow_calls)},expr_atom=function(allow_calls){if(is("operator","new"))return new_(allow_calls);var start=S.token;if(is("punc")){switch(start.value){case"(":next();var ex=expression(!0);return ex.start=start,ex.end=S.token,expect(")"),subscripts(ex,allow_calls);case"[":return subscripts(array_(),allow_calls);case"{":return subscripts(object_(),allow_calls)}unexpected()}if(is("keyword","function")){next();var func=function_(AST_Function);return func.start=start,func.end=prev(),subscripts(func,allow_calls)}if(ATOMIC_START_TOKEN[S.token.type])return subscripts(as_atom_node(),allow_calls);unexpected()},array_=embed_tokens(function(){return expect("["),new AST_Array({elements:expr_list("]",!options.strict,!0)})}),create_accessor=embed_tokens(function(){return function_(AST_Accessor)}),object_=embed_tokens(function(){expect("{");for(var first=!0,a=[];!is("punc","}")&&(first?first=!1:expect(","),options.strict||!is("punc","}"));){var start=S.token,type=start.type,name=as_property_name();if("name"==type&&!is("punc",":")){var key=new AST_SymbolAccessor({start:S.token,name:as_property_name(),end:prev()});if("get"==name){a.push(new AST_ObjectGetter({start:start,key:key,value:create_accessor(),end:prev()}));continue}if("set"==name){a.push(new AST_ObjectSetter({start:start,key:key,value:create_accessor(),end:prev()}));continue}}expect(":"),a.push(new AST_ObjectKeyVal({start:start,quote:start.quote,key:name,value:expression(!1),end:prev()}))}return next(),new AST_Object({properties:a})}),subscripts=function(expr,allow_calls){var start=expr.start;if(is("punc","."))return next(),subscripts(new AST_Dot({start:start,expression:expr,property:as_name(),end:prev()}),allow_calls);if(is("punc","[")){next();var prop=expression(!0);return expect("]"),subscripts(new AST_Sub({start:start,expression:expr,property:prop,end:prev()}),allow_calls)}return allow_calls&&is("punc","(")?(next(),subscripts(new AST_Call({start:start,expression:expr,args:expr_list(")"),end:prev()}),!0)):expr},maybe_unary=function(allow_calls){var start=S.token;if(is("operator")&&UNARY_PREFIX(start.value)){next(),handle_regexp();var ex=make_unary(AST_UnaryPrefix,start,maybe_unary(allow_calls));return ex.start=start,ex.end=prev(),ex}for(var val=expr_atom(allow_calls);is("operator")&&UNARY_POSTFIX(S.token.value)&&!S.token.nlb;)val=make_unary(AST_UnaryPostfix,S.token,val),val.start=start,val.end=S.token,next();return val},expr_op=function(left,min_prec,no_in){var op=is("operator")?S.token.value:null;"in"==op&&no_in&&(op=null);var prec=null!=op?PRECEDENCE[op]:null;if(null!=prec&&prec>min_prec){next();var right=expr_op(maybe_unary(!0),prec,no_in);return expr_op(new AST_Binary({start:left.start,left:left,operator:op,right:right,end:right.end}),min_prec,no_in)}return left},maybe_conditional=function(no_in){var start=S.token,expr=expr_ops(no_in);if(is("operator","?")){next();var yes=expression(!1);return expect(":"),new AST_Conditional({start:start,condition:expr,consequent:yes,alternative:expression(!1,no_in),end:prev()})}return expr},maybe_assign=function(no_in){var start=S.token,left=maybe_conditional(no_in),val=S.token.value;if(is("operator")&&ASSIGNMENT(val)){if(is_assignable(left))return next(),new AST_Assign({start:start,left:left,operator:val,right:maybe_assign(no_in),end:prev()});croak("Invalid assignment")}return left},expression=function(commas,no_in){var start=S.token,expr=maybe_assign(no_in);return commas&&is("punc",",")?(next(),new AST_Seq({start:start,car:expr,cdr:expression(!0,no_in),end:peek()})):expr};return options.expression?expression(!0):function(){var start=S.token,body=[];for(S.input.push_directives_stack();!is("eof");)body.push(statement());S.input.pop_directives_stack();var end=prev(),toplevel=options.toplevel;return toplevel?(toplevel.body=toplevel.body.concat(body),toplevel.end=end):toplevel=new AST_Toplevel({start:start,body:body,end:end}),toplevel}()}function TreeTransformer(before,after){TreeWalker.call(this),this.before=before,this.after=after}function SymbolDef(scope,index,orig){this.name=orig.name,this.orig=[orig],this.scope=scope,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.index=index,this.id=SymbolDef.next_id++}function is_some_comments(comment){return"comment2"==comment.type&&/@preserve|@license|@cc_on/i.test(comment.value)}function OutputStream(options){function to_ascii(str,identifier){return str.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(ch){var code=ch.charCodeAt(0).toString(16);if(code.length<=2&&!identifier){for(;code.length<2;)code="0"+code;return"\\x"+code}for(;code.length<4;)code="0"+code;return"\\u"+code})}function make_string(str,quote){function quote_single(){return"'"+str.replace(/\x27/g,"\\'")+"'"}function quote_double(){return'"'+str.replace(/\x22/g,'\\"')+'"'}var dq=0,sq=0;switch(str=str.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(s,i){switch(s){case'"':return++dq,'"';case"'":return++sq,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return options.screw_ie8?"\\v":"\\x0B";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-7]/.test(str.charAt(i+1))?"\\x00":"\\0"}return s}),options.ascii_only&&(str=to_ascii(str)),options.quote_style){case 1:return quote_single();case 2:return quote_double();case 3:return"'"==quote?quote_single():quote_double();default:return dq>sq?quote_single():quote_double()}}function encode_string(str,quote){var ret=make_string(str,quote);return options.inline_script&&(ret=ret.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1"),ret=ret.replace(/\x3c!--/g,"\\x3c!--"),ret=ret.replace(/--\x3e/g,"--\\x3e")),ret}function make_name(name){return name=name.toString(),options.ascii_only&&(name=to_ascii(name,!0)),name}function make_indent(back){return repeat_string(" ",options.indent_start+indentation-back*options.indent_level)}function print(str){str=String(str);var ch=str.charAt(0),prev=last.charAt(last.length-1);if(might_need_semicolon&&(might_need_semicolon=!1,
(":"==prev&&"}"==ch||(!ch||";}".indexOf(ch)<0)&&";"!=prev)&&(options.semicolons||requireSemicolonChars(ch)?(OUTPUT+=";",current_col++,current_pos++):(ensure_line_len(),OUTPUT+="\n",current_pos++,current_line++,current_col=0,/^\s+$/.test(str)&&(might_need_semicolon=!0)),options.beautify||(might_need_space=!1))),!options.beautify&&options.preserve_line&&stack[stack.length-1])for(var target_line=stack[stack.length-1].start.line;current_line<target_line;)ensure_line_len(),OUTPUT+="\n",current_pos++,current_line++,current_col=0,might_need_space=!1;might_need_space&&((is_identifier_char(prev)&&(is_identifier_char(ch)||"\\"==ch)||"/"==ch&&ch==prev||("+"==ch||"-"==ch)&&ch==last)&&(OUTPUT+=" ",current_col++,current_pos++),might_need_space=!1),OUTPUT+=str,current_pos+=str.length;var a=str.split(/\r?\n/),n=a.length-1;current_line+=n,current_col+=a[0].length,n>0&&(ensure_line_len(),current_col=a[n].length),last=str}function force_semicolon(){might_need_semicolon=!1,print(";")}function next_indent(){return indentation+options.indent_level}function with_block(cont){var ret;return print("{"),newline(),with_indent(next_indent(),function(){ret=cont()}),indent(),print("}"),ret}function with_parens(cont){print("(");var ret=cont();return print(")"),ret}function with_square(cont){print("[");var ret=cont();return print("]"),ret}function comma(){print(","),space()}function colon(){print(":"),options.space_colon&&space()}function get(){return might_add_newline&&ensure_line_len(),OUTPUT}options=defaults(options,{ascii_only:!1,beautify:!1,bracketize:!1,comments:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,screw_ie8:!0,semicolons:!0,shebang:!0,source_map:null,space_colon:!0,unescape_regexps:!1,width:80,wrap_iife:!1},!0);var comment_filter=return_false;if(options.comments){var comments=options.comments;if("string"==typeof options.comments&&/^\/.*\/[a-zA-Z]*$/.test(options.comments)){var regex_pos=options.comments.lastIndexOf("/");comments=new RegExp(options.comments.substr(1,regex_pos-1),options.comments.substr(regex_pos+1))}comment_filter=comments instanceof RegExp?function(comment){return"comment5"!=comment.type&&comments.test(comment.value)}:"function"==typeof comments?function(comment){return"comment5"!=comment.type&&comments(this,comment)}:"some"===comments?is_some_comments:return_true}var indentation=0,current_col=0,current_line=1,current_pos=0,OUTPUT="",might_need_space=!1,might_need_semicolon=!1,might_add_newline=0,last="",ensure_line_len=options.max_line_len?function(){if(current_col>options.max_line_len){if(might_add_newline){var left=OUTPUT.slice(0,might_add_newline),right=OUTPUT.slice(might_add_newline);OUTPUT=left+"\n"+right,current_line++,current_pos++,current_col=right.length}current_col>options.max_line_len&&AST_Node.warn("Output exceeds {max_line_len} characters",options)}might_add_newline=0}:noop,requireSemicolonChars=makePredicate("( [ + * / - , ."),space=options.beautify?function(){print(" ")}:function(){might_need_space=!0},indent=options.beautify?function(half){options.beautify&&print(make_indent(half?.5:0))}:noop,with_indent=options.beautify?function(col,cont){!0===col&&(col=next_indent());var save_indentation=indentation;indentation=col;var ret=cont();return indentation=save_indentation,ret}:function(col,cont){return cont()},newline=options.beautify?function(){print("\n")}:options.max_line_len?function(){ensure_line_len(),might_add_newline=OUTPUT.length}:noop,semicolon=options.beautify?function(){print(";")}:function(){might_need_semicolon=!0},add_mapping=options.source_map?function(token,name){try{token&&options.source_map.add(token.file||"?",current_line,current_col,token.line,token.col,name||"name"!=token.type?name:token.value)}catch(ex){AST_Node.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:token.file,line:token.line,col:token.col,cline:current_line,ccol:current_col,name:name||""})}}:noop,stack=[];return{get:get,toString:get,indent:indent,indentation:function(){return indentation},current_width:function(){return current_col-indentation},should_break:function(){return options.width&&this.current_width()>=options.width},newline:newline,print:print,space:space,comma:comma,colon:colon,last:function(){return last},semicolon:semicolon,force_semicolon:force_semicolon,to_ascii:to_ascii,print_name:function(name){print(make_name(name))},print_string:function(str,quote,escape_directive){var encoded=encode_string(str,quote);!0===escape_directive&&-1===encoded.indexOf("\\")&&(EXPECT_DIRECTIVE.test(OUTPUT)||force_semicolon(),force_semicolon()),print(encoded)},encode_string:encode_string,next_indent:next_indent,with_indent:with_indent,with_block:with_block,with_parens:with_parens,with_square:with_square,add_mapping:add_mapping,option:function(opt){return options[opt]},comment_filter:comment_filter,line:function(){return current_line},col:function(){return current_col},pos:function(){return current_pos},push_node:function(node){stack.push(node)},pop_node:function(){return stack.pop()},parent:function(n){return stack[stack.length-2-(n||0)]}}}function Compressor(options,false_by_default){if(!(this instanceof Compressor))return new Compressor(options,false_by_default);TreeTransformer.call(this,this.before,this.after),this.options=defaults(options,{angular:!1,booleans:!false_by_default,cascade:!false_by_default,collapse_vars:!false_by_default,comparisons:!false_by_default,conditionals:!false_by_default,dead_code:!false_by_default,drop_console:!1,drop_debugger:!false_by_default,evaluate:!false_by_default,expression:!1,global_defs:{},hoist_funs:!false_by_default,hoist_vars:!1,if_return:!false_by_default,join_vars:!false_by_default,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!false_by_default,negate_iife:!false_by_default,passes:1,properties:!false_by_default,pure_getters:!false_by_default&&"strict",pure_funcs:null,reduce_vars:!false_by_default,screw_ie8:!0,sequences:!false_by_default,side_effects:!false_by_default,switches:!false_by_default,top_retain:null,toplevel:!(!options||!options.top_retain),unsafe:!1,unsafe_comps:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unused:!false_by_default,warnings:!0},!0);var pure_funcs=this.options.pure_funcs;this.pure_funcs="function"==typeof pure_funcs?pure_funcs:pure_funcs?function(node){return pure_funcs.indexOf(node.expression.print_to_string())<0}:return_true;var top_retain=this.options.top_retain;top_retain instanceof RegExp?this.top_retain=function(def){return top_retain.test(def.name)}:"function"==typeof top_retain?this.top_retain=top_retain:top_retain&&("string"==typeof top_retain&&(top_retain=top_retain.split(/,/)),this.top_retain=function(def){return top_retain.indexOf(def.name)>=0});var sequences=this.options.sequences;this.sequences_limit=1==sequences?200:0|sequences,this.warnings_produced={}}function SourceMap(options){function add(source,gen_line,gen_col,orig_line,orig_col,name){if(orig_map){var info=orig_map.originalPositionFor({line:orig_line,column:orig_col});if(null===info.source)return;source=info.source,orig_line=info.line,orig_col=info.column,name=info.name||name}generator.addMapping({generated:{line:gen_line+options.dest_line_diff,column:gen_col},original:{line:orig_line+options.orig_line_diff,column:orig_col},source:source,name:name})}options=defaults(options,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var generator=new MOZ_SourceMap.SourceMapGenerator({file:options.file,sourceRoot:options.root}),orig_map=options.orig&&new MOZ_SourceMap.SourceMapConsumer(options.orig);return orig_map&&Array.isArray(options.orig.sources)&&orig_map._sources.toArray().forEach(function(source){var sourceContent=orig_map.sourceContentFor(source,!0);sourceContent&&generator.setSourceContent(source,sourceContent)}),{add:add,get:function(){return generator},toString:function(){return JSON.stringify(generator.toJSON())}}}function find_builtins(){function add(name){push_uniq(a,name)}var a=["null","true","false","Infinity","-Infinity","undefined"];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(ctor){Object.getOwnPropertyNames(ctor).map(add),ctor.prototype&&Object.getOwnPropertyNames(ctor.prototype).map(add)}),a}function mangle_properties(ast,options){function can_mangle(name){return!(unmangleable.indexOf(name)>=0)&&(!(reserved.indexOf(name)>=0)&&(options.only_cache?cache.props.has(name):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(name)))}function should_mangle(name){return!(ignore_quoted&&name in ignored)&&(!(regex&&!regex.test(name))&&(!(reserved.indexOf(name)>=0)&&(cache.props.has(name)||names_to_mangle.indexOf(name)>=0)))}function add(name,ignore){if(ignore)return void(ignored[name]=!0);can_mangle(name)&&push_uniq(names_to_mangle,name),should_mangle(name)||push_uniq(unmangleable,name)}function mangle(name){if(!should_mangle(name))return name;var mangled=cache.props.get(name);if(!mangled){if(debug){var debug_mangled="_$"+name+"$"+debug_name_suffix+"_";!can_mangle(debug_mangled)||ignore_quoted&&debug_mangled in ignored||(mangled=debug_mangled)}if(!mangled)do{mangled=base54(++cache.cname)}while(!can_mangle(mangled)||ignore_quoted&&mangled in ignored);cache.props.set(name,mangled)}return mangled}function addStrings(node,ignore){var out={};try{!function walk(node){node.walk(new TreeWalker(function(node){if(node instanceof AST_Seq)return walk(node.cdr),!0;if(node instanceof AST_String)return add(node.value,ignore),!0;if(node instanceof AST_Conditional)return walk(node.consequent),walk(node.alternative),!0;throw out}))}(node)}catch(ex){if(ex!==out)throw ex}}function mangleStrings(node){return node.transform(new TreeTransformer(function(node){return node instanceof AST_Seq?node.cdr=mangleStrings(node.cdr):node instanceof AST_String?node.value=mangle(node.value):node instanceof AST_Conditional&&(node.consequent=mangleStrings(node.consequent),node.alternative=mangleStrings(node.alternative)),node}))}options=defaults(options,{cache:null,debug:!1,ignore_quoted:!1,only_cache:!1,regex:null,reserved:null});var reserved=options.reserved;null==reserved&&(reserved=find_builtins());var cache=options.cache;null==cache&&(cache={cname:-1,props:new Dictionary});var debug_name_suffix,regex=options.regex,ignore_quoted=options.ignore_quoted,debug=!1!==options.debug;debug&&(debug_name_suffix=!0===options.debug?"":options.debug);var names_to_mangle=[],unmangleable=[],ignored={};return ast.walk(new TreeWalker(function(node){node instanceof AST_ObjectKeyVal?add(node.key,ignore_quoted&&node.quote):node instanceof AST_ObjectProperty?add(node.key.name):node instanceof AST_Dot?add(node.property):node instanceof AST_Sub&&addStrings(node.property,ignore_quoted)})),ast.transform(new TreeTransformer(function(node){node instanceof AST_ObjectKeyVal?ignore_quoted&&node.quote||(node.key=mangle(node.key)):node instanceof AST_ObjectProperty?node.key.name=mangle(node.key.name):node instanceof AST_Dot?node.property=mangle(node.property):node instanceof AST_Sub&&(ignore_quoted||(node.property=mangleStrings(node.property)))}))}var sys=require("util"),MOZ_SourceMap=require("source-map"),UglifyJS=exports;DefaultsError.prototype=Object.create(Error.prototype),DefaultsError.prototype.constructor=DefaultsError,DefaultsError.prototype.name="DefaultsError",configure_error_stack(DefaultsError),DefaultsError.croak=function(msg,defs){throw new DefaultsError(msg,defs)};var MAP=function(){function MAP(a,f,backwards){function doit(){var val=f(a[i],i),is_last=val instanceof Last;return is_last&&(val=val.v),val instanceof AtTop?(val=val.v,val instanceof Splice?top.push.apply(top,backwards?val.v.slice().reverse():val.v):top.push(val)):val!==skip&&(val instanceof Splice?ret.push.apply(ret,backwards?val.v.slice().reverse():val.v):ret.push(val)),is_last}var i,ret=[],top=[];if(a instanceof Array)if(backwards){for(i=a.length;--i>=0&&!doit(););ret.reverse(),top.reverse()}else for(i=0;i<a.length&&!doit();++i);else for(i in a)if(HOP(a,i)&&doit())break;return top.concat(ret)}function AtTop(val){this.v=val}function Splice(val){this.v=val}function Last(val){this.v=val}MAP.at_top=function(val){return new AtTop(val)},MAP.splice=function(val){return new Splice(val)},MAP.last=function(val){return new Last(val)};var skip=MAP.skip={};return MAP}();Dictionary.prototype={set:function(key,val){return this.has(key)||++this._size,this._values["$"+key]=val,this},add:function(key,val){return this.has(key)?this.get(key).push(val):this.set(key,[val]),this},get:function(key){return this._values["$"+key]},del:function(key){return this.has(key)&&(--this._size,delete this._values["$"+key]),this},has:function(key){return"$"+key in this._values},each:function(f){for(var i in this._values)f(this._values[i],i.substr(1))},size:function(){return this._size},map:function(f){var ret=[];for(var i in this._values)ret.push(f(this._values[i],i.substr(1)));return ret},toObject:function(){return this._values}},Dictionary.fromObject=function(obj){var dict=new Dictionary;return dict._size=merge(dict._values,obj),dict};var AST_Token=DEFNODE("Token","type value line col pos endline endcol endpos nlb comments_before file raw",{},null),AST_Node=DEFNODE("Node","start end",{_clone:function(deep){if(deep){var self=this.clone();return self.transform(new TreeTransformer(function(node){if(node!==self)return node.clone(!0)}))}return new this.CTOR(this)},clone:function(deep){return this._clone(deep)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(visitor){return visitor._visit(this)},walk:function(visitor){return this._walk(visitor)}},null);AST_Node.warn_function=null,AST_Node.warn=function(txt,props){AST_Node.warn_function&&AST_Node.warn_function(string_template(txt,props))};var AST_Statement=DEFNODE("Statement",null,{$documentation:"Base class of all statements"}),AST_Debugger=DEFNODE("Debugger",null,{$documentation:"Represents a debugger statement"},AST_Statement),AST_Directive=DEFNODE("Directive","value scope quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects",quote:"[string] the original quote character"}},AST_Statement),AST_SimpleStatement=DEFNODE("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor)})}},AST_Statement),AST_Block=DEFNODE("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(visitor){return visitor._visit(this,function(){walk_body(this,visitor)})}},AST_Statement),AST_BlockStatement=DEFNODE("BlockStatement",null,{$documentation:"A block statement"},AST_Block),AST_EmptyStatement=DEFNODE("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(visitor){return visitor._visit(this)}},AST_Statement),AST_StatementWithBody=DEFNODE("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor)})}},AST_Statement),AST_LabeledStatement=DEFNODE("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(visitor){return visitor._visit(this,function(){this.label._walk(visitor),this.body._walk(visitor)})},clone:function(deep){var node=this._clone(deep);if(deep){var label=node.label,def=this.label;node.walk(new TreeWalker(function(node){node instanceof AST_LoopControl&&node.label&&node.label.thedef===def&&(node.label.thedef=label,label.references.push(node))}))}return node}},AST_StatementWithBody),AST_IterationStatement=DEFNODE("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},AST_StatementWithBody),AST_DWLoop=DEFNODE("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},AST_IterationStatement),AST_Do=DEFNODE("Do",null,{$documentation:"A `do` statement",_walk:function(visitor){return visitor._visit(this,function(){this.body._walk(visitor),this.condition._walk(visitor)})}},AST_DWLoop),AST_While=DEFNODE("While",null,{$documentation:"A `while` statement",_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor),this.body._walk(visitor)})}},AST_DWLoop),AST_For=DEFNODE("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(visitor){return visitor._visit(this,function(){this.init&&this.init._walk(visitor),this.condition&&this.condition._walk(visitor),this.step&&this.step._walk(visitor),this.body._walk(visitor)})}},AST_IterationStatement),AST_ForIn=DEFNODE("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(visitor){return visitor._visit(this,function(){this.init._walk(visitor),this.object._walk(visitor),this.body._walk(visitor)})}},AST_IterationStatement),AST_With=DEFNODE("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor),this.body._walk(visitor)})}},AST_StatementWithBody),AST_Scope=DEFNODE("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},AST_Block),AST_Toplevel=DEFNODE("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(arg_parameter_pairs){var self=this,args=[],parameters=[];arg_parameter_pairs.forEach(function(pair){var splitAt=pair.lastIndexOf(":");args.push(pair.substr(0,splitAt)),parameters.push(pair.substr(splitAt+1))});var wrapped_tl="(function("+parameters.join(",")+"){ '$ORIG'; })("+args.join(",")+")";return wrapped_tl=parse(wrapped_tl),wrapped_tl=wrapped_tl.transform(new TreeTransformer(function(node){if(node instanceof AST_Directive&&"$ORIG"==node.value)return MAP.splice(self.body)}))},wrap_commonjs:function(name,export_all){var self=this,to_export=[];export_all&&(self.figure_out_scope(),self.walk(new TreeWalker(function(node){node instanceof AST_SymbolDeclaration&&node.definition().global&&(find_if(function(n){return n.name==node.name},to_export)||to_export.push(node))})));var wrapped_tl="(function(exports, global){ '$ORIG'; '$EXPORTS'; global['"+name+"'] = exports; }({}, (function(){return this}())))";return wrapped_tl=parse(wrapped_tl),wrapped_tl=wrapped_tl.transform(new TreeTransformer(function(node){if(node instanceof AST_Directive)switch(node.value){case"$ORIG":return MAP.splice(self.body);case"$EXPORTS":var body=[];return to_export.forEach(function(sym){body.push(new AST_SimpleStatement({body:new AST_Assign({left:new AST_Sub({expression:new AST_SymbolRef({name:"exports"}),property:new AST_String({value:sym.name})}),operator:"=",right:new AST_SymbolRef(sym)})}))}),MAP.splice(body)}}))}},AST_Scope),AST_Lambda=DEFNODE("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(visitor){return visitor._visit(this,function(){this.name&&this.name._walk(visitor);for(var argnames=this.argnames,i=0,len=argnames.length;i<len;i++)argnames[i]._walk(visitor);walk_body(this,visitor)})}},AST_Scope),AST_Accessor=DEFNODE("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},AST_Lambda),AST_Function=DEFNODE("Function",null,{$documentation:"A function expression"},AST_Lambda),AST_Defun=DEFNODE("Defun",null,{$documentation:"A function definition"},AST_Lambda),AST_Jump=DEFNODE("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},AST_Statement),AST_Exit=DEFNODE("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(visitor){return visitor._visit(this,this.value&&function(){this.value._walk(visitor)})}},AST_Jump),AST_Return=DEFNODE("Return",null,{$documentation:"A `return` statement"},AST_Exit),AST_Throw=DEFNODE("Throw",null,{$documentation:"A `throw` statement"},AST_Exit),AST_LoopControl=DEFNODE("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(visitor){return visitor._visit(this,this.label&&function(){this.label._walk(visitor)})}},AST_Jump),AST_Break=DEFNODE("Break",null,{$documentation:"A `break` statement"},AST_LoopControl),AST_Continue=DEFNODE("Continue",null,{$documentation:"A `continue` statement"},AST_LoopControl),AST_If=DEFNODE("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor),this.body._walk(visitor),this.alternative&&this.alternative._walk(visitor)})}},AST_StatementWithBody),AST_Switch=DEFNODE("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor),walk_body(this,visitor)})}},AST_Block),AST_SwitchBranch=DEFNODE("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},AST_Block),AST_Default=DEFNODE("Default",null,{$documentation:"A `default` switch branch"},AST_SwitchBranch),AST_Case=DEFNODE("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor),walk_body(this,visitor)})}},AST_SwitchBranch),AST_Try=DEFNODE("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(visitor){return visitor._visit(this,function(){walk_body(this,visitor),this.bcatch&&this.bcatch._walk(visitor),this.bfinally&&this.bfinally._walk(visitor)})}},AST_Block),AST_Catch=DEFNODE("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(visitor){return visitor._visit(this,function(){this.argname._walk(visitor),walk_body(this,visitor)})}},AST_Block),AST_Finally=DEFNODE("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},AST_Block),AST_Definitions=DEFNODE("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(visitor){return visitor._visit(this,function(){for(var definitions=this.definitions,i=0,len=definitions.length;i<len;i++)definitions[i]._walk(visitor)})}},AST_Statement),AST_Var=DEFNODE("Var",null,{$documentation:"A `var` statement"},AST_Definitions),AST_Const=DEFNODE("Const",null,{$documentation:"A `const` statement"},AST_Definitions),AST_VarDef=DEFNODE("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(visitor){return visitor._visit(this,function(){this.name._walk(visitor),this.value&&this.value._walk(visitor)})}}),AST_Call=DEFNODE("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor);for(var args=this.args,i=0,len=args.length;i<len;i++)args[i]._walk(visitor)})}}),AST_New=DEFNODE("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},AST_Call),AST_Seq=DEFNODE("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(x,y){var seq=new AST_Seq(x);return seq.car=x,seq.cdr=y,seq},$from_array:function(array){if(0==array.length)return null;if(1==array.length)return array[0].clone();for(var list=null,i=array.length;--i>=0;)list=AST_Seq.cons(array[i],list);for(var p=list;p;){if(p.cdr&&!p.cdr.cdr){p.cdr=p.cdr.car;break}p=p.cdr}return list},to_array:function(){for(var p=this,a=[];p;){if(a.push(p.car),p.cdr&&!(p.cdr instanceof AST_Seq)){a.push(p.cdr);break}p=p.cdr}return a},add:function(node){for(var p=this;p;){if(!(p.cdr instanceof AST_Seq)){var cell=AST_Seq.cons(p.cdr,node);return p.cdr=cell}p=p.cdr}},len:function(){return this.cdr instanceof AST_Seq?this.cdr.len()+1:2},_walk:function(visitor){return visitor._visit(this,function(){this.car._walk(visitor),this.cdr&&this.cdr._walk(visitor)})}}),AST_PropAccess=DEFNODE("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),AST_Dot=DEFNODE("Dot",null,{$documentation:"A dotted property access expression",_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor)})}},AST_PropAccess),AST_Sub=DEFNODE("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor),this.property._walk(visitor)})}},AST_PropAccess),AST_Unary=DEFNODE("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(visitor){return visitor._visit(this,function(){this.expression._walk(visitor)})}}),AST_UnaryPrefix=DEFNODE("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},AST_Unary),AST_UnaryPostfix=DEFNODE("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},AST_Unary),AST_Binary=DEFNODE("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(visitor){return visitor._visit(this,function(){this.left._walk(visitor),this.right._walk(visitor)})}}),AST_Conditional=DEFNODE("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(visitor){return visitor._visit(this,function(){this.condition._walk(visitor),this.consequent._walk(visitor),this.alternative._walk(visitor)})}}),AST_Assign=DEFNODE("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},AST_Binary),AST_Array=DEFNODE("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(visitor){return visitor._visit(this,function(){for(var elements=this.elements,i=0,len=elements.length;i<len;i++)elements[i]._walk(visitor)})}}),AST_Object=DEFNODE("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(visitor){return visitor._visit(this,function(){for(var properties=this.properties,i=0,len=properties.length;i<len;i++)properties[i]._walk(visitor)})}}),AST_ObjectProperty=DEFNODE("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an AST_SymbolAccessor.",value:"[AST_Node] property value.  For setters and getters this is an AST_Accessor."},_walk:function(visitor){return visitor._visit(this,function(){this.value._walk(visitor)})}}),AST_ObjectKeyVal=DEFNODE("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},AST_ObjectProperty),AST_ObjectSetter=DEFNODE("ObjectSetter",null,{$documentation:"An object setter property"},AST_ObjectProperty),AST_ObjectGetter=DEFNODE("ObjectGetter",null,{$documentation:"An object getter property"},AST_ObjectProperty),AST_Symbol=DEFNODE("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),AST_SymbolAccessor=DEFNODE("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},AST_Symbol),AST_SymbolDeclaration=DEFNODE("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)"},AST_Symbol),AST_SymbolVar=DEFNODE("SymbolVar",null,{$documentation:"Symbol defining a variable"},AST_SymbolDeclaration),AST_SymbolConst=DEFNODE("SymbolConst",null,{$documentation:"A constant declaration"},AST_SymbolDeclaration),AST_SymbolFunarg=DEFNODE("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},AST_SymbolVar),AST_SymbolDefun=DEFNODE("SymbolDefun",null,{$documentation:"Symbol defining a function"},AST_SymbolDeclaration),AST_SymbolLambda=DEFNODE("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},AST_SymbolDeclaration),AST_SymbolCatch=DEFNODE("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"
},AST_SymbolDeclaration),AST_Label=DEFNODE("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},AST_Symbol),AST_SymbolRef=DEFNODE("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},AST_Symbol),AST_LabelRef=DEFNODE("LabelRef",null,{$documentation:"Reference to a label symbol"},AST_Symbol),AST_This=DEFNODE("This",null,{$documentation:"The `this` symbol"},AST_Symbol),AST_Constant=DEFNODE("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),AST_String=DEFNODE("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},AST_Constant),AST_Number=DEFNODE("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},AST_Constant),AST_RegExp=DEFNODE("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},AST_Constant),AST_Atom=DEFNODE("Atom",null,{$documentation:"Base class for atoms"},AST_Constant),AST_Null=DEFNODE("Null",null,{$documentation:"The `null` atom",value:null},AST_Atom),AST_NaN=DEFNODE("NaN",null,{$documentation:"The impossible value",value:NaN},AST_Atom),AST_Undefined=DEFNODE("Undefined",null,{$documentation:"The `undefined` value",value:void 0},AST_Atom),AST_Hole=DEFNODE("Hole",null,{$documentation:"A hole in an array",value:void 0},AST_Atom),AST_Infinity=DEFNODE("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},AST_Atom),AST_Boolean=DEFNODE("Boolean",null,{$documentation:"Base class for booleans"},AST_Atom),AST_False=DEFNODE("False",null,{$documentation:"The `false` atom",value:!1},AST_Boolean),AST_True=DEFNODE("True",null,{$documentation:"The `true` atom",value:!0},AST_Boolean);TreeWalker.prototype={_visit:function(node,descend){this.push(node);var ret=this.visit(node,descend?function(){descend.call(node)}:noop);return!ret&&descend&&descend.call(node),this.pop(node),ret},parent:function(n){return this.stack[this.stack.length-2-(n||0)]},push:function(node){node instanceof AST_Lambda?this.directives=Object.create(this.directives):node instanceof AST_Directive&&!this.directives[node.value]&&(this.directives[node.value]=node),this.stack.push(node)},pop:function(node){this.stack.pop(),node instanceof AST_Lambda&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(type){for(var stack=this.stack,i=stack.length;--i>=0;){var x=stack[i];if(x instanceof type)return x}},has_directive:function(type){var dir=this.directives[type];if(dir)return dir;var node=this.stack[this.stack.length-1];if(node instanceof AST_Scope)for(var i=0;i<node.body.length;++i){var st=node.body[i];if(!(st instanceof AST_Directive))break;if(st.value==type)return st}},in_boolean_context:function(){for(var stack=this.stack,i=stack.length,self=stack[--i];i>0;){var p=stack[--i];if(p instanceof AST_If&&p.condition===self||p instanceof AST_Conditional&&p.condition===self||p instanceof AST_DWLoop&&p.condition===self||p instanceof AST_For&&p.condition===self||p instanceof AST_UnaryPrefix&&"!"==p.operator&&p.expression===self)return!0;if(!(p instanceof AST_Binary)||"&&"!=p.operator&&"||"!=p.operator)return!1;self=p}},loopcontrol_target:function(node){var stack=this.stack;if(node.label)for(var i=stack.length;--i>=0;){var x=stack[i];if(x instanceof AST_LabeledStatement&&x.label.name==node.label.name)return x.body}else for(var i=stack.length;--i>=0;){var x=stack[i];if(x instanceof AST_IterationStatement||node instanceof AST_Break&&x instanceof AST_Switch)return x}}};var KEYWORDS="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",KEYWORDS_ATOM="false null true",RESERVED_WORDS="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield "+KEYWORDS_ATOM+" "+KEYWORDS,KEYWORDS_BEFORE_EXPRESSION="return new delete throw else case";KEYWORDS=makePredicate(KEYWORDS),RESERVED_WORDS=makePredicate(RESERVED_WORDS),KEYWORDS_BEFORE_EXPRESSION=makePredicate(KEYWORDS_BEFORE_EXPRESSION),KEYWORDS_ATOM=makePredicate(KEYWORDS_ATOM);var OPERATOR_CHARS=makePredicate(characters("+-*&%=<>!?|~^")),RE_HEX_NUMBER=/^0x[0-9a-f]+$/i,RE_OCT_NUMBER=/^0[0-7]+$/,OPERATORS=makePredicate(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),WHITESPACE_CHARS=makePredicate(characters("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),NEWLINE_CHARS=makePredicate(characters("\n\r\u2028\u2029")),PUNC_BEFORE_EXPRESSION=makePredicate(characters("[{(,;:")),PUNC_CHARS=makePredicate(characters("[]{}(),;:")),REGEXP_MODIFIERS=makePredicate(characters("gmsiy")),UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};JS_Parse_Error.prototype=Object.create(Error.prototype),JS_Parse_Error.prototype.constructor=JS_Parse_Error,JS_Parse_Error.prototype.name="SyntaxError",configure_error_stack(JS_Parse_Error);var EX_EOF={},UNARY_PREFIX=makePredicate(["typeof","void","delete","--","++","!","~","-","+"]),UNARY_POSTFIX=makePredicate(["--","++"]),ASSIGNMENT=makePredicate(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),PRECEDENCE=function(a,ret){for(var i=0;i<a.length;++i)for(var b=a[i],j=0;j<b.length;++j)ret[b[j]]=i+1;return ret}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),STATEMENTS_WITH_LABELS=array_to_hash(["for","do","while","switch"]),ATOMIC_START_TOKEN=array_to_hash(["atom","num","string","regexp","name"]);TreeTransformer.prototype=new TreeWalker,function(undefined){function _(node,descend){node.DEFMETHOD("transform",function(tw,in_list){var x,y;return tw.push(this),tw.before&&(x=tw.before(this,descend,in_list)),x===undefined&&(tw.after?(tw.stack[tw.stack.length-1]=x=this,descend(x,tw),(y=tw.after(x,in_list))!==undefined&&(x=y)):(x=this,descend(x,tw))),tw.pop(this),x})}function do_list(list,tw){return MAP(list,function(node){return node.transform(tw,!0)})}_(AST_Node,noop),_(AST_LabeledStatement,function(self,tw){self.label=self.label.transform(tw),self.body=self.body.transform(tw)}),_(AST_SimpleStatement,function(self,tw){self.body=self.body.transform(tw)}),_(AST_Block,function(self,tw){self.body=do_list(self.body,tw)}),_(AST_DWLoop,function(self,tw){self.condition=self.condition.transform(tw),self.body=self.body.transform(tw)}),_(AST_For,function(self,tw){self.init&&(self.init=self.init.transform(tw)),self.condition&&(self.condition=self.condition.transform(tw)),self.step&&(self.step=self.step.transform(tw)),self.body=self.body.transform(tw)}),_(AST_ForIn,function(self,tw){self.init=self.init.transform(tw),self.object=self.object.transform(tw),self.body=self.body.transform(tw)}),_(AST_With,function(self,tw){self.expression=self.expression.transform(tw),self.body=self.body.transform(tw)}),_(AST_Exit,function(self,tw){self.value&&(self.value=self.value.transform(tw))}),_(AST_LoopControl,function(self,tw){self.label&&(self.label=self.label.transform(tw))}),_(AST_If,function(self,tw){self.condition=self.condition.transform(tw),self.body=self.body.transform(tw),self.alternative&&(self.alternative=self.alternative.transform(tw))}),_(AST_Switch,function(self,tw){self.expression=self.expression.transform(tw),self.body=do_list(self.body,tw)}),_(AST_Case,function(self,tw){self.expression=self.expression.transform(tw),self.body=do_list(self.body,tw)}),_(AST_Try,function(self,tw){self.body=do_list(self.body,tw),self.bcatch&&(self.bcatch=self.bcatch.transform(tw)),self.bfinally&&(self.bfinally=self.bfinally.transform(tw))}),_(AST_Catch,function(self,tw){self.argname=self.argname.transform(tw),self.body=do_list(self.body,tw)}),_(AST_Definitions,function(self,tw){self.definitions=do_list(self.definitions,tw)}),_(AST_VarDef,function(self,tw){self.name=self.name.transform(tw),self.value&&(self.value=self.value.transform(tw))}),_(AST_Lambda,function(self,tw){self.name&&(self.name=self.name.transform(tw)),self.argnames=do_list(self.argnames,tw),self.body=do_list(self.body,tw)}),_(AST_Call,function(self,tw){self.expression=self.expression.transform(tw),self.args=do_list(self.args,tw)}),_(AST_Seq,function(self,tw){self.car=self.car.transform(tw),self.cdr=self.cdr.transform(tw)}),_(AST_Dot,function(self,tw){self.expression=self.expression.transform(tw)}),_(AST_Sub,function(self,tw){self.expression=self.expression.transform(tw),self.property=self.property.transform(tw)}),_(AST_Unary,function(self,tw){self.expression=self.expression.transform(tw)}),_(AST_Binary,function(self,tw){self.left=self.left.transform(tw),self.right=self.right.transform(tw)}),_(AST_Conditional,function(self,tw){self.condition=self.condition.transform(tw),self.consequent=self.consequent.transform(tw),self.alternative=self.alternative.transform(tw)}),_(AST_Array,function(self,tw){self.elements=do_list(self.elements,tw)}),_(AST_Object,function(self,tw){self.properties=do_list(self.properties,tw)}),_(AST_ObjectProperty,function(self,tw){self.value=self.value.transform(tw)})}(),SymbolDef.next_id=1,SymbolDef.prototype={unmangleable:function(options){return options||(options={}),this.global&&!options.toplevel||this.undeclared||!options.eval&&(this.scope.uses_eval||this.scope.uses_with)||options.keep_fnames&&(this.orig[0]instanceof AST_SymbolLambda||this.orig[0]instanceof AST_SymbolDefun)},mangle:function(options){var cache=options.cache&&options.cache.props;if(this.global&&cache&&cache.has(this.name))this.mangled_name=cache.get(this.name);else if(!this.mangled_name&&!this.unmangleable(options)){var s=this.scope,sym=this.orig[0];!options.screw_ie8&&sym instanceof AST_SymbolLambda&&(s=s.parent_scope);var def;this.defun&&(def=this.defun.variables.get(this.name))?this.mangled_name=def.mangled_name||def.name:this.mangled_name=s.next_mangled(options,this),this.global&&cache&&cache.set(this.name,this.mangled_name)}}},AST_Toplevel.DEFMETHOD("figure_out_scope",function(options){options=defaults(options,{cache:null,screw_ie8:!0});var self=this,scope=self.parent_scope=null,labels=new Dictionary,defun=null,tw=new TreeWalker(function(node,descend){if(node instanceof AST_Catch){var save_scope=scope;return scope=new AST_Scope(node),scope.init_scope_vars(save_scope),descend(),scope=save_scope,!0}if(node instanceof AST_Scope){node.init_scope_vars(scope);var save_scope=scope,save_defun=defun,save_labels=labels;return defun=scope=node,labels=new Dictionary,descend(),scope=save_scope,defun=save_defun,labels=save_labels,!0}if(node instanceof AST_LabeledStatement){var l=node.label;if(labels.has(l.name))throw new Error(string_template("Label {name} defined twice",l));return labels.set(l.name,l),descend(),labels.del(l.name),!0}if(node instanceof AST_With)for(var s=scope;s;s=s.parent_scope)s.uses_with=!0;else if(node instanceof AST_Symbol&&(node.scope=scope),node instanceof AST_Label&&(node.thedef=node,node.references=[]),node instanceof AST_SymbolLambda)defun.def_function(node);else if(node instanceof AST_SymbolDefun)(node.scope=defun.parent_scope).def_function(node);else if(node instanceof AST_SymbolVar||node instanceof AST_SymbolConst){if(defun.def_variable(node),defun!==scope){node.mark_enclosed(options);var def=scope.find_variable(node);node.thedef!==def&&(node.thedef=def,node.reference(options))}}else if(node instanceof AST_SymbolCatch)scope.def_variable(node).defun=defun;else if(node instanceof AST_LabelRef){var sym=labels.get(node.name);if(!sym)throw new Error(string_template("Undefined label {name} [{line},{col}]",{name:node.name,line:node.start.line,col:node.start.col}));node.thedef=sym}});self.walk(tw);var func=null,tw=(self.globals=new Dictionary,new TreeWalker(function(node,descend){if(node instanceof AST_Lambda){var prev_func=func;return func=node,descend(),func=prev_func,!0}if(node instanceof AST_LoopControl&&node.label)return node.label.thedef.references.push(node),!0;if(node instanceof AST_SymbolRef){var name=node.name;if("eval"==name&&tw.parent()instanceof AST_Call)for(var s=node.scope;s&&!s.uses_eval;s=s.parent_scope)s.uses_eval=!0;var sym=node.scope.find_variable(name);return node.scope instanceof AST_Lambda&&"arguments"==name&&(node.scope.uses_arguments=!0),sym||(sym=self.def_global(node)),node.thedef=sym,node.reference(options),!0}}));self.walk(tw),options.screw_ie8||self.walk(new TreeWalker(function(node,descend){if(node instanceof AST_SymbolCatch){var name=node.name,refs=node.thedef.references,scope=node.thedef.defun,def=scope.find_variable(name)||self.globals.get(name)||scope.def_variable(node);return refs.forEach(function(ref){ref.thedef=def,ref.reference(options)}),node.thedef=def,!0}})),options.cache&&(this.cname=options.cache.cname)}),AST_Toplevel.DEFMETHOD("def_global",function(node){var globals=this.globals,name=node.name;if(globals.has(name))return globals.get(name);var g=new SymbolDef(this,globals.size(),node);return g.undeclared=!0,g.global=!0,globals.set(name,g),g}),AST_Scope.DEFMETHOD("init_scope_vars",function(parent_scope){this.variables=new Dictionary,this.functions=new Dictionary,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=parent_scope,this.enclosed=[],this.cname=-1}),AST_Lambda.DEFMETHOD("init_scope_vars",function(){AST_Scope.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new AST_SymbolVar({name:"arguments",start:this.start,end:this.end}))}),AST_Symbol.DEFMETHOD("mark_enclosed",function(options){for(var def=this.definition(),s=this.scope;s&&(push_uniq(s.enclosed,def),options.keep_fnames&&s.functions.each(function(d){push_uniq(def.scope.enclosed,d)}),s!==def.scope);)s=s.parent_scope}),AST_Symbol.DEFMETHOD("reference",function(options){this.definition().references.push(this),this.mark_enclosed(options)}),AST_Scope.DEFMETHOD("find_variable",function(name){return name instanceof AST_Symbol&&(name=name.name),this.variables.get(name)||this.parent_scope&&this.parent_scope.find_variable(name)}),AST_Scope.DEFMETHOD("def_function",function(symbol){this.functions.set(symbol.name,this.def_variable(symbol))}),AST_Scope.DEFMETHOD("def_variable",function(symbol){var def;return this.variables.has(symbol.name)?(def=this.variables.get(symbol.name),def.orig.push(symbol)):(def=new SymbolDef(this,this.variables.size(),symbol),this.variables.set(symbol.name,def),def.global=!this.parent_scope),symbol.thedef=def}),AST_Scope.DEFMETHOD("next_mangled",function(options){var ext=this.enclosed;out:for(;;){var m=base54(++this.cname);if(is_identifier(m)&&!(options.except.indexOf(m)>=0)){for(var i=ext.length;--i>=0;){var sym=ext[i],name=sym.mangled_name||sym.unmangleable(options)&&sym.name;if(m==name)continue out}return m}}}),AST_Function.DEFMETHOD("next_mangled",function(options,def){for(var tricky_def=def.orig[0]instanceof AST_SymbolFunarg&&this.name&&this.name.definition(),tricky_name=tricky_def?tricky_def.mangled_name||tricky_def.name:null;;){var name=AST_Lambda.prototype.next_mangled.call(this,options,def);if(!tricky_name||tricky_name!=name)return name}}),AST_Symbol.DEFMETHOD("unmangleable",function(options){return this.definition().unmangleable(options)}),AST_Label.DEFMETHOD("unmangleable",function(){return!1}),AST_Symbol.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),AST_Symbol.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),AST_LabelRef.DEFMETHOD("undeclared",function(){return!1}),AST_Label.DEFMETHOD("undeclared",function(){return!1}),AST_Symbol.DEFMETHOD("definition",function(){return this.thedef}),AST_Symbol.DEFMETHOD("global",function(){return this.definition().global}),AST_Toplevel.DEFMETHOD("_default_mangler_options",function(options){return defaults(options,{eval:!1,except:[],keep_fnames:!1,screw_ie8:!0,sort:!1,toplevel:!1})}),AST_Toplevel.DEFMETHOD("mangle_names",function(options){options=this._default_mangler_options(options),options.except.push("arguments");var lname=-1,to_mangle=[];options.cache&&this.globals.each(function(symbol){options.except.indexOf(symbol.name)<0&&to_mangle.push(symbol)});var tw=new TreeWalker(function(node,descend){if(node instanceof AST_LabeledStatement){var save_nesting=lname;return descend(),lname=save_nesting,!0}if(node instanceof AST_Scope){var a=(tw.parent(),[]);return node.variables.each(function(symbol){options.except.indexOf(symbol.name)<0&&a.push(symbol)}),void to_mangle.push.apply(to_mangle,a)}if(node instanceof AST_Label){var name;do{name=base54(++lname)}while(!is_identifier(name));return node.mangled_name=name,!0}if(options.screw_ie8&&node instanceof AST_SymbolCatch)return void to_mangle.push(node.definition())});this.walk(tw),to_mangle.forEach(function(def){def.mangle(options)}),options.cache&&(options.cache.cname=this.cname)}),AST_Toplevel.DEFMETHOD("compute_char_frequency",function(options){options=this._default_mangler_options(options);var tw=new TreeWalker(function(node){node instanceof AST_Constant?base54.consider(node.print_to_string()):node instanceof AST_Return?base54.consider("return"):node instanceof AST_Throw?base54.consider("throw"):node instanceof AST_Continue?base54.consider("continue"):node instanceof AST_Break?base54.consider("break"):node instanceof AST_Debugger?base54.consider("debugger"):node instanceof AST_Directive?base54.consider(node.value):node instanceof AST_While?base54.consider("while"):node instanceof AST_Do?base54.consider("do while"):node instanceof AST_If?(base54.consider("if"),node.alternative&&base54.consider("else")):node instanceof AST_Var?base54.consider("var"):node instanceof AST_Const?base54.consider("const"):node instanceof AST_Lambda?base54.consider("function"):node instanceof AST_For?base54.consider("for"):node instanceof AST_ForIn?base54.consider("for in"):node instanceof AST_Switch?base54.consider("switch"):node instanceof AST_Case?base54.consider("case"):node instanceof AST_Default?base54.consider("default"):node instanceof AST_With?base54.consider("with"):node instanceof AST_ObjectSetter?base54.consider("set"+node.key):node instanceof AST_ObjectGetter?base54.consider("get"+node.key):node instanceof AST_ObjectKeyVal?base54.consider(node.key):node instanceof AST_New?base54.consider("new"):node instanceof AST_This?base54.consider("this"):node instanceof AST_Try?base54.consider("try"):node instanceof AST_Catch?base54.consider("catch"):node instanceof AST_Finally?base54.consider("finally"):node instanceof AST_Symbol&&node.unmangleable(options)?base54.consider(node.name):node instanceof AST_Unary||node instanceof AST_Binary?base54.consider(node.operator):node instanceof AST_Dot&&base54.consider(node.property)});this.walk(tw),base54.sort()});var base54=function(){function reset(){frequency=Object.create(null),chars=string.split("").map(function(ch){return ch.charCodeAt(0)}),chars.forEach(function(ch){frequency[ch]=0})}function base54(num){var ret="",base=54;num++;do{num--,ret+=String.fromCharCode(chars[num%base]),num=Math.floor(num/base),base=64}while(num>0);return ret}var chars,frequency,string="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";return base54.consider=function(str){for(var i=str.length;--i>=0;){var code=str.charCodeAt(i);code in frequency&&++frequency[code]}},base54.sort=function(){chars=mergeSort(chars,function(a,b){return is_digit(a)&&!is_digit(b)?1:is_digit(b)&&!is_digit(a)?-1:frequency[b]-frequency[a]})},base54.reset=reset,reset(),base54.get=function(){return chars},base54.freq=function(){return frequency},base54}();AST_Toplevel.DEFMETHOD("scope_warnings",function(options){options=defaults(options,{assign_to_global:!0,eval:!0,func_arguments:!0,nested_defuns:!0,undeclared:!1,unreferenced:!0});var tw=new TreeWalker(function(node){if(options.undeclared&&node instanceof AST_SymbolRef&&node.undeclared()&&AST_Node.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:node.name,file:node.start.file,line:node.start.line,col:node.start.col}),options.assign_to_global){var sym=null;node instanceof AST_Assign&&node.left instanceof AST_SymbolRef?sym=node.left:node instanceof AST_ForIn&&node.init instanceof AST_SymbolRef&&(sym=node.init),sym&&(sym.undeclared()||sym.global()&&sym.scope!==sym.definition().scope)&&AST_Node.warn("{msg}: {name} [{file}:{line},{col}]",{msg:sym.undeclared()?"Accidental global?":"Assignment to global",name:sym.name,file:sym.start.file,line:sym.start.line,col:sym.start.col})}options.eval&&node instanceof AST_SymbolRef&&node.undeclared()&&"eval"==node.name&&AST_Node.warn("Eval is used [{file}:{line},{col}]",node.start),options.unreferenced&&(node instanceof AST_SymbolDeclaration||node instanceof AST_Label)&&!(node instanceof AST_SymbolCatch)&&node.unreferenced()&&AST_Node.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:node instanceof AST_Label?"Label":"Symbol",name:node.name,file:node.start.file,line:node.start.line,col:node.start.col}),options.func_arguments&&node instanceof AST_Lambda&&node.uses_arguments&&AST_Node.warn("arguments used in function {name} [{file}:{line},{col}]",{name:node.name?node.name.name:"anonymous",file:node.start.file,line:node.start.line,col:node.start.col}),options.nested_defuns&&node instanceof AST_Defun&&!(tw.parent()instanceof AST_Scope)&&AST_Node.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:node.name.name,type:tw.parent().TYPE,file:node.start.file,line:node.start.line,col:node.start.col})});this.walk(tw)});var EXPECT_DIRECTIVE=/^$|[;{][\s\n]*$/;!function(){function DEFPRINT(nodetype,generator){nodetype.DEFMETHOD("_codegen",generator)}function PARENS(nodetype,func){Array.isArray(nodetype)?nodetype.forEach(function(nodetype){PARENS(nodetype,func)}):nodetype.DEFMETHOD("needs_parens",func)}function display_body(body,is_toplevel,output,allow_directives){var last=body.length-1;in_directive=allow_directives,body.forEach(function(stmt,i){!0!==in_directive||stmt instanceof AST_Directive||stmt instanceof AST_EmptyStatement||stmt instanceof AST_SimpleStatement&&stmt.body instanceof AST_String||(in_directive=!1),stmt instanceof AST_EmptyStatement||(output.indent(),stmt.print(output),i==last&&is_toplevel||(output.newline(),is_toplevel&&output.newline())),!0===in_directive&&stmt instanceof AST_SimpleStatement&&stmt.body instanceof AST_String&&(in_directive=!1)}),in_directive=!1}function print_bracketed(body,output,allow_directives){
body.length>0?output.with_block(function(){display_body(body,!1,output,allow_directives)}):output.print("{}")}function make_then(self,output){var b=self.body;if(output.option("bracketize")||!output.option("screw_ie8")&&b instanceof AST_Do)return make_block(b,output);if(!b)return output.force_semicolon();for(;;)if(b instanceof AST_If){if(!b.alternative)return void make_block(self.body,output);b=b.alternative}else{if(!(b instanceof AST_StatementWithBody))break;b=b.body}force_statement(self.body,output)}function parenthesize_for_noin(node,output,noin){if(noin)try{node.walk(new TreeWalker(function(node){if(node instanceof AST_Binary&&"in"==node.operator)throw output})),node.print(output)}catch(ex){if(ex!==output)throw ex;node.print(output,!0)}else node.print(output)}function print_property_name(key,quote,output){output.option("quote_keys")?output.print_string(key+""):("number"==typeof key||!output.option("beautify")&&+key+""==key)&&parseFloat(key)>=0?output.print(make_num(key)):(RESERVED_WORDS(key)?output.option("screw_ie8"):is_identifier_string(key))?quote&&output.option("keep_quoted_props")?output.print_string(key,quote):output.print_name(key):output.print_string(key,quote)}function regexp_safe_literal(code){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(code)<0}function force_statement(stat,output){output.option("bracketize")?make_block(stat,output):!stat||stat instanceof AST_EmptyStatement?output.force_semicolon():stat.print(output)}function need_constructor_parens(self,output){return self.args.length>0||output.option("beautify")}function best_of(a){for(var best=a[0],len=best.length,i=1;i<a.length;++i)a[i].length<len&&(best=a[i],len=best.length);return best}function make_num(num){var m,str=num.toString(10),a=[str.replace(/^0\./,".").replace("e+","e")];return Math.floor(num)===num?(num>=0?a.push("0x"+num.toString(16).toLowerCase(),"0"+num.toString(8)):a.push("-0x"+(-num).toString(16).toLowerCase(),"-0"+(-num).toString(8)),(m=/^(.*?)(0+)$/.exec(num))&&a.push(m[1]+"e"+m[2].length)):(m=/^0?\.(0+)(.*)$/.exec(num))&&a.push(m[2]+"e-"+(m[1].length+m[2].length),str.substr(str.indexOf("."))),best_of(a)}function make_block(stmt,output){!stmt||stmt instanceof AST_EmptyStatement?output.print("{}"):stmt instanceof AST_BlockStatement?stmt.print(output):output.with_block(function(){output.indent(),stmt.print(output),output.newline()})}function DEFMAP(nodetype,generator){nodetype.DEFMETHOD("add_source_map",function(stream){generator(this,stream)})}function basic_sourcemap_gen(self,output){output.add_mapping(self.start)}var use_asm=!1,in_directive=!1;AST_Node.DEFMETHOD("print",function(stream,force_parens){function doit(){self.add_comments(stream),self.add_source_map(stream),generator(self,stream)}var self=this,generator=self._codegen,prev_use_asm=use_asm;self instanceof AST_Directive&&"use asm"==self.value&&stream.parent()instanceof AST_Scope&&(use_asm=!0),stream.push_node(self),force_parens||self.needs_parens(stream)?stream.with_parens(doit):doit(),stream.pop_node(),self instanceof AST_Scope&&(use_asm=prev_use_asm)}),AST_Node.DEFMETHOD("print_to_string",function(options){var s=OutputStream(options);return options||(s._readonly=!0),this.print(s),s.get()}),AST_Node.DEFMETHOD("add_comments",function(output){if(!output._readonly){var self=this,start=self.start;if(start&&!start._comments_dumped){start._comments_dumped=!0;var comments=start.comments_before||[];if(self instanceof AST_Exit&&self.value&&self.value.walk(new TreeWalker(function(node){if(node.start&&node.start.comments_before&&(comments=comments.concat(node.start.comments_before),node.start.comments_before=[]),node instanceof AST_Function||node instanceof AST_Array||node instanceof AST_Object)return!0})),0==output.pos()){comments.length>0&&output.option("shebang")&&"comment5"==comments[0].type&&(output.print("#!"+comments.shift().value+"\n"),output.indent());var preamble=output.option("preamble");preamble&&output.print(preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}comments=comments.filter(output.comment_filter,self),!output.option("beautify")&&comments.length>0&&/comment[134]/.test(comments[0].type)&&0!==output.col()&&comments[0].nlb&&output.print("\n"),comments.forEach(function(c){/comment[134]/.test(c.type)?(output.print("//"+c.value+"\n"),output.indent()):"comment2"==c.type&&(output.print("/*"+c.value+"*/"),start.nlb?(output.print("\n"),output.indent()):output.space())})}}}),PARENS(AST_Node,function(){return!1}),PARENS(AST_Function,function(output){if(first_in_statement(output))return!0;if(output.option("wrap_iife")){var p=output.parent();return p instanceof AST_Call&&p.expression===this}return!1}),PARENS(AST_Object,function(output){return first_in_statement(output)}),PARENS(AST_Unary,function(output){var p=output.parent();return p instanceof AST_PropAccess&&p.expression===this||p instanceof AST_Call&&p.expression===this}),PARENS(AST_Seq,function(output){var p=output.parent();return p instanceof AST_Call||p instanceof AST_Unary||p instanceof AST_Binary||p instanceof AST_VarDef||p instanceof AST_PropAccess||p instanceof AST_Array||p instanceof AST_ObjectProperty||p instanceof AST_Conditional}),PARENS(AST_Binary,function(output){var p=output.parent();if(p instanceof AST_Call&&p.expression===this)return!0;if(p instanceof AST_Unary)return!0;if(p instanceof AST_PropAccess&&p.expression===this)return!0;if(p instanceof AST_Binary){var po=p.operator,pp=PRECEDENCE[po],so=this.operator,sp=PRECEDENCE[so];if(pp>sp||pp==sp&&this===p.right)return!0}}),PARENS(AST_PropAccess,function(output){var p=output.parent();if(p instanceof AST_New&&p.expression===this)try{this.walk(new TreeWalker(function(node){if(node instanceof AST_Call)throw p}))}catch(ex){if(ex!==p)throw ex;return!0}}),PARENS(AST_Call,function(output){var p1,p=output.parent();return p instanceof AST_New&&p.expression===this||this.expression instanceof AST_Function&&p instanceof AST_PropAccess&&p.expression===this&&(p1=output.parent(1))instanceof AST_Assign&&p1.left===p}),PARENS(AST_New,function(output){var p=output.parent();if(!need_constructor_parens(this,output)&&(p instanceof AST_PropAccess||p instanceof AST_Call&&p.expression===this))return!0}),PARENS(AST_Number,function(output){var p=output.parent();if(p instanceof AST_PropAccess&&p.expression===this){var value=this.getValue();if(value<0||/^0/.test(make_num(value)))return!0}}),PARENS([AST_Assign,AST_Conditional],function(output){var p=output.parent();return p instanceof AST_Unary||(p instanceof AST_Binary&&!(p instanceof AST_Assign)||(p instanceof AST_Call&&p.expression===this||(p instanceof AST_Conditional&&p.condition===this||(p instanceof AST_PropAccess&&p.expression===this||void 0))))}),DEFPRINT(AST_Directive,function(self,output){output.print_string(self.value,self.quote),output.semicolon()}),DEFPRINT(AST_Debugger,function(self,output){output.print("debugger"),output.semicolon()}),AST_StatementWithBody.DEFMETHOD("_do_print_body",function(output){force_statement(this.body,output)}),DEFPRINT(AST_Statement,function(self,output){self.body.print(output),output.semicolon()}),DEFPRINT(AST_Toplevel,function(self,output){display_body(self.body,!0,output,!0),output.print("")}),DEFPRINT(AST_LabeledStatement,function(self,output){self.label.print(output),output.colon(),self.body.print(output)}),DEFPRINT(AST_SimpleStatement,function(self,output){self.body.print(output),output.semicolon()}),DEFPRINT(AST_BlockStatement,function(self,output){print_bracketed(self.body,output)}),DEFPRINT(AST_EmptyStatement,function(self,output){output.semicolon()}),DEFPRINT(AST_Do,function(self,output){output.print("do"),output.space(),make_block(self.body,output),output.space(),output.print("while"),output.space(),output.with_parens(function(){self.condition.print(output)}),output.semicolon()}),DEFPRINT(AST_While,function(self,output){output.print("while"),output.space(),output.with_parens(function(){self.condition.print(output)}),output.space(),self._do_print_body(output)}),DEFPRINT(AST_For,function(self,output){output.print("for"),output.space(),output.with_parens(function(){self.init?(self.init instanceof AST_Definitions?self.init.print(output):parenthesize_for_noin(self.init,output,!0),output.print(";"),output.space()):output.print(";"),self.condition?(self.condition.print(output),output.print(";"),output.space()):output.print(";"),self.step&&self.step.print(output)}),output.space(),self._do_print_body(output)}),DEFPRINT(AST_ForIn,function(self,output){output.print("for"),output.space(),output.with_parens(function(){self.init.print(output),output.space(),output.print("in"),output.space(),self.object.print(output)}),output.space(),self._do_print_body(output)}),DEFPRINT(AST_With,function(self,output){output.print("with"),output.space(),output.with_parens(function(){self.expression.print(output)}),output.space(),self._do_print_body(output)}),AST_Lambda.DEFMETHOD("_do_print",function(output,nokeyword){var self=this;nokeyword||output.print("function"),self.name&&(output.space(),self.name.print(output)),output.with_parens(function(){self.argnames.forEach(function(arg,i){i&&output.comma(),arg.print(output)})}),output.space(),print_bracketed(self.body,output,!0)}),DEFPRINT(AST_Lambda,function(self,output){self._do_print(output)}),AST_Exit.DEFMETHOD("_do_print",function(output,kind){output.print(kind),this.value&&(output.space(),this.value.print(output)),output.semicolon()}),DEFPRINT(AST_Return,function(self,output){self._do_print(output,"return")}),DEFPRINT(AST_Throw,function(self,output){self._do_print(output,"throw")}),AST_LoopControl.DEFMETHOD("_do_print",function(output,kind){output.print(kind),this.label&&(output.space(),this.label.print(output)),output.semicolon()}),DEFPRINT(AST_Break,function(self,output){self._do_print(output,"break")}),DEFPRINT(AST_Continue,function(self,output){self._do_print(output,"continue")}),DEFPRINT(AST_If,function(self,output){output.print("if"),output.space(),output.with_parens(function(){self.condition.print(output)}),output.space(),self.alternative?(make_then(self,output),output.space(),output.print("else"),output.space(),self.alternative instanceof AST_If?self.alternative.print(output):force_statement(self.alternative,output)):self._do_print_body(output)}),DEFPRINT(AST_Switch,function(self,output){output.print("switch"),output.space(),output.with_parens(function(){self.expression.print(output)}),output.space();var last=self.body.length-1;last<0?output.print("{}"):output.with_block(function(){self.body.forEach(function(branch,i){output.indent(!0),branch.print(output),i<last&&branch.body.length>0&&output.newline()})})}),AST_SwitchBranch.DEFMETHOD("_do_print_body",function(output){output.newline(),this.body.forEach(function(stmt){output.indent(),stmt.print(output),output.newline()})}),DEFPRINT(AST_Default,function(self,output){output.print("default:"),self._do_print_body(output)}),DEFPRINT(AST_Case,function(self,output){output.print("case"),output.space(),self.expression.print(output),output.print(":"),self._do_print_body(output)}),DEFPRINT(AST_Try,function(self,output){output.print("try"),output.space(),print_bracketed(self.body,output),self.bcatch&&(output.space(),self.bcatch.print(output)),self.bfinally&&(output.space(),self.bfinally.print(output))}),DEFPRINT(AST_Catch,function(self,output){output.print("catch"),output.space(),output.with_parens(function(){self.argname.print(output)}),output.space(),print_bracketed(self.body,output)}),DEFPRINT(AST_Finally,function(self,output){output.print("finally"),output.space(),print_bracketed(self.body,output)}),AST_Definitions.DEFMETHOD("_do_print",function(output,kind){output.print(kind),output.space(),this.definitions.forEach(function(def,i){i&&output.comma(),def.print(output)});var p=output.parent();(p instanceof AST_For||p instanceof AST_ForIn)&&p.init===this||output.semicolon()}),DEFPRINT(AST_Var,function(self,output){self._do_print(output,"var")}),DEFPRINT(AST_Const,function(self,output){self._do_print(output,"const")}),DEFPRINT(AST_VarDef,function(self,output){if(self.name.print(output),self.value){output.space(),output.print("="),output.space();var p=output.parent(1),noin=p instanceof AST_For||p instanceof AST_ForIn;parenthesize_for_noin(self.value,output,noin)}}),DEFPRINT(AST_Call,function(self,output){self.expression.print(output),self instanceof AST_New&&!need_constructor_parens(self,output)||output.with_parens(function(){self.args.forEach(function(expr,i){i&&output.comma(),expr.print(output)})})}),DEFPRINT(AST_New,function(self,output){output.print("new"),output.space(),AST_Call.prototype._codegen(self,output)}),AST_Seq.DEFMETHOD("_do_print",function(output){this.car.print(output),this.cdr&&(output.comma(),output.should_break()&&(output.newline(),output.indent()),this.cdr.print(output))}),DEFPRINT(AST_Seq,function(self,output){self._do_print(output)}),DEFPRINT(AST_Dot,function(self,output){var expr=self.expression;expr.print(output),expr instanceof AST_Number&&expr.getValue()>=0&&(/[xa-f.)]/i.test(output.last())||output.print(".")),output.print("."),output.add_mapping(self.end),output.print_name(self.property)}),DEFPRINT(AST_Sub,function(self,output){self.expression.print(output),output.print("["),self.property.print(output),output.print("]")}),DEFPRINT(AST_UnaryPrefix,function(self,output){var op=self.operator;output.print(op),(/^[a-z]/i.test(op)||/[+-]$/.test(op)&&self.expression instanceof AST_UnaryPrefix&&/^[+-]/.test(self.expression.operator))&&output.space(),self.expression.print(output)}),DEFPRINT(AST_UnaryPostfix,function(self,output){self.expression.print(output),output.print(self.operator)}),DEFPRINT(AST_Binary,function(self,output){var op=self.operator;self.left.print(output),">"==op[0]&&self.left instanceof AST_UnaryPostfix&&"--"==self.left.operator?output.print(" "):output.space(),output.print(op),("<"==op||"<<"==op)&&self.right instanceof AST_UnaryPrefix&&"!"==self.right.operator&&self.right.expression instanceof AST_UnaryPrefix&&"--"==self.right.expression.operator?output.print(" "):output.space(),self.right.print(output)}),DEFPRINT(AST_Conditional,function(self,output){self.condition.print(output),output.space(),output.print("?"),output.space(),self.consequent.print(output),output.space(),output.colon(),self.alternative.print(output)}),DEFPRINT(AST_Array,function(self,output){output.with_square(function(){var a=self.elements,len=a.length;len>0&&output.space(),a.forEach(function(exp,i){i&&output.comma(),exp.print(output),i===len-1&&exp instanceof AST_Hole&&output.comma()}),len>0&&output.space()})}),DEFPRINT(AST_Object,function(self,output){self.properties.length>0?output.with_block(function(){self.properties.forEach(function(prop,i){i&&(output.print(","),output.newline()),output.indent(),prop.print(output)}),output.newline()}):output.print("{}")}),DEFPRINT(AST_ObjectKeyVal,function(self,output){print_property_name(self.key,self.quote,output),output.colon(),self.value.print(output)}),AST_ObjectProperty.DEFMETHOD("_print_getter_setter",function(type,output){output.print(type),output.space(),print_property_name(this.key.name,this.quote,output),this.value._do_print(output,!0)}),DEFPRINT(AST_ObjectSetter,function(self,output){self._print_getter_setter("set",output)}),DEFPRINT(AST_ObjectGetter,function(self,output){self._print_getter_setter("get",output)}),DEFPRINT(AST_Symbol,function(self,output){var def=self.definition();output.print_name(def?def.mangled_name||def.name:self.name)}),DEFPRINT(AST_Hole,noop),DEFPRINT(AST_This,function(self,output){output.print("this")}),DEFPRINT(AST_Constant,function(self,output){output.print(self.getValue())}),DEFPRINT(AST_String,function(self,output){output.print_string(self.getValue(),self.quote,in_directive)}),DEFPRINT(AST_Number,function(self,output){use_asm&&self.start&&null!=self.start.raw?output.print(self.start.raw):output.print(make_num(self.getValue()))}),DEFPRINT(AST_RegExp,function(self,output){var str=self.getValue().toString();output.option("ascii_only")?str=output.to_ascii(str):output.option("unescape_regexps")&&(str=str.split("\\\\").map(function(str){return str.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(s){var code=parseInt(s.substr(2),16);return regexp_safe_literal(code)?String.fromCharCode(code):s})}).join("\\\\")),output.print(str);var p=output.parent();p instanceof AST_Binary&&/^in/.test(p.operator)&&p.left===self&&output.print(" ")}),DEFMAP(AST_Node,noop),DEFMAP(AST_Directive,basic_sourcemap_gen),DEFMAP(AST_Debugger,basic_sourcemap_gen),DEFMAP(AST_Symbol,basic_sourcemap_gen),DEFMAP(AST_Jump,basic_sourcemap_gen),DEFMAP(AST_StatementWithBody,basic_sourcemap_gen),DEFMAP(AST_LabeledStatement,noop),DEFMAP(AST_Lambda,basic_sourcemap_gen),DEFMAP(AST_Switch,basic_sourcemap_gen),DEFMAP(AST_SwitchBranch,basic_sourcemap_gen),DEFMAP(AST_BlockStatement,basic_sourcemap_gen),DEFMAP(AST_Toplevel,noop),DEFMAP(AST_New,basic_sourcemap_gen),DEFMAP(AST_Try,basic_sourcemap_gen),DEFMAP(AST_Catch,basic_sourcemap_gen),DEFMAP(AST_Finally,basic_sourcemap_gen),DEFMAP(AST_Definitions,basic_sourcemap_gen),DEFMAP(AST_Constant,basic_sourcemap_gen),DEFMAP(AST_ObjectSetter,function(self,output){output.add_mapping(self.start,self.key.name)}),DEFMAP(AST_ObjectGetter,function(self,output){output.add_mapping(self.start,self.key.name)}),DEFMAP(AST_ObjectProperty,function(self,output){output.add_mapping(self.start,self.key)})}(),Compressor.prototype=new TreeTransformer,merge(Compressor.prototype,{option:function(key){return this.options[key]},compress:function(node){this.option("expression")&&(node=node.process_expression(!0));for(var passes=+this.options.passes||1,pass=0;pass<passes&&pass<3;++pass)(pass>0||this.option("reduce_vars"))&&node.reset_opt_flags(this,!0),node=node.transform(this);return this.option("expression")&&(node=node.process_expression(!1)),node},info:function(){"verbose"==this.options.warnings&&AST_Node.warn.apply(AST_Node,arguments)},warn:function(text,props){if(this.options.warnings){var message=string_template(text,props);message in this.warnings_produced||(this.warnings_produced[message]=!0,AST_Node.warn.apply(AST_Node,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(node,descend,in_list){if(node._squeezed)return node;var was_scope=!1;node instanceof AST_Scope&&(node=node.hoist_declarations(this),was_scope=!0),descend(node,this),descend(node,this);var opt=node.optimize(this);return was_scope&&opt instanceof AST_Scope&&(opt.drop_unused(this),descend(opt,this)),opt===node&&(opt._squeezed=!0),opt}}),function(){function OPT(node,optimizer){node.DEFMETHOD("optimize",function(compressor){var self=this;if(self._optimized)return self;if(compressor.has_directive("use asm"))return self;var opt=optimizer(self,compressor);return opt._optimized=!0,opt})}function is_reference_const(ref){if(!(ref instanceof AST_SymbolRef))return!1;for(var orig=ref.definition().orig,i=orig.length;--i>=0;)if(orig[i]instanceof AST_SymbolConst)return!0}function find_variable(compressor,name){for(var scope,i=0;(scope=compressor.parent(i++))&&!(scope instanceof AST_Scope);)if(scope instanceof AST_Catch){scope=scope.argname.definition().scope;break}return scope.find_variable(name)}function make_node(ctor,orig,props){return props||(props={}),orig&&(props.start||(props.start=orig.start),props.end||(props.end=orig.end)),new ctor(props)}function make_node_from_constant(val,orig){switch(typeof val){case"string":return make_node(AST_String,orig,{value:val});case"number":return isNaN(val)?make_node(AST_NaN,orig):isFinite(val)?1/val<0?make_node(AST_UnaryPrefix,orig,{operator:"-",expression:make_node(AST_Number,orig,{value:-val})}):make_node(AST_Number,orig,{value:val}):val<0?make_node(AST_UnaryPrefix,orig,{operator:"-",expression:make_node(AST_Infinity,orig)}):make_node(AST_Infinity,orig);case"boolean":return make_node(val?AST_True:AST_False,orig);case"undefined":return make_node(AST_Undefined,orig);default:if(null===val)return make_node(AST_Null,orig,{value:null});if(val instanceof RegExp)return make_node(AST_RegExp,orig,{value:val});throw new Error(string_template("Can't handle constant of type: {type}",{type:typeof val}))}}function maintain_this_binding(parent,orig,val){return parent instanceof AST_UnaryPrefix&&"delete"==parent.operator||parent instanceof AST_Call&&parent.expression===orig&&(val instanceof AST_PropAccess||val instanceof AST_SymbolRef&&"eval"==val.name)?make_node(AST_Seq,orig,{car:make_node(AST_Number,orig,{value:0}),cdr:val}):val}function as_statement_array(thing){if(null===thing)return[];if(thing instanceof AST_BlockStatement)return thing.body;if(thing instanceof AST_EmptyStatement)return[];if(thing instanceof AST_Statement)return[thing];throw new Error("Can't convert thing to statement array")}function is_empty(thing){return null===thing||(thing instanceof AST_EmptyStatement||thing instanceof AST_BlockStatement&&0==thing.body.length)}function loop_body(x){return x instanceof AST_Switch?x:(x instanceof AST_For||x instanceof AST_ForIn||x instanceof AST_DWLoop)&&x.body instanceof AST_BlockStatement?x.body:x}function is_iife_call(node){return node instanceof AST_Call&&!(node instanceof AST_New)&&(node.expression instanceof AST_Function||is_iife_call(node.expression))}function tighten_body(statements,compressor){function collapse_single_use_vars(statements,compressor){function is_lvalue(node,parent){return node instanceof AST_SymbolRef&&is_lhs(node,parent)}function replace_var(node,parent,is_constant){if(is_lvalue(node,parent))return node;var value=maintain_this_binding(parent,node,var_decl.value);return var_decl.value=null,var_defs.splice(var_defs_index,1),0===var_defs.length&&(statements[prev_stat_index]=make_node(AST_EmptyStatement,self),var_defs_removed=!0),stat.reset_opt_flags(compressor),compressor.info("Collapsing "+(is_constant?"constant":"variable")+" "+var_name+" [{file}:{line},{col}]",node.start),CHANGED=!0,value}for(var self=compressor.self(),var_defs_removed=!1,toplevel=compressor.option("toplevel"),stat_index=statements.length;--stat_index>=0;){var stat=statements[stat_index];if(!(stat instanceof AST_Definitions)){if([stat,stat.body,stat.alternative,stat.bcatch,stat.bfinally].forEach(function(node){node&&node.body&&collapse_single_use_vars(node.body,compressor)}),stat_index<=0)break;var prev_stat_index=stat_index-1,prev_stat=statements[prev_stat_index];if(prev_stat instanceof AST_Definitions){var var_defs=prev_stat.definitions;if(null!=var_defs)for(var var_names_seen={},side_effects_encountered=!1,lvalues_encountered=!1,lvalues={},var_defs_index=var_defs.length;--var_defs_index>=0;){var var_decl=var_defs[var_defs_index];if(null==var_decl.value)break;var var_name=var_decl.name.name;if(!var_name||!var_name.length)break;if(var_name in var_names_seen)break;var_names_seen[var_name]=!0;var def=self.find_variable&&self.find_variable(var_name);if(def&&def.references&&1===def.references.length&&"arguments"!=var_name&&(toplevel||!def.global)){var ref=def.references[0];if(ref.scope.uses_eval||ref.scope.uses_with)break;if(var_decl.value.is_constant()){var ctt=new TreeTransformer(function(node){var parent=ctt.parent();return parent instanceof AST_IterationStatement&&(parent.condition===node||parent.init===node)?node:node===ref?replace_var(node,parent,!0):void 0});stat.transform(ctt)}else if(!(side_effects_encountered|=lvalues_encountered)){var value_has_side_effects=var_decl.value.has_side_effects(compressor);if(ref.scope===self){var tw=new TreeWalker(function(node){node instanceof AST_SymbolRef&&is_lvalue(node,tw.parent())&&(lvalues[node.name]=lvalues_encountered=!0)});var_decl.value.walk(tw);var unwind=!1,tt=new TreeTransformer(function(node){if(unwind)return node;var parent=tt.parent();return node instanceof AST_Lambda||node instanceof AST_Try||node instanceof AST_With||node instanceof AST_Case||node instanceof AST_IterationStatement||parent instanceof AST_If&&node!==parent.condition||parent instanceof AST_Conditional&&node!==parent.condition||node instanceof AST_SymbolRef&&value_has_side_effects&&!function(def,scope){if(1===def.orig.length&&def.orig[0]instanceof AST_SymbolDefun)return!0;if(def.scope!==scope)return!1;for(var refs=def.references,i=0,len=refs.length;i<len;i++)if(refs[i].scope!==scope)return!1;return!0}(node.definition(),self)||parent instanceof AST_Binary&&("&&"==parent.operator||"||"==parent.operator)&&node===parent.right||parent instanceof AST_Switch&&node!==parent.expression?(side_effects_encountered=unwind=!0,node):void 0},function(node){return unwind?node:node===ref?(unwind=!0,replace_var(node,tt.parent(),!1)):(side_effects_encountered|=node.has_side_effects(compressor))?(unwind=!0,node):lvalues_encountered&&node instanceof AST_SymbolRef&&node.name in lvalues?(side_effects_encountered=!0,unwind=!0,node):void 0});stat.transform(tt)}else side_effects_encountered|=value_has_side_effects}}else side_effects_encountered=!0}}}}if(var_defs_removed)for(var i=statements.length;--i>=0;)statements.length>1&&statements[i]instanceof AST_EmptyStatement&&statements.splice(i,1);return statements}function eliminate_spurious_blocks(statements){var seen_dirs=[];return statements.reduce(function(a,stat){return stat instanceof AST_BlockStatement?(CHANGED=!0,a.push.apply(a,eliminate_spurious_blocks(stat.body))):stat instanceof AST_EmptyStatement?CHANGED=!0:stat instanceof AST_Directive?seen_dirs.indexOf(stat.value)<0?(a.push(stat),seen_dirs.push(stat.value)):CHANGED=!0:a.push(stat),a},[])}function seqLength(a){for(var len=0,i=0;i<a.length;++i){var stat=a[i];stat instanceof AST_Seq?len+=stat.len():len++}return len}function sequencesize_2(statements,compressor){function cons_seq(right){ret.pop();var left=prev.body;return left instanceof AST_Seq?left.add(right):left=AST_Seq.cons(left,right),left.transform(compressor)}var ret=[],prev=null;return statements.forEach(function(stat){if(prev)if(stat instanceof AST_For){var opera={};try{prev.body.walk(new TreeWalker(function(node){if(node instanceof AST_Binary&&"in"==node.operator)throw opera})),!stat.init||stat.init instanceof AST_Definitions?stat.init||(stat.init=prev.body.drop_side_effect_free(compressor),ret.pop()):stat.init=cons_seq(stat.init)}catch(ex){if(ex!==opera)throw ex}}else stat instanceof AST_If?stat.condition=cons_seq(stat.condition):stat instanceof AST_With?stat.expression=cons_seq(stat.expression):stat instanceof AST_Exit&&stat.value?stat.value=cons_seq(stat.value):stat instanceof AST_Exit?stat.value=cons_seq(make_node(AST_Undefined,stat).transform(compressor)):stat instanceof AST_Switch&&(stat.expression=cons_seq(stat.expression));ret.push(stat),prev=stat instanceof AST_SimpleStatement?stat:null}),ret}var CHANGED,max_iter=10;do{CHANGED=!1,compressor.option("angular")&&(statements=function(statements){function has_inject(comment){return/@ngInject/.test(comment.value)}function make_arguments_names_list(func){return func.argnames.map(function(sym){return make_node(AST_String,sym,{value:sym.name})})}function make_array(orig,elements){return make_node(AST_Array,orig,{elements:elements})}function make_injector(func,name){return make_node(AST_SimpleStatement,func,{body:make_node(AST_Assign,func,{operator:"=",left:make_node(AST_Dot,name,{expression:make_node(AST_SymbolRef,name,name),property:"$inject"}),right:make_array(func,make_arguments_names_list(func))})})}function check_expression(body){body&&body.args&&(body.args.forEach(function(argument,index,array){var comments=argument.start.comments_before;argument instanceof AST_Lambda&&comments.length&&has_inject(comments[0])&&(array[index]=make_array(argument,make_arguments_names_list(argument).concat(argument)))}),body.expression&&body.expression.expression&&check_expression(body.expression.expression))}return statements.reduce(function(a,stat){if(a.push(stat),stat.body&&stat.body.args)check_expression(stat.body);else{var token=stat.start,comments=token.comments_before;if(comments&&comments.length>0){has_inject(comments.pop())&&(stat instanceof AST_Defun?a.push(make_injector(stat,stat.name)):stat instanceof AST_Definitions?stat.definitions.forEach(function(def){def.value&&def.value instanceof AST_Lambda&&a.push(make_injector(def.value,def.name))}):compressor.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",token))}}return a},[])}(statements)),statements=eliminate_spurious_blocks(statements),compressor.option("dead_code")&&(statements=function(statements,compressor){var has_quit=!1,orig=statements.length,self=compressor.self();return statements=statements.reduce(function(a,stat){if(has_quit)extract_declarations_from_unreachable_code(compressor,stat,a);else{if(stat instanceof AST_LoopControl){var lct=compressor.loopcontrol_target(stat);stat instanceof AST_Break&&!(lct instanceof AST_IterationStatement)&&loop_body(lct)===self||stat instanceof AST_Continue&&loop_body(lct)===self?stat.label&&remove(stat.label.thedef.references,stat):a.push(stat)}else a.push(stat);aborts(stat)&&(has_quit=!0)}return a},[]),CHANGED=statements.length!=orig,statements}(statements,compressor)),compressor.option("if_return")&&(statements=function(statements,compressor){var self=compressor.self(),multiple_if_returns=function(statements){for(var n=0,i=statements.length;--i>=0;){var stat=statements[i];if(stat instanceof AST_If&&stat.body instanceof AST_Return&&++n>1)return!0}return!1}(statements),in_lambda=self instanceof AST_Lambda,ret=[];loop:for(var i=statements.length;--i>=0;){var stat=statements[i];switch(!0){case in_lambda&&stat instanceof AST_Return&&!stat.value&&0==ret.length:CHANGED=!0;continue loop;case stat instanceof AST_If:if(stat.body instanceof AST_Return){if((in_lambda&&0==ret.length||ret[0]instanceof AST_Return&&!ret[0].value)&&!stat.body.value&&!stat.alternative){CHANGED=!0;var cond=make_node(AST_SimpleStatement,stat.condition,{body:stat.condition});ret.unshift(cond);continue loop}if(ret[0]instanceof AST_Return&&stat.body.value&&ret[0].value&&!stat.alternative){CHANGED=!0,stat=stat.clone(),stat.alternative=ret[0],ret[0]=stat.transform(compressor);continue loop}if(multiple_if_returns&&(0==ret.length||ret[0]instanceof AST_Return)&&stat.body.value&&!stat.alternative&&in_lambda){CHANGED=!0,stat=stat.clone(),stat.alternative=ret[0]||make_node(AST_Return,stat,{value:null}),ret[0]=stat.transform(compressor);continue loop}if(!stat.body.value&&in_lambda){CHANGED=!0,stat=stat.clone(),stat.condition=stat.condition.negate(compressor);var body=as_statement_array(stat.alternative).concat(ret),funs=extract_functions_from_statement_array(body);stat.body=make_node(AST_BlockStatement,stat,{body:body}),stat.alternative=null,ret=funs.concat([stat.transform(compressor)]);continue loop}if(compressor.option("sequences")&&i>0&&statements[i-1]instanceof AST_If&&statements[i-1].body instanceof AST_Return&&1==ret.length&&in_lambda&&ret[0]instanceof AST_SimpleStatement&&!stat.alternative){CHANGED=!0,ret.push(make_node(AST_Return,ret[0],{value:null}).transform(compressor)),ret.unshift(stat);continue loop}}var ab=aborts(stat.body),lct=ab instanceof AST_LoopControl?compressor.loopcontrol_target(ab):null;if(ab&&(ab instanceof AST_Return&&!ab.value&&in_lambda||ab instanceof AST_Continue&&self===loop_body(lct)||ab instanceof AST_Break&&lct instanceof AST_BlockStatement&&self===lct)){ab.label&&remove(ab.label.thedef.references,ab),CHANGED=!0;var body=as_statement_array(stat.body).slice(0,-1);stat=stat.clone(),stat.condition=stat.condition.negate(compressor),stat.body=make_node(AST_BlockStatement,stat,{body:as_statement_array(stat.alternative).concat(ret)}),stat.alternative=make_node(AST_BlockStatement,stat,{body:body}),ret=[stat.transform(compressor)];continue loop}var ab=aborts(stat.alternative),lct=ab instanceof AST_LoopControl?compressor.loopcontrol_target(ab):null;if(ab&&(ab instanceof AST_Return&&!ab.value&&in_lambda||ab instanceof AST_Continue&&self===loop_body(lct)||ab instanceof AST_Break&&lct instanceof AST_BlockStatement&&self===lct)){ab.label&&remove(ab.label.thedef.references,ab),CHANGED=!0,stat=stat.clone(),stat.body=make_node(AST_BlockStatement,stat.body,{
body:as_statement_array(stat.body).concat(ret)}),stat.alternative=make_node(AST_BlockStatement,stat.alternative,{body:as_statement_array(stat.alternative).slice(0,-1)}),ret=[stat.transform(compressor)];continue loop}ret.unshift(stat);break;default:ret.unshift(stat)}}return ret}(statements,compressor)),compressor.sequences_limit>0&&(statements=function(statements,compressor){function push_seq(){seq=AST_Seq.from_array(seq),seq&&ret.push(make_node(AST_SimpleStatement,seq,{body:seq})),seq=[]}if(statements.length<2)return statements;var seq=[],ret=[];return statements.forEach(function(stat){if(stat instanceof AST_SimpleStatement){seqLength(seq)>=compressor.sequences_limit&&push_seq();var body=stat.body;seq.length>0&&(body=body.drop_side_effect_free(compressor)),body&&seq.push(body)}else push_seq(),ret.push(stat)}),push_seq(),ret=sequencesize_2(ret,compressor),CHANGED=ret.length!=statements.length,ret}(statements,compressor)),compressor.option("join_vars")&&(statements=function(statements,compressor){var prev=null;return statements.reduce(function(a,stat){return stat instanceof AST_Definitions&&prev&&prev.TYPE==stat.TYPE?(prev.definitions=prev.definitions.concat(stat.definitions),CHANGED=!0):stat instanceof AST_For&&prev instanceof AST_Var&&(!stat.init||stat.init.TYPE==prev.TYPE)?(CHANGED=!0,a.pop(),stat.init?stat.init.definitions=prev.definitions.concat(stat.init.definitions):stat.init=prev,a.push(stat),prev=stat):(prev=stat,a.push(stat)),a},[])}(statements,compressor)),compressor.option("collapse_vars")&&(statements=collapse_single_use_vars(statements,compressor))}while(CHANGED&&max_iter-- >0);return statements}function extract_functions_from_statement_array(statements){for(var funs=[],i=statements.length-1;i>=0;--i){var stat=statements[i];stat instanceof AST_Defun&&(statements.splice(i,1),funs.unshift(stat))}return funs}function extract_declarations_from_unreachable_code(compressor,stat,target){stat instanceof AST_Defun||compressor.warn("Dropping unreachable code [{file}:{line},{col}]",stat.start),stat.walk(new TreeWalker(function(node){return node instanceof AST_Definitions?(compressor.warn("Declarations in unreachable code! [{file}:{line},{col}]",node.start),node.remove_initializers(),target.push(node),!0):node instanceof AST_Defun?(target.push(node),!0):node instanceof AST_Scope||void 0}))}function is_undefined(node,compressor){return node.is_undefined||node instanceof AST_Undefined||node instanceof AST_UnaryPrefix&&"void"==node.operator&&!node.expression.has_side_effects(compressor)}function is_lhs(node,parent){return parent instanceof AST_Unary&&unary_side_effects(parent.operator)?parent.expression:parent instanceof AST_Assign&&parent.left===node?node:void 0}function best_of_expression(ast1,ast2){return ast1.print_to_string().length>ast2.print_to_string().length?ast2:ast1}function best_of_statement(ast1,ast2){return best_of_expression(make_node(AST_SimpleStatement,ast1,{body:ast1}),make_node(AST_SimpleStatement,ast2,{body:ast2})).body}function best_of(compressor,ast1,ast2){return(first_in_statement(compressor)?best_of_statement:best_of_expression)(ast1,ast2)}function aborts(thing){return thing&&thing.aborts()}function if_break_in_loop(self,compressor){function drop_it(rest){rest=as_statement_array(rest),self.body instanceof AST_BlockStatement?(self.body=self.body.clone(),self.body.body=rest.concat(self.body.body.slice(1)),self.body=self.body.transform(compressor)):self.body=make_node(AST_BlockStatement,self.body,{body:rest}).transform(compressor),if_break_in_loop(self,compressor)}var first=self.body instanceof AST_BlockStatement?self.body.body[0]:self.body;first instanceof AST_If&&(first.body instanceof AST_Break&&compressor.loopcontrol_target(first.body)===compressor.self()?(self.condition?self.condition=make_node(AST_Binary,self.condition,{left:self.condition,operator:"&&",right:first.condition.negate(compressor)}):self.condition=first.condition.negate(compressor),drop_it(first.alternative)):first.alternative instanceof AST_Break&&compressor.loopcontrol_target(first.alternative)===compressor.self()&&(self.condition?self.condition=make_node(AST_Binary,self.condition,{left:self.condition,operator:"&&",right:first.condition}):self.condition=first.condition,drop_it(first.body)))}function is_atomic(lhs,self){return lhs instanceof AST_SymbolRef||lhs.TYPE===self.TYPE}function literals_in_boolean_context(self,compressor){return compressor.option("booleans")&&compressor.in_boolean_context()?best_of(compressor,self,make_node(AST_Seq,self,{car:self,cdr:make_node(AST_True,self)}).optimize(compressor)):self}OPT(AST_Node,function(self,compressor){return self}),AST_Node.DEFMETHOD("equivalent_to",function(node){return this.TYPE==node.TYPE&&this.print_to_string()==node.print_to_string()}),AST_Node.DEFMETHOD("process_expression",function(insert,compressor){var self=this,tt=new TreeTransformer(function(node){if(insert&&node instanceof AST_SimpleStatement)return make_node(AST_Return,node,{value:node.body});if(!insert&&node instanceof AST_Return){if(compressor){var value=node.value&&node.value.drop_side_effect_free(compressor,!0);return value?make_node(AST_SimpleStatement,node,{body:value}):make_node(AST_EmptyStatement,node)}return make_node(AST_SimpleStatement,node,{body:node.value||make_node(AST_UnaryPrefix,node,{operator:"void",expression:make_node(AST_Number,node,{value:0})})})}if(node instanceof AST_Lambda&&node!==self)return node;if(node instanceof AST_Block){var index=node.body.length-1;index>=0&&(node.body[index]=node.body[index].transform(tt))}return node instanceof AST_If&&(node.body=node.body.transform(tt),node.alternative&&(node.alternative=node.alternative.transform(tt))),node instanceof AST_With&&(node.body=node.body.transform(tt)),node});return self.transform(tt)}),AST_Node.DEFMETHOD("reset_opt_flags",function(compressor,rescan){function mark(def,safe){safe_ids[def.id]=safe}function is_safe(def){if(safe_ids[def.id]){if(null==def.fixed){var orig=def.orig[0];if(orig instanceof AST_SymbolFunarg||"arguments"==orig.name)return!1;def.fixed=make_node(AST_Undefined,orig)}return!0}}function push(){safe_ids=Object.create(safe_ids)}function pop(){safe_ids=Object.getPrototypeOf(safe_ids)}function reset_def(def){def.escaped=!1,def.scope.uses_eval?def.fixed=!1:toplevel||!def.global||def.orig[0]instanceof AST_SymbolConst?def.fixed=void 0:def.fixed=!1,def.references=[],def.should_replace=void 0}function is_modified(node,level,func){var parent=tw.parent(level);return!!(is_lhs(node,parent)||!func&&parent instanceof AST_Call&&parent.expression===node)||(parent instanceof AST_PropAccess&&parent.expression===node?!func&&is_modified(parent,level+1):void 0)}var reduce_vars=rescan&&compressor.option("reduce_vars"),toplevel=compressor.option("toplevel"),safe_ids=Object.create(null),suppressor=new TreeWalker(function(node){if(node instanceof AST_Symbol){var d=node.definition();node instanceof AST_SymbolRef&&d.references.push(node),d.fixed=!1}}),tw=new TreeWalker(function(node,descend){if(node._squeezed=!1,node._optimized=!1,reduce_vars){if(node instanceof AST_Toplevel&&node.globals.each(reset_def),node instanceof AST_Scope&&node.variables.each(reset_def),node instanceof AST_SymbolRef){var d=node.definition();if(d.references.push(node),void 0===d.fixed||!is_safe(d)||is_modified(node,0,node.fixed_value()instanceof AST_Lambda))d.fixed=!1;else{var parent=tw.parent();(parent instanceof AST_Assign&&"="==parent.operator&&node===parent.right||parent instanceof AST_Call&&node!==parent.expression||parent instanceof AST_Return&&node===parent.value&&node.scope!==d.scope||parent instanceof AST_VarDef&&node===parent.value)&&(d.escaped=!0)}}if(node instanceof AST_SymbolCatch&&(node.definition().fixed=!1),node instanceof AST_VarDef){var d=node.name.definition();if(null==d.fixed)return node.value?(d.fixed=function(){return node.value},mark(d,!1),descend()):d.fixed=null,mark(d,!0),!0;node.value&&(d.fixed=!1)}if(node instanceof AST_Defun){var d=node.name.definition();!toplevel&&d.global||is_safe(d)?d.fixed=!1:(d.fixed=node,mark(d,!0));var save_ids=safe_ids;return safe_ids=Object.create(null),descend(),safe_ids=save_ids,!0}if(node instanceof AST_Function){push();var iife;return!node.name&&(iife=tw.parent())instanceof AST_Call&&iife.expression===node&&node.argnames.forEach(function(arg,i){var d=arg.definition();node.uses_arguments||void 0!==d.fixed?d.fixed=!1:(d.fixed=function(){return iife.args[i]||make_node(AST_Undefined,iife)},mark(d,!0))}),descend(),pop(),!0}if(node instanceof AST_Accessor){var save_ids=safe_ids;return safe_ids=Object.create(null),descend(),safe_ids=save_ids,!0}if(node instanceof AST_Binary&&("&&"==node.operator||"||"==node.operator))return node.left.walk(tw),push(),node.right.walk(tw),pop(),!0;if(node instanceof AST_Conditional)return node.condition.walk(tw),push(),node.consequent.walk(tw),pop(),push(),node.alternative.walk(tw),pop(),!0;if(node instanceof AST_If||node instanceof AST_DWLoop)return node.condition.walk(tw),push(),node.body.walk(tw),pop(),node.alternative&&(push(),node.alternative.walk(tw),pop()),!0;if(node instanceof AST_LabeledStatement)return push(),node.body.walk(tw),pop(),!0;if(node instanceof AST_For)return node.init&&node.init.walk(tw),push(),node.condition&&node.condition.walk(tw),node.body.walk(tw),node.step&&node.step.walk(tw),pop(),!0;if(node instanceof AST_ForIn)return node.init.walk(suppressor),node.object.walk(tw),push(),node.body.walk(tw),pop(),!0;if(node instanceof AST_Try)return push(),walk_body(node,tw),pop(),node.bcatch&&(push(),node.bcatch.walk(tw),pop()),node.bfinally&&node.bfinally.walk(tw),!0;if(node instanceof AST_SwitchBranch)return push(),descend(),pop(),!0}});this.walk(tw)}),AST_SymbolRef.DEFMETHOD("fixed_value",function(){var fixed=this.definition().fixed;return!fixed||fixed instanceof AST_Node?fixed:fixed()}),function(def){function is_strict(pure_getters){return/strict/.test(pure_getters)}AST_Node.DEFMETHOD("may_throw_on_access",function(compressor){var pure_getters=compressor.option("pure_getters");return!pure_getters||this._throw_on_access(pure_getters)}),def(AST_Node,is_strict),def(AST_Null,return_true),def(AST_Undefined,return_true),def(AST_Constant,return_false),def(AST_Array,return_false),def(AST_Object,function(pure_getters){if(!is_strict(pure_getters))return!1;for(var i=this.properties.length;--i>=0;)if(this.properties[i].value instanceof AST_Accessor)return!0;return!1}),def(AST_Function,return_false),def(AST_UnaryPostfix,return_false),def(AST_UnaryPrefix,function(){return"void"==this.operator}),def(AST_Binary,function(pure_getters){switch(this.operator){case"&&":return this.left._throw_on_access(pure_getters);case"||":return this.left._throw_on_access(pure_getters)&&this.right._throw_on_access(pure_getters);default:return!1}}),def(AST_Assign,function(pure_getters){return"="==this.operator&&this.right._throw_on_access(pure_getters)}),def(AST_Conditional,function(pure_getters){return this.consequent._throw_on_access(pure_getters)||this.alternative._throw_on_access(pure_getters)}),def(AST_Seq,function(pure_getters){return this.cdr._throw_on_access(pure_getters)}),def(AST_SymbolRef,function(pure_getters){if(this.is_undefined)return!0;if(!is_strict(pure_getters))return!1;var fixed=this.fixed_value();return!fixed||fixed._throw_on_access(pure_getters)})}(function(node,func){node.DEFMETHOD("_throw_on_access",func)}),function(def){var unary_bool=["!","delete"],binary_bool=["in","instanceof","==","!=","===","!==","<","<=",">=",">"];def(AST_Node,return_false),def(AST_UnaryPrefix,function(){return member(this.operator,unary_bool)}),def(AST_Binary,function(){return member(this.operator,binary_bool)||("&&"==this.operator||"||"==this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),def(AST_Conditional,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),def(AST_Assign,function(){return"="==this.operator&&this.right.is_boolean()}),def(AST_Seq,function(){return this.cdr.is_boolean()}),def(AST_True,return_true),def(AST_False,return_true)}(function(node,func){node.DEFMETHOD("is_boolean",func)}),function(def){def(AST_Node,return_false),def(AST_Number,return_true);var unary=makePredicate("+ - ~ ++ --");def(AST_Unary,function(){return unary(this.operator)});var binary=makePredicate("- * / % & | ^ << >> >>>");def(AST_Binary,function(compressor){return binary(this.operator)||"+"==this.operator&&this.left.is_number(compressor)&&this.right.is_number(compressor)}),def(AST_Assign,function(compressor){return binary(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(compressor)}),def(AST_Seq,function(compressor){return this.cdr.is_number(compressor)}),def(AST_Conditional,function(compressor){return this.consequent.is_number(compressor)&&this.alternative.is_number(compressor)})}(function(node,func){node.DEFMETHOD("is_number",func)}),function(def){def(AST_Node,return_false),def(AST_String,return_true),def(AST_UnaryPrefix,function(){return"typeof"==this.operator}),def(AST_Binary,function(compressor){return"+"==this.operator&&(this.left.is_string(compressor)||this.right.is_string(compressor))}),def(AST_Assign,function(compressor){return("="==this.operator||"+="==this.operator)&&this.right.is_string(compressor)}),def(AST_Seq,function(compressor){return this.cdr.is_string(compressor)}),def(AST_Conditional,function(compressor){return this.consequent.is_string(compressor)&&this.alternative.is_string(compressor)})}(function(node,func){node.DEFMETHOD("is_string",func)});var unary_side_effects=makePredicate("delete ++ --");!function(def){function to_node(value,orig){if(value instanceof AST_Node)return make_node(value.CTOR,orig,value);if(Array.isArray(value))return make_node(AST_Array,orig,{elements:value.map(function(value){return to_node(value,orig)})});if(value&&"object"==typeof value){var props=[];for(var key in value)props.push(make_node(AST_ObjectKeyVal,orig,{key:key,value:to_node(value[key],orig)}));return make_node(AST_Object,orig,{properties:props})}return make_node_from_constant(value,orig)}AST_Node.DEFMETHOD("resolve_defines",function(compressor){if(compressor.option("global_defs")){var def=this._find_defs(compressor,"");if(def){var node,parent=this,level=0;do{node=parent,parent=compressor.parent(level++)}while(parent instanceof AST_PropAccess&&parent.expression===node);if(!is_lhs(node,parent))return def;compressor.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}}),def(AST_Node,noop),def(AST_Dot,function(compressor,suffix){return this.expression._find_defs(compressor,"."+this.property+suffix)}),def(AST_SymbolRef,function(compressor,suffix){if(this.global()){var name,defines=compressor.option("global_defs");if(defines&&HOP(defines,name=this.name+suffix)){var node=to_node(defines[name],this),top=compressor.find_parent(AST_Toplevel);return node.walk(new TreeWalker(function(node){node instanceof AST_SymbolRef&&(node.scope=top,node.thedef=top.def_global(node))})),node}}})}(function(node,func){node.DEFMETHOD("_find_defs",func)}),function(def){function ev(node,compressor){if(!compressor)throw new Error("Compressor must be passed");return node._eval(compressor)}AST_Node.DEFMETHOD("evaluate",function(compressor){if(!compressor.option("evaluate"))return this;try{var val=this._eval(compressor);return!val||val instanceof RegExp||"object"!=typeof val?val:this}catch(ex){if(ex!==def)throw ex;return this}});var unaryPrefix=makePredicate("! ~ - + void");AST_Node.DEFMETHOD("is_constant",function(){return this instanceof AST_Constant?!(this instanceof AST_RegExp):this instanceof AST_UnaryPrefix&&this.expression instanceof AST_Constant&&unaryPrefix(this.operator)}),AST_Node.DEFMETHOD("constant_value",function(compressor){if(this instanceof AST_Constant&&!(this instanceof AST_RegExp))return this.value;if(this instanceof AST_UnaryPrefix&&this.expression instanceof AST_Constant)switch(this.operator){case"!":return!this.expression.value;case"~":return~this.expression.value;case"-":return-this.expression.value;case"+":return+this.expression.value;default:throw new Error(string_template("Cannot evaluate unary expression {value}",{value:this.print_to_string()}))}var result=this.evaluate(compressor);if(result!==this)return result;throw new Error(string_template("Cannot evaluate constant [{file}:{line},{col}]",this.start))}),def(AST_Statement,function(){throw new Error(string_template("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),def(AST_Lambda,function(){throw def}),def(AST_Node,function(){throw def}),def(AST_Constant,function(){return this.getValue()}),def(AST_Array,function(compressor){if(compressor.option("unsafe"))return this.elements.map(function(element){return ev(element,compressor)});throw def}),def(AST_Object,function(compressor){if(compressor.option("unsafe")){for(var val={},i=0,len=this.properties.length;i<len;i++){var prop=this.properties[i],key=prop.key;if(key instanceof AST_Symbol?key=key.name:key instanceof AST_Node&&(key=ev(key,compressor)),"function"==typeof Object.prototype[key])throw def;val[key]=ev(prop.value,compressor)}return val}throw def}),def(AST_UnaryPrefix,function(compressor){var e=this.expression;switch(this.operator){case"!":return!ev(e,compressor);case"typeof":if(e instanceof AST_Function)return"function";if((e=ev(e,compressor))instanceof RegExp)throw def;return typeof e;case"void":return void ev(e,compressor);case"~":return~ev(e,compressor);case"-":return-ev(e,compressor);case"+":return+ev(e,compressor)}throw def}),def(AST_Binary,function(c){var result,left=this.left,right=this.right;switch(this.operator){case"&&":result=ev(left,c)&&ev(right,c);break;case"||":result=ev(left,c)||ev(right,c);break;case"|":result=ev(left,c)|ev(right,c);break;case"&":result=ev(left,c)&ev(right,c);break;case"^":result=ev(left,c)^ev(right,c);break;case"+":result=ev(left,c)+ev(right,c);break;case"*":result=ev(left,c)*ev(right,c);break;case"/":result=ev(left,c)/ev(right,c);break;case"%":result=ev(left,c)%ev(right,c);break;case"-":result=ev(left,c)-ev(right,c);break;case"<<":result=ev(left,c)<<ev(right,c);break;case">>":result=ev(left,c)>>ev(right,c);break;case">>>":result=ev(left,c)>>>ev(right,c);break;case"==":result=ev(left,c)==ev(right,c);break;case"===":result=ev(left,c)===ev(right,c);break;case"!=":result=ev(left,c)!=ev(right,c);break;case"!==":result=ev(left,c)!==ev(right,c);break;case"<":result=ev(left,c)<ev(right,c);break;case"<=":result=ev(left,c)<=ev(right,c);break;case">":result=ev(left,c)>ev(right,c);break;case">=":result=ev(left,c)>=ev(right,c);break;default:throw def}if(isNaN(result)&&c.find_parent(AST_With))throw def;return result}),def(AST_Conditional,function(compressor){return ev(this.condition,compressor)?ev(this.consequent,compressor):ev(this.alternative,compressor)}),def(AST_SymbolRef,function(compressor){if(!compressor.option("reduce_vars")||this._evaluating)throw def;this._evaluating=!0;try{var fixed=this.fixed_value();if(!fixed)throw def;var value=ev(fixed,compressor);if(HOP(fixed,"_eval")||(fixed._eval=function(){return value}),value&&"object"==typeof value&&this.definition().escaped)throw def;return value}finally{this._evaluating=!1}}),def(AST_PropAccess,function(compressor){if(compressor.option("unsafe")){var key=this.property;key instanceof AST_Node&&(key=ev(key,compressor));var val=ev(this.expression,compressor);if(val&&HOP(val,key))return val[key]}throw def})}(function(node,func){node.DEFMETHOD("_eval",func)}),function(def){function basic_negation(exp){return make_node(AST_UnaryPrefix,exp,{operator:"!",expression:exp})}function best(orig,alt,first_in_statement){var negated=basic_negation(orig);if(first_in_statement){var stat=make_node(AST_SimpleStatement,alt,{body:alt});return best_of_expression(negated,stat)===stat?alt:negated}return best_of_expression(negated,alt)}def(AST_Node,function(){return basic_negation(this)}),def(AST_Statement,function(){throw new Error("Cannot negate a statement")}),def(AST_Function,function(){return basic_negation(this)}),def(AST_UnaryPrefix,function(){return"!"==this.operator?this.expression:basic_negation(this)}),def(AST_Seq,function(compressor){var self=this.clone();return self.cdr=self.cdr.negate(compressor),self}),def(AST_Conditional,function(compressor,first_in_statement){var self=this.clone();return self.consequent=self.consequent.negate(compressor),self.alternative=self.alternative.negate(compressor),best(this,self,first_in_statement)}),def(AST_Binary,function(compressor,first_in_statement){var self=this.clone(),op=this.operator;if(compressor.option("unsafe_comps"))switch(op){case"<=":return self.operator=">",self;case"<":return self.operator=">=",self;case">=":return self.operator="<",self;case">":return self.operator="<=",self}switch(op){case"==":return self.operator="!=",self;case"!=":return self.operator="==",self;case"===":return self.operator="!==",self;case"!==":return self.operator="===",self;case"&&":return self.operator="||",self.left=self.left.negate(compressor,first_in_statement),self.right=self.right.negate(compressor),best(this,self,first_in_statement);case"||":return self.operator="&&",self.left=self.left.negate(compressor,first_in_statement),self.right=self.right.negate(compressor),best(this,self,first_in_statement)}return basic_negation(this)})}(function(node,func){node.DEFMETHOD("negate",function(compressor,first_in_statement){return func.call(this,compressor,first_in_statement)})}),AST_Call.DEFMETHOD("has_pure_annotation",function(compressor){if(!compressor.option("side_effects"))return!1;if(void 0!==this.pure)return this.pure;var comments,last_comment,pure=!1;return this.start&&(comments=this.start.comments_before)&&comments.length&&/[@#]__PURE__/.test((last_comment=comments[comments.length-1]).value)&&(pure=last_comment),this.pure=pure}),function(def){function any(list,compressor){for(var i=list.length;--i>=0;)if(list[i].has_side_effects(compressor))return!0;return!1}def(AST_Node,return_true),def(AST_EmptyStatement,return_false),def(AST_Constant,return_false),def(AST_This,return_false),def(AST_Call,function(compressor){if(!this.has_pure_annotation(compressor)&&compressor.pure_funcs(this))return!0;for(var i=this.args.length;--i>=0;)if(this.args[i].has_side_effects(compressor))return!0;return!1}),def(AST_Block,function(compressor){return any(this.body,compressor)}),def(AST_Switch,function(compressor){return this.expression.has_side_effects(compressor)||any(this.body,compressor)}),def(AST_Case,function(compressor){return this.expression.has_side_effects(compressor)||any(this.body,compressor)}),def(AST_Try,function(compressor){return any(this.body,compressor)||this.bcatch&&this.bcatch.has_side_effects(compressor)||this.bfinally&&this.bfinally.has_side_effects(compressor)}),def(AST_If,function(compressor){return this.condition.has_side_effects(compressor)||this.body&&this.body.has_side_effects(compressor)||this.alternative&&this.alternative.has_side_effects(compressor)}),def(AST_LabeledStatement,function(compressor){return this.body.has_side_effects(compressor)}),def(AST_SimpleStatement,function(compressor){return this.body.has_side_effects(compressor)}),def(AST_Defun,return_true),def(AST_Function,return_false),def(AST_Binary,function(compressor){return this.left.has_side_effects(compressor)||this.right.has_side_effects(compressor)}),def(AST_Assign,return_true),def(AST_Conditional,function(compressor){return this.condition.has_side_effects(compressor)||this.consequent.has_side_effects(compressor)||this.alternative.has_side_effects(compressor)}),def(AST_Unary,function(compressor){return unary_side_effects(this.operator)||this.expression.has_side_effects(compressor)}),def(AST_SymbolRef,function(compressor){return this.undeclared()}),def(AST_Object,function(compressor){return any(this.properties,compressor)}),def(AST_ObjectProperty,function(compressor){return this.value.has_side_effects(compressor)}),def(AST_Array,function(compressor){return any(this.elements,compressor)}),def(AST_Dot,function(compressor){return this.expression.may_throw_on_access(compressor)||this.expression.has_side_effects(compressor)}),def(AST_Sub,function(compressor){return this.expression.may_throw_on_access(compressor)||this.expression.has_side_effects(compressor)||this.property.has_side_effects(compressor)}),def(AST_Seq,function(compressor){return this.car.has_side_effects(compressor)||this.cdr.has_side_effects(compressor)})}(function(node,func){node.DEFMETHOD("has_side_effects",func)}),function(def){function block_aborts(){var n=this.body.length;return n>0&&aborts(this.body[n-1])}def(AST_Statement,return_null),def(AST_Jump,return_this),def(AST_BlockStatement,block_aborts),def(AST_SwitchBranch,block_aborts),def(AST_If,function(){return this.alternative&&aborts(this.body)&&aborts(this.alternative)&&this})}(function(node,func){node.DEFMETHOD("aborts",func)}),OPT(AST_Directive,function(self,compressor){return compressor.has_directive(self.value)!==self?make_node(AST_EmptyStatement,self):self}),OPT(AST_Debugger,function(self,compressor){return compressor.option("drop_debugger")?make_node(AST_EmptyStatement,self):self}),OPT(AST_LabeledStatement,function(self,compressor){return self.body instanceof AST_Break&&compressor.loopcontrol_target(self.body)===self.body?make_node(AST_EmptyStatement,self):0==self.label.references.length?self.body:self}),OPT(AST_Block,function(self,compressor){return self.body=tighten_body(self.body,compressor),self}),OPT(AST_BlockStatement,function(self,compressor){switch(self.body=tighten_body(self.body,compressor),self.body.length){case 1:return self.body[0];case 0:return make_node(AST_EmptyStatement,self)}return self}),AST_Scope.DEFMETHOD("drop_unused",function(compressor){var self=this;if(compressor.has_directive("use asm"))return self;var toplevel=compressor.option("toplevel");if(compressor.option("unused")&&(!(self instanceof AST_Toplevel)||toplevel)&&!self.uses_eval&&!self.uses_with){var assign_as_unused=!/keep_assign/.test(compressor.option("unused")),drop_funcs=/funcs/.test(toplevel),drop_vars=/vars/.test(toplevel);self instanceof AST_Toplevel&&1!=toplevel||(drop_funcs=drop_vars=!0);var in_use=[],in_use_ids=Object.create(null);self instanceof AST_Toplevel&&compressor.top_retain&&self.variables.each(function(def){!compressor.top_retain(def)||def.id in in_use_ids||(in_use_ids[def.id]=!0,in_use.push(def))});var initializations=new Dictionary,scope=this,tw=new TreeWalker(function(node,descend){if(node!==self){if(node instanceof AST_Defun){if(!drop_funcs&&scope===self){var node_def=node.name.definition();node_def.id in in_use_ids||(in_use_ids[node_def.id]=!0,in_use.push(node_def))}return initializations.add(node.name.name,node),!0}if(node instanceof AST_Definitions&&scope===self)return node.definitions.forEach(function(def){if(!drop_vars){var node_def=def.name.definition();node_def.id in in_use_ids||(in_use_ids[node_def.id]=!0,in_use.push(node_def))}def.value&&(initializations.add(def.name.name,def.value),def.value.has_side_effects(compressor)&&def.value.walk(tw))}),!0;if(assign_as_unused&&node instanceof AST_Assign&&"="==node.operator&&node.left instanceof AST_SymbolRef&&!is_reference_const(node.left)&&scope===self)return node.right.walk(tw),!0;if(node instanceof AST_SymbolRef){var node_def=node.definition();return node_def.id in in_use_ids||(in_use_ids[node_def.id]=!0,in_use.push(node_def)),!0}if(node instanceof AST_Scope){var save_scope=scope;return scope=node,descend(),scope=save_scope,!0}}});self.walk(tw);for(var i=0;i<in_use.length;++i)in_use[i].orig.forEach(function(decl){var init=initializations.get(decl.name);init&&init.forEach(function(init){var tw=new TreeWalker(function(node){if(node instanceof AST_SymbolRef){var node_def=node.definition();node_def.id in in_use_ids||(in_use_ids[node_def.id]=!0,in_use.push(node_def))}});init.walk(tw)})});var tt=new TreeTransformer(function(node,descend,in_list){if(node instanceof AST_Function&&node.name&&!compressor.option("keep_fnames")){var def=node.name.definition();def.id in in_use_ids&&!(def.orig.length>1)||(node.name=null)}if(node instanceof AST_Lambda&&!(node instanceof AST_Accessor))for(var trim=!compressor.option("keep_fargs"),a=node.argnames,i=a.length;--i>=0;){var sym=a[i];sym.definition().id in in_use_ids?trim=!1:(sym.__unused=!0,trim&&(a.pop(),compressor[sym.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",{name:sym.name,file:sym.start.file,line:sym.start.line,col:sym.start.col})))}if(drop_funcs&&node instanceof AST_Defun&&node!==self)return node.name.definition().id in in_use_ids?node:(compressor[node.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",{name:node.name.name,file:node.name.start.file,line:node.name.start.line,col:node.name.start.col}),make_node(AST_EmptyStatement,node));if(drop_vars&&node instanceof AST_Definitions&&!(tt.parent()instanceof AST_ForIn&&tt.parent().init===node)){var def=node.definitions.filter(function(def){def.value&&(def.value=def.value.transform(tt));var sym=def.name.definition();if(sym.id in in_use_ids)return!0;if(sym.orig[0]instanceof AST_SymbolCatch)return def.value=def.value&&def.value.drop_side_effect_free(compressor),!0;var w={name:def.name.name,file:def.name.start.file,line:def.name.start.line,col:def.name.start.col};return def.value&&(def._unused_side_effects=def.value.drop_side_effect_free(compressor))?(compressor.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",w),!0):(compressor[def.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",w),!1)});def=mergeSort(def,function(a,b){return!a.value&&b.value?-1:!b.value&&a.value?1:0});for(var side_effects=[],i=0;i<def.length;){var x=def[i];x._unused_side_effects?(side_effects.push(x._unused_side_effects),def.splice(i,1)):(side_effects.length>0&&(side_effects.push(x.value),x.value=AST_Seq.from_array(side_effects),side_effects=[]),++i)}return side_effects=side_effects.length>0?make_node(AST_BlockStatement,node,{body:[make_node(AST_SimpleStatement,node,{body:AST_Seq.from_array(side_effects)})]}):null,0!=def.length||side_effects?0==def.length?in_list?MAP.splice(side_effects.body):side_effects:(node.definitions=def,side_effects?(side_effects.body.unshift(node),in_list?MAP.splice(side_effects.body):side_effects):node):make_node(AST_EmptyStatement,node)}if(drop_vars&&assign_as_unused&&node instanceof AST_Assign&&"="==node.operator&&node.left instanceof AST_SymbolRef){var def=node.left.definition();if(!(def.id in in_use_ids)&&self.variables.get(def.name)===def)return maintain_this_binding(tt.parent(),node,node.right.transform(tt))}if(node instanceof AST_For){if(descend(node,this),node.init instanceof AST_BlockStatement){var block=node.init;return node.init=block.body.pop(),block.body.push(node),in_list?MAP.splice(block.body):block}return is_empty(node.init)&&(node.init=null),node}if(node instanceof AST_LabeledStatement&&node.body instanceof AST_For){if(descend(node,this),node.body instanceof AST_BlockStatement){var block=node.body;return node.body=block.body.pop(),block.body.push(node),in_list?MAP.splice(block.body):block}return node}return node instanceof AST_Scope&&node!==self?node:void 0});self.transform(tt)}}),AST_Scope.DEFMETHOD("hoist_declarations",function(compressor){var self=this;if(compressor.has_directive("use asm"))return self;var hoist_funs=compressor.option("hoist_funs"),hoist_vars=compressor.option("hoist_vars");if(hoist_funs||hoist_vars){var dirs=[],hoisted=[],vars=new Dictionary,vars_found=0,var_decl=0;self.walk(new TreeWalker(function(node){return node instanceof AST_Scope&&node!==self||(node instanceof AST_Var?(++var_decl,!0):void 0)})),hoist_vars=hoist_vars&&var_decl>1;var tt=new TreeTransformer(function(node){if(node!==self){if(node instanceof AST_Directive)return dirs.push(node),make_node(AST_EmptyStatement,node);if(node instanceof AST_Defun&&hoist_funs)return hoisted.push(node),make_node(AST_EmptyStatement,node);if(node instanceof AST_Var&&hoist_vars){node.definitions.forEach(function(def){
vars.set(def.name.name,def),++vars_found});var seq=node.to_assignments(compressor),p=tt.parent();if(p instanceof AST_ForIn&&p.init===node){if(null==seq){var def=node.definitions[0].name;return make_node(AST_SymbolRef,def,def)}return seq}return p instanceof AST_For&&p.init===node?seq:seq?make_node(AST_SimpleStatement,node,{body:seq}):make_node(AST_EmptyStatement,node)}if(node instanceof AST_Scope)return node}});if(self=self.transform(tt),vars_found>0){var defs=[];if(vars.each(function(def,name){self instanceof AST_Lambda&&find_if(function(x){return x.name==def.name.name},self.argnames)?vars.del(name):(def=def.clone(),def.value=null,defs.push(def),vars.set(name,def))}),defs.length>0){for(;0<self.body.length;){if(self.body[0]instanceof AST_SimpleStatement){var sym,assign,expr=self.body[0].body;if(expr instanceof AST_Assign&&"="==expr.operator&&(sym=expr.left)instanceof AST_Symbol&&vars.has(sym.name)){var def=vars.get(sym.name);if(def.value)break;def.value=expr.right,remove(defs,def),defs.push(def),self.body.splice(0,1);continue}if(expr instanceof AST_Seq&&(assign=expr.car)instanceof AST_Assign&&"="==assign.operator&&(sym=assign.left)instanceof AST_Symbol&&vars.has(sym.name)){var def=vars.get(sym.name);if(def.value)break;def.value=assign.right,remove(defs,def),defs.push(def),self.body[0].body=expr.cdr;continue}}if(self.body[0]instanceof AST_EmptyStatement)self.body.splice(0,1);else{if(!(self.body[0]instanceof AST_BlockStatement))break;var tmp=[0,1].concat(self.body[0].body);self.body.splice.apply(self.body,tmp)}}defs=make_node(AST_Var,self,{definitions:defs}),hoisted.push(defs)}}self.body=dirs.concat(hoisted,self.body)}return self}),function(def){function trim(nodes,compressor,first_in_statement){for(var ret=[],changed=!1,i=0,len=nodes.length;i<len;i++){var node=nodes[i].drop_side_effect_free(compressor,first_in_statement);changed|=node!==nodes[i],node&&(ret.push(node),first_in_statement=!1)}return changed?ret.length?ret:null:nodes}def(AST_Node,return_this),def(AST_Constant,return_null),def(AST_This,return_null),def(AST_Call,function(compressor,first_in_statement){if(!this.has_pure_annotation(compressor)&&compressor.pure_funcs(this)){if(this.expression instanceof AST_Function&&(!this.expression.name||!this.expression.name.definition().references.length)){var node=this.clone();return node.expression=node.expression.process_expression(!1,compressor),node}return this}this.pure&&(compressor.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start),this.pure.value=this.pure.value.replace(/[@#]__PURE__/g," "));var args=trim(this.args,compressor,first_in_statement);return args&&AST_Seq.from_array(args)}),def(AST_Accessor,return_null),def(AST_Function,return_null),def(AST_Binary,function(compressor,first_in_statement){var right=this.right.drop_side_effect_free(compressor);if(!right)return this.left.drop_side_effect_free(compressor,first_in_statement);switch(this.operator){case"&&":case"||":if(right===this.right)return this;var node=this.clone();return node.right=right,node;default:var left=this.left.drop_side_effect_free(compressor,first_in_statement);return left?make_node(AST_Seq,this,{car:left,cdr:right}):this.right.drop_side_effect_free(compressor,first_in_statement)}}),def(AST_Assign,return_this),def(AST_Conditional,function(compressor){var consequent=this.consequent.drop_side_effect_free(compressor),alternative=this.alternative.drop_side_effect_free(compressor);if(consequent===this.consequent&&alternative===this.alternative)return this;if(!consequent)return alternative?make_node(AST_Binary,this,{operator:"||",left:this.condition,right:alternative}):this.condition.drop_side_effect_free(compressor);if(!alternative)return make_node(AST_Binary,this,{operator:"&&",left:this.condition,right:consequent});var node=this.clone();return node.consequent=consequent,node.alternative=alternative,node}),def(AST_Unary,function(compressor,first_in_statement){if(unary_side_effects(this.operator))return this;if("typeof"==this.operator&&this.expression instanceof AST_SymbolRef)return null;var expression=this.expression.drop_side_effect_free(compressor,first_in_statement);return first_in_statement&&this instanceof AST_UnaryPrefix&&is_iife_call(expression)?expression===this.expression&&1===this.operator.length?this:make_node(AST_UnaryPrefix,this,{operator:1===this.operator.length?this.operator:"!",expression:expression}):expression}),def(AST_SymbolRef,function(){return this.undeclared()?this:null}),def(AST_Object,function(compressor,first_in_statement){var values=trim(this.properties,compressor,first_in_statement);return values&&AST_Seq.from_array(values)}),def(AST_ObjectProperty,function(compressor,first_in_statement){return this.value.drop_side_effect_free(compressor,first_in_statement)}),def(AST_Array,function(compressor,first_in_statement){var values=trim(this.elements,compressor,first_in_statement);return values&&AST_Seq.from_array(values)}),def(AST_Dot,function(compressor,first_in_statement){return this.expression.may_throw_on_access(compressor)?this:this.expression.drop_side_effect_free(compressor,first_in_statement)}),def(AST_Sub,function(compressor,first_in_statement){if(this.expression.may_throw_on_access(compressor))return this;var expression=this.expression.drop_side_effect_free(compressor,first_in_statement);if(!expression)return this.property.drop_side_effect_free(compressor,first_in_statement);var property=this.property.drop_side_effect_free(compressor);return property?make_node(AST_Seq,this,{car:expression,cdr:property}):expression}),def(AST_Seq,function(compressor){var cdr=this.cdr.drop_side_effect_free(compressor);return cdr===this.cdr?this:cdr?make_node(AST_Seq,this,{car:this.car,cdr:cdr}):this.car})}(function(node,func){node.DEFMETHOD("drop_side_effect_free",func)}),OPT(AST_SimpleStatement,function(self,compressor){if(compressor.option("side_effects")){var body=self.body,node=body.drop_side_effect_free(compressor,!0);if(!node)return compressor.warn("Dropping side-effect-free statement [{file}:{line},{col}]",self.start),make_node(AST_EmptyStatement,self);if(node!==body)return make_node(AST_SimpleStatement,self,{body:node})}return self}),OPT(AST_DWLoop,function(self,compressor){if(!compressor.option("loops"))return self;var cond=self.condition.evaluate(compressor);if(cond!==self.condition){if(cond)return make_node(AST_For,self,{body:self.body});if(compressor.option("dead_code")&&self instanceof AST_While){var a=[];return extract_declarations_from_unreachable_code(compressor,self.body,a),make_node(AST_BlockStatement,self,{body:a}).optimize(compressor)}if(self instanceof AST_Do){var has_loop_control=!1,tw=new TreeWalker(function(node){return!!(node instanceof AST_Scope||has_loop_control)||(node instanceof AST_LoopControl&&tw.loopcontrol_target(node)===self?has_loop_control=!0:void 0)}),parent=compressor.parent();if((parent instanceof AST_LabeledStatement?parent:self).walk(tw),!has_loop_control)return self.body}}return self instanceof AST_While?make_node(AST_For,self,self).optimize(compressor):self}),OPT(AST_For,function(self,compressor){if(!compressor.option("loops"))return self;if(self.condition){var cond=self.condition.evaluate(compressor);if(compressor.option("dead_code")&&!cond){var a=[];return self.init instanceof AST_Statement?a.push(self.init):self.init&&a.push(make_node(AST_SimpleStatement,self.init,{body:self.init})),extract_declarations_from_unreachable_code(compressor,self.body,a),make_node(AST_BlockStatement,self,{body:a}).optimize(compressor)}cond!==self.condition&&(cond=make_node_from_constant(cond,self.condition).transform(compressor),self.condition=best_of_expression(cond,self.condition))}return if_break_in_loop(self,compressor),self}),OPT(AST_If,function(self,compressor){if(is_empty(self.alternative)&&(self.alternative=null),!compressor.option("conditionals"))return self;var cond=self.condition.evaluate(compressor);if(cond!==self.condition){if(cond){if(compressor.warn("Condition always true [{file}:{line},{col}]",self.condition.start),compressor.option("dead_code")){var a=[];return self.alternative&&extract_declarations_from_unreachable_code(compressor,self.alternative,a),a.push(self.body),make_node(AST_BlockStatement,self,{body:a}).optimize(compressor)}}else if(compressor.warn("Condition always false [{file}:{line},{col}]",self.condition.start),compressor.option("dead_code")){var a=[];return extract_declarations_from_unreachable_code(compressor,self.body,a),self.alternative&&a.push(self.alternative),make_node(AST_BlockStatement,self,{body:a}).optimize(compressor)}cond=make_node_from_constant(cond,self.condition).transform(compressor),self.condition=best_of_expression(cond,self.condition)}var negated=self.condition.negate(compressor),self_condition_length=self.condition.print_to_string().length,negated_length=negated.print_to_string().length,negated_is_best=negated_length<self_condition_length;if(self.alternative&&negated_is_best){negated_is_best=!1,self.condition=negated;var tmp=self.body;self.body=self.alternative||make_node(AST_EmptyStatement,self),self.alternative=tmp}if(is_empty(self.body)&&is_empty(self.alternative))return make_node(AST_SimpleStatement,self.condition,{body:self.condition.clone()}).optimize(compressor);if(self.body instanceof AST_SimpleStatement&&self.alternative instanceof AST_SimpleStatement)return make_node(AST_SimpleStatement,self,{body:make_node(AST_Conditional,self,{condition:self.condition,consequent:self.body.body,alternative:self.alternative.body})}).optimize(compressor);if(is_empty(self.alternative)&&self.body instanceof AST_SimpleStatement)return self_condition_length===negated_length&&!negated_is_best&&self.condition instanceof AST_Binary&&"||"==self.condition.operator&&(negated_is_best=!0),negated_is_best?make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"||",left:negated,right:self.body.body})}).optimize(compressor):make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"&&",left:self.condition,right:self.body.body})}).optimize(compressor);if(self.body instanceof AST_EmptyStatement&&self.alternative instanceof AST_SimpleStatement)return make_node(AST_SimpleStatement,self,{body:make_node(AST_Binary,self,{operator:"||",left:self.condition,right:self.alternative.body})}).optimize(compressor);if(self.body instanceof AST_Exit&&self.alternative instanceof AST_Exit&&self.body.TYPE==self.alternative.TYPE)return make_node(self.body.CTOR,self,{value:make_node(AST_Conditional,self,{condition:self.condition,consequent:self.body.value||make_node(AST_Undefined,self.body),alternative:self.alternative.value||make_node(AST_Undefined,self.alternative)}).transform(compressor)}).optimize(compressor);if(self.body instanceof AST_If&&!self.body.alternative&&!self.alternative&&(self=make_node(AST_If,self,{condition:make_node(AST_Binary,self.condition,{operator:"&&",left:self.condition,right:self.body.condition}),body:self.body.body,alternative:null})),aborts(self.body)&&self.alternative){var alt=self.alternative;return self.alternative=null,make_node(AST_BlockStatement,self,{body:[self,alt]}).optimize(compressor)}if(aborts(self.alternative)){var body=self.body;return self.body=self.alternative,self.condition=negated_is_best?negated:self.condition.negate(compressor),self.alternative=null,make_node(AST_BlockStatement,self,{body:[self,body]}).optimize(compressor)}return self}),OPT(AST_Switch,function(self,compressor){function eliminate_branch(branch,prev){prev&&!aborts(prev)?prev.body=prev.body.concat(branch.body):extract_declarations_from_unreachable_code(compressor,branch,decl)}if(!compressor.option("switches"))return self;var branch,value=self.expression.evaluate(compressor);if(value!==self.expression){var expression=make_node_from_constant(value,self.expression).transform(compressor);self.expression=best_of_expression(expression,self.expression)}if(!compressor.option("dead_code"))return self;for(var default_branch,exact_match,decl=[],body=[],i=0,len=self.body.length;i<len&&!exact_match;i++){if((branch=self.body[i])instanceof AST_Default)default_branch?eliminate_branch(branch,body[body.length-1]):default_branch=branch;else if(value!==self.expression){var exp=branch.expression.evaluate(compressor);if(exp===value){if(exact_match=branch,default_branch){var default_index=body.indexOf(default_branch);body.splice(default_index,1),eliminate_branch(default_branch,body[default_index-1]),default_branch=null}}else if(exp!==branch.expression){eliminate_branch(branch,body[body.length-1]);continue}}if(aborts(branch)){var prev=body[body.length-1];aborts(prev)&&prev.body.length==branch.body.length&&make_node(AST_BlockStatement,prev,prev).equivalent_to(make_node(AST_BlockStatement,branch,branch))&&(prev.body=[])}body.push(branch)}for(;i<len;)eliminate_branch(self.body[i++],body[body.length-1]);for(body.length>0&&(body[0].body=decl.concat(body[0].body)),self.body=body;branch=body[body.length-1];){var stat=branch.body[branch.body.length-1];if(stat instanceof AST_Break&&compressor.loopcontrol_target(stat)===self&&branch.body.pop(),branch.body.length||branch instanceof AST_Case&&(default_branch||branch.expression.has_side_effects(compressor)))break;body.pop()===default_branch&&(default_branch=null)}if(0==body.length)return make_node(AST_BlockStatement,self,{body:decl.concat(make_node(AST_SimpleStatement,self.expression,{body:self.expression}))}).optimize(compressor);if(1==body.length&&(body[0]===exact_match||body[0]===default_branch)){var has_break=!1,tw=new TreeWalker(function(node){if(has_break||node instanceof AST_Lambda||node instanceof AST_SimpleStatement)return!0;node instanceof AST_Break&&tw.loopcontrol_target(node)===self&&(has_break=!0)});if(self.walk(tw),!has_break)return body=body[0].body.slice(),body.unshift(make_node(AST_SimpleStatement,self.expression,{body:self.expression})),make_node(AST_BlockStatement,self,{body:body}).optimize(compressor)}return self}),OPT(AST_Try,function(self,compressor){if(self.body=tighten_body(self.body,compressor),self.bcatch&&self.bfinally&&all(self.bfinally.body,is_empty)&&(self.bfinally=null),all(self.body,is_empty)){var body=[];return self.bcatch&&extract_declarations_from_unreachable_code(compressor,self.bcatch,body),self.bfinally&&(body=body.concat(self.bfinally.body)),make_node(AST_BlockStatement,self,{body:body}).optimize(compressor)}return self}),AST_Definitions.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(def){def.value=null})}),AST_Definitions.DEFMETHOD("to_assignments",function(compressor){var reduce_vars=compressor.option("reduce_vars"),assignments=this.definitions.reduce(function(a,def){if(def.value){var name=make_node(AST_SymbolRef,def.name,def.name);a.push(make_node(AST_Assign,def,{operator:"=",left:name,right:def.value})),reduce_vars&&(name.definition().fixed=!1)}return a},[]);return 0==assignments.length?null:AST_Seq.from_array(assignments)}),OPT(AST_Definitions,function(self,compressor){return 0==self.definitions.length?make_node(AST_EmptyStatement,self):self}),OPT(AST_Call,function(self,compressor){var exp=self.expression;if(compressor.option("reduce_vars")&&exp instanceof AST_SymbolRef){var def=exp.definition(),fixed=exp.fixed_value();fixed instanceof AST_Defun&&(def.fixed=fixed=make_node(AST_Function,fixed,fixed).clone(!0)),fixed instanceof AST_Function&&(exp=fixed,!compressor.option("unused")||1!=def.references.length||def.scope.uses_arguments&&def.orig[0]instanceof AST_SymbolFunarg||def.scope.uses_eval||compressor.find_parent(AST_Scope)!==def.scope||(self.expression=exp))}if(compressor.option("unused")&&exp instanceof AST_Function&&!exp.uses_arguments&&!exp.uses_eval){for(var pos=0,last=0,i=0,len=self.args.length;i<len;i++){var trim=i>=exp.argnames.length;if(trim||exp.argnames[i].__unused){var node=self.args[i].drop_side_effect_free(compressor);if(node)self.args[pos++]=node;else if(!trim){self.args[pos++]=make_node(AST_Number,self.args[i],{value:0});continue}}else self.args[pos++]=self.args[i];last=pos}self.args.length=last}if(compressor.option("unsafe"))if(exp instanceof AST_SymbolRef&&exp.undeclared())switch(exp.name){case"Array":if(1!=self.args.length)return make_node(AST_Array,self,{elements:self.args}).optimize(compressor);break;case"Object":if(0==self.args.length)return make_node(AST_Object,self,{properties:[]});break;case"String":if(0==self.args.length)return make_node(AST_String,self,{value:""});if(self.args.length<=1)return make_node(AST_Binary,self,{left:self.args[0],operator:"+",right:make_node(AST_String,self,{value:""})}).optimize(compressor);break;case"Number":if(0==self.args.length)return make_node(AST_Number,self,{value:0});if(1==self.args.length)return make_node(AST_UnaryPrefix,self,{expression:self.args[0],operator:"+"}).optimize(compressor);case"Boolean":if(0==self.args.length)return make_node(AST_False,self);if(1==self.args.length)return make_node(AST_UnaryPrefix,self,{expression:make_node(AST_UnaryPrefix,self,{expression:self.args[0],operator:"!"}),operator:"!"}).optimize(compressor);break;case"Function":if(0==self.args.length)return make_node(AST_Function,self,{argnames:[],body:[]});if(all(self.args,function(x){return x instanceof AST_String}))try{var code="(function("+self.args.slice(0,-1).map(function(arg){return arg.value}).join(",")+"){"+self.args[self.args.length-1].value+"})()",ast=parse(code);ast.figure_out_scope({screw_ie8:compressor.option("screw_ie8")});var comp=new Compressor(compressor.options);ast=ast.transform(comp),ast.figure_out_scope({screw_ie8:compressor.option("screw_ie8")}),ast.mangle_names();var fun;try{ast.walk(new TreeWalker(function(node){if(node instanceof AST_Lambda)throw fun=node,ast}))}catch(ex){if(ex!==ast)throw ex}if(!fun)return self;var args=fun.argnames.map(function(arg,i){return make_node(AST_String,self.args[i],{value:arg.print_to_string()})}),code=OutputStream();return AST_BlockStatement.prototype._codegen.call(fun,fun,code),code=code.toString().replace(/^\{|\}$/g,""),args.push(make_node(AST_String,self.args[self.args.length-1],{value:code})),self.args=args,self}catch(ex){if(!(ex instanceof JS_Parse_Error))throw console.log(ex),ex;compressor.warn("Error parsing code passed to new Function [{file}:{line},{col}]",self.args[self.args.length-1].start),compressor.warn(ex.toString())}}else{if(exp instanceof AST_Dot&&"toString"==exp.property&&0==self.args.length)return make_node(AST_Binary,self,{left:make_node(AST_String,self,{value:""}),operator:"+",right:exp.expression}).optimize(compressor);if(exp instanceof AST_Dot&&exp.expression instanceof AST_Array&&"join"==exp.property){var separator;if(!(self.args.length>0&&(separator=self.args[0].evaluate(compressor))===self.args[0])){var elements=[],consts=[];if(exp.expression.elements.forEach(function(el){var value=el.evaluate(compressor);value!==el?consts.push(value):(consts.length>0&&(elements.push(make_node(AST_String,self,{value:consts.join(separator)})),consts.length=0),elements.push(el))}),consts.length>0&&elements.push(make_node(AST_String,self,{value:consts.join(separator)})),0==elements.length)return make_node(AST_String,self,{value:""});if(1==elements.length)return elements[0].is_string(compressor)?elements[0]:make_node(AST_Binary,elements[0],{operator:"+",left:make_node(AST_String,self,{value:""}),right:elements[0]});if(""==separator){var first;return first=elements[0].is_string(compressor)||elements[1].is_string(compressor)?elements.shift():make_node(AST_String,self,{value:""}),elements.reduce(function(prev,el){return make_node(AST_Binary,el,{operator:"+",left:prev,right:el})},first).optimize(compressor)}var node=self.clone();return node.expression=node.expression.clone(),node.expression.expression=node.expression.expression.clone(),node.expression.expression.elements=elements,best_of(compressor,self,node)}}else if(exp instanceof AST_Dot&&exp.expression.is_string(compressor)&&"charAt"==exp.property){var arg=self.args[0],index=arg?arg.evaluate(compressor):0;if(index!==arg)return make_node(AST_Sub,exp,{expression:exp.expression,property:make_node_from_constant(0|index,arg||exp)}).optimize(compressor)}}if(exp instanceof AST_Function){if(exp.body[0]instanceof AST_Return){var value=exp.body[0].value;if(!value||value.is_constant()){var args=self.args.concat(value||make_node(AST_Undefined,self));return AST_Seq.from_array(args).transform(compressor)}}if(compressor.option("side_effects")&&all(exp.body,is_empty)){var args=self.args.concat(make_node(AST_Undefined,self));return AST_Seq.from_array(args).transform(compressor)}}if(compressor.option("drop_console")&&exp instanceof AST_PropAccess){for(var name=exp.expression;name.expression;)name=name.expression;if(name instanceof AST_SymbolRef&&"console"==name.name&&name.undeclared())return make_node(AST_Undefined,self).optimize(compressor)}return compressor.option("negate_iife")&&compressor.parent()instanceof AST_SimpleStatement&&is_iife_call(self)?self.negate(compressor,!0):self}),OPT(AST_New,function(self,compressor){if(compressor.option("unsafe")){var exp=self.expression;if(exp instanceof AST_SymbolRef&&exp.undeclared())switch(exp.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return make_node(AST_Call,self,self).transform(compressor)}}return self}),OPT(AST_Seq,function(self,compressor){if(!compressor.option("side_effects"))return self;if(self.car=self.car.drop_side_effect_free(compressor,first_in_statement(compressor)),!self.car)return maintain_this_binding(compressor.parent(),self,self.cdr);if(compressor.option("cascade")){var left;if(self.car instanceof AST_Assign&&!self.car.left.has_side_effects(compressor)?left=self.car.left:self.car instanceof AST_Unary&&("++"==self.car.operator||"--"==self.car.operator)&&(left=self.car.expression),left&&!(left instanceof AST_SymbolRef&&(left.definition().orig[0]instanceof AST_SymbolLambda||is_reference_const(left))))for(var parent,field,cdr=self.cdr;;){if(cdr.equivalent_to(left)){var car=self.car instanceof AST_UnaryPostfix?make_node(AST_UnaryPrefix,self.car,{operator:self.car.operator,expression:left}):self.car;return parent?(parent[field]=car,self.cdr):car}if(cdr instanceof AST_Binary&&!(cdr instanceof AST_Assign))if(cdr.left.is_constant()){if("||"==cdr.operator||"&&"==cdr.operator)break;field="right"}else field="left";else{if(!(cdr instanceof AST_Call||cdr instanceof AST_Unary&&!unary_side_effects(cdr.operator)))break;field="expression"}parent=cdr,cdr=cdr[field]}}return is_undefined(self.cdr,compressor)?make_node(AST_UnaryPrefix,self,{operator:"void",expression:self.car}):self}),AST_Unary.DEFMETHOD("lift_sequences",function(compressor){if(compressor.option("sequences")&&this.expression instanceof AST_Seq){var seq=this.expression,x=seq.to_array(),e=this.clone();return e.expression=x.pop(),x.push(e),seq=AST_Seq.from_array(x).transform(compressor)}return this}),OPT(AST_UnaryPostfix,function(self,compressor){return self.lift_sequences(compressor)}),OPT(AST_UnaryPrefix,function(self,compressor){var e=self.expression;if("delete"==self.operator&&!(e instanceof AST_SymbolRef||e instanceof AST_PropAccess||e instanceof AST_NaN||e instanceof AST_Infinity||e instanceof AST_Undefined))return e instanceof AST_Seq?(e=e.to_array(),e.push(make_node(AST_True,self)),AST_Seq.from_array(e).optimize(compressor)):make_node(AST_Seq,self,{car:e,cdr:make_node(AST_True,self)}).optimize(compressor);var seq=self.lift_sequences(compressor);if(seq!==self)return seq;if(compressor.option("side_effects")&&"void"==self.operator)return e=e.drop_side_effect_free(compressor),e?(self.expression=e,self):make_node(AST_Undefined,self).optimize(compressor);if(compressor.option("booleans")&&compressor.in_boolean_context())switch(self.operator){case"!":if(e instanceof AST_UnaryPrefix&&"!"==e.operator)return e.expression;e instanceof AST_Binary&&(self=best_of(compressor,self,e.negate(compressor,first_in_statement(compressor))));break;case"typeof":return compressor.warn("Boolean expression always true [{file}:{line},{col}]",self.start),(e instanceof AST_SymbolRef?make_node(AST_True,self):make_node(AST_Seq,self,{car:e,cdr:make_node(AST_True,self)})).optimize(compressor)}if("-"==self.operator&&e instanceof AST_Infinity&&(e=e.transform(compressor)),e instanceof AST_Binary&&("+"==self.operator||"-"==self.operator)&&("*"==e.operator||"/"==e.operator||"%"==e.operator))return make_node(AST_Binary,self,{operator:e.operator,left:make_node(AST_UnaryPrefix,e.left,{operator:self.operator,expression:e.left}),right:e.right});if("-"!=self.operator||!(e instanceof AST_Number||e instanceof AST_Infinity)){var ev=self.evaluate(compressor);if(ev!==self)return ev=make_node_from_constant(ev,self).optimize(compressor),best_of(compressor,ev,self)}return self}),AST_Binary.DEFMETHOD("lift_sequences",function(compressor){if(compressor.option("sequences")){if(this.left instanceof AST_Seq){var seq=this.left,x=seq.to_array(),e=this.clone();return e.left=x.pop(),x.push(e),AST_Seq.from_array(x).optimize(compressor)}if(this.right instanceof AST_Seq&&!this.left.has_side_effects(compressor)){for(var cursor,assign="="==this.operator&&this.left instanceof AST_SymbolRef,root=this.right.clone(),seq=root;(assign||!seq.car.has_side_effects(compressor))&&(cursor=seq,seq.cdr instanceof AST_Seq);)seq=seq.cdr=seq.cdr.clone();if(cursor){var e=this.clone();return e.right=cursor.cdr,cursor.cdr=e,root.optimize(compressor)}}}return this});var commutativeOperators=makePredicate("== === != !== * & | ^");OPT(AST_Binary,function(self,compressor){function reversible(){return self.left.is_constant()||self.right.is_constant()||!self.left.has_side_effects(compressor)&&!self.right.has_side_effects(compressor)}function reverse(op){if(reversible()){op&&(self.operator=op);var tmp=self.left;self.left=self.right,self.right=tmp}}if(commutativeOperators(self.operator)&&self.right.is_constant()&&!self.left.is_constant()&&(self.left instanceof AST_Binary&&PRECEDENCE[self.left.operator]>=PRECEDENCE[self.operator]||reverse()),self=self.lift_sequences(compressor),compressor.option("comparisons"))switch(self.operator){case"===":case"!==":(self.left.is_string(compressor)&&self.right.is_string(compressor)||self.left.is_number(compressor)&&self.right.is_number(compressor)||self.left.is_boolean()&&self.right.is_boolean())&&(self.operator=self.operator.substr(0,2));case"==":case"!=":if(self.left instanceof AST_String&&"undefined"==self.left.value&&self.right instanceof AST_UnaryPrefix&&"typeof"==self.right.operator){var expr=self.right.expression;(expr instanceof AST_SymbolRef?expr.undeclared():expr instanceof AST_PropAccess&&!compressor.option("screw_ie8"))||(self.right=expr,self.left=make_node(AST_Undefined,self.left).optimize(compressor),2==self.operator.length&&(self.operator+="="))}}if(compressor.option("booleans")&&"+"==self.operator&&compressor.in_boolean_context()){var ll=self.left.evaluate(compressor),rr=self.right.evaluate(compressor);if(ll&&"string"==typeof ll)return compressor.warn("+ in boolean context always true [{file}:{line},{col}]",self.start),make_node(AST_Seq,self,{car:self.right,cdr:make_node(AST_True,self)}).optimize(compressor);if(rr&&"string"==typeof rr)return compressor.warn("+ in boolean context always true [{file}:{line},{col}]",self.start),make_node(AST_Seq,self,{car:self.left,cdr:make_node(AST_True,self)}).optimize(compressor)}if(compressor.option("comparisons")&&self.is_boolean()){if(!(compressor.parent()instanceof AST_Binary)||compressor.parent()instanceof AST_Assign){var negated=make_node(AST_UnaryPrefix,self,{operator:"!",expression:self.negate(compressor,first_in_statement(compressor))});self=best_of(compressor,self,negated)}if(compressor.option("unsafe_comps"))switch(self.operator){case"<":reverse(">");break;case"<=":reverse(">=")}}if("+"==self.operator){if(self.right instanceof AST_String&&""==self.right.getValue()&&self.left.is_string(compressor))return self.left;if(self.left instanceof AST_String&&""==self.left.getValue()&&self.right.is_string(compressor))return self.right;if(self.left instanceof AST_Binary&&"+"==self.left.operator&&self.left.left instanceof AST_String&&""==self.left.left.getValue()&&self.right.is_string(compressor))return self.left=self.left.right,self.transform(compressor)}if(compressor.option("evaluate")){switch(self.operator){case"&&":var ll=self.left.evaluate(compressor);if(!ll)return compressor.warn("Condition left of && always false [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.left).optimize(compressor);if(ll!==self.left)return compressor.warn("Condition left of && always true [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.right).optimize(compressor);if(compressor.option("booleans")&&compressor.in_boolean_context()){var rr=self.right.evaluate(compressor);if(!rr)return compressor.warn("Boolean && always false [{file}:{line},{col}]",self.start),make_node(AST_Seq,self,{car:self.left,cdr:make_node(AST_False,self)}).optimize(compressor);if(rr!==self.right)return compressor.warn("Dropping side-effect-free && in boolean context [{file}:{line},{col}]",self.start),self.left.optimize(compressor)}break;case"||":var ll=self.left.evaluate(compressor);if(!ll)return compressor.warn("Condition left of || always false [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.right).optimize(compressor);if(ll!==self.left)return compressor.warn("Condition left of || always true [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.left).optimize(compressor);if(compressor.option("booleans")&&compressor.in_boolean_context()){var rr=self.right.evaluate(compressor);if(!rr)return compressor.warn("Dropping side-effect-free || in boolean context [{file}:{line},{col}]",self.start),self.left.optimize(compressor);if(rr!==self.right)return compressor.warn("Boolean || always true [{file}:{line},{col}]",self.start),make_node(AST_Seq,self,{car:self.left,cdr:make_node(AST_True,self)}).optimize(compressor)}}var associative=!0;switch(self.operator){case"+":if(self.left instanceof AST_Constant&&self.right instanceof AST_Binary&&"+"==self.right.operator&&self.right.left instanceof AST_Constant&&self.right.is_string(compressor)&&(self=make_node(AST_Binary,self,{operator:"+",left:make_node(AST_String,self.left,{value:""+self.left.getValue()+self.right.left.getValue(),start:self.left.start,end:self.right.left.end}),right:self.right.right})),self.right instanceof AST_Constant&&self.left instanceof AST_Binary&&"+"==self.left.operator&&self.left.right instanceof AST_Constant&&self.left.is_string(compressor)&&(self=make_node(AST_Binary,self,{operator:"+",left:self.left.left,right:make_node(AST_String,self.right,{value:""+self.left.right.getValue()+self.right.getValue(),start:self.left.right.start,end:self.right.end})})),self.left instanceof AST_Binary&&"+"==self.left.operator&&self.left.is_string(compressor)&&self.left.right instanceof AST_Constant&&self.right instanceof AST_Binary&&"+"==self.right.operator&&self.right.left instanceof AST_Constant&&self.right.is_string(compressor)&&(self=make_node(AST_Binary,self,{operator:"+",left:make_node(AST_Binary,self.left,{operator:"+",left:self.left.left,right:make_node(AST_String,self.left.right,{value:""+self.left.right.getValue()+self.right.left.getValue(),start:self.left.right.start,end:self.right.left.end})}),right:self.right.right})),self.right instanceof AST_UnaryPrefix&&"-"==self.right.operator&&self.left.is_number(compressor)){self=make_node(AST_Binary,self,{operator:"-",left:self.left,right:self.right.expression});break}if(self.left instanceof AST_UnaryPrefix&&"-"==self.left.operator&&reversible()&&self.right.is_number(compressor)){self=make_node(AST_Binary,self,{operator:"-",left:self.right,right:self.left.expression});break}case"*":associative=compressor.option("unsafe_math");case"&":case"|":case"^":if(self.left.is_number(compressor)&&self.right.is_number(compressor)&&reversible()&&!(self.left instanceof AST_Binary&&self.left.operator!=self.operator&&PRECEDENCE[self.left.operator]>=PRECEDENCE[self.operator])){
var reversed=make_node(AST_Binary,self,{operator:self.operator,left:self.right,right:self.left});self=self.right instanceof AST_Constant&&!(self.left instanceof AST_Constant)?best_of(compressor,reversed,self):best_of(compressor,self,reversed)}associative&&self.is_number(compressor)&&(self.right instanceof AST_Binary&&self.right.operator==self.operator&&(self=make_node(AST_Binary,self,{operator:self.operator,left:make_node(AST_Binary,self.left,{operator:self.operator,left:self.left,right:self.right.left,start:self.left.start,end:self.right.left.end}),right:self.right.right})),self.right instanceof AST_Constant&&self.left instanceof AST_Binary&&self.left.operator==self.operator&&(self.left.left instanceof AST_Constant?self=make_node(AST_Binary,self,{operator:self.operator,left:make_node(AST_Binary,self.left,{operator:self.operator,left:self.left.left,right:self.right,start:self.left.left.start,end:self.right.end}),right:self.left.right}):self.left.right instanceof AST_Constant&&(self=make_node(AST_Binary,self,{operator:self.operator,left:make_node(AST_Binary,self.left,{operator:self.operator,left:self.left.right,right:self.right,start:self.left.right.start,end:self.right.end}),right:self.left.left}))),self.left instanceof AST_Binary&&self.left.operator==self.operator&&self.left.right instanceof AST_Constant&&self.right instanceof AST_Binary&&self.right.operator==self.operator&&self.right.left instanceof AST_Constant&&(self=make_node(AST_Binary,self,{operator:self.operator,left:make_node(AST_Binary,self.left,{operator:self.operator,left:make_node(AST_Binary,self.left.left,{operator:self.operator,left:self.left.right,right:self.right.left,start:self.left.right.start,end:self.right.left.end}),right:self.left.left}),right:self.right.right})))}}if(self.right instanceof AST_Binary&&self.right.operator==self.operator&&("&&"==self.operator||"||"==self.operator||"+"==self.operator&&(self.right.left.is_string(compressor)||self.left.is_string(compressor)&&self.right.right.is_string(compressor))))return self.left=make_node(AST_Binary,self.left,{operator:self.operator,left:self.left,right:self.right.left}),self.right=self.right.right,self.transform(compressor);var ev=self.evaluate(compressor);return ev!==self?(ev=make_node_from_constant(ev,self).optimize(compressor),best_of(compressor,ev,self)):self}),OPT(AST_SymbolRef,function(self,compressor){var def=self.resolve_defines(compressor);if(def)return def.optimize(compressor);if(compressor.option("screw_ie8")&&self.undeclared()&&(!self.scope.uses_with||!compressor.find_parent(AST_With)))switch(self.name){case"undefined":return make_node(AST_Undefined,self).optimize(compressor);case"NaN":return make_node(AST_NaN,self).optimize(compressor);case"Infinity":return make_node(AST_Infinity,self).optimize(compressor)}if(compressor.option("evaluate")&&compressor.option("reduce_vars")&&is_lhs(self,compressor.parent())!==self){var d=self.definition(),fixed=self.fixed_value();if(fixed){if(void 0===d.should_replace){var init=fixed.evaluate(compressor);if(init===fixed||!compressor.option("unsafe_regexp")&&init instanceof RegExp)d.should_replace=!1;else{init=make_node_from_constant(init,fixed);var fn,value=init.optimize(compressor).print_to_string().length;!function(value){var found;return value.walk(new TreeWalker(function(node){if(node instanceof AST_SymbolRef&&(found=!0),found)return!0})),found}(fixed)?(value=Math.min(value,fixed.print_to_string().length),fn=function(){var result=best_of_expression(init.optimize(compressor),fixed);return result===init||result===fixed?result.clone(!0):result}):fn=function(){var result=init.optimize(compressor);return result===init?result.clone(!0):result};var name=d.name.length,overhead=0;!compressor.option("unused")||d.global&&!compressor.option("toplevel")||(overhead=(name+2+value)/d.references.length),d.should_replace=value<=name+overhead&&fn}}if(d.should_replace)return d.should_replace()}}return self}),OPT(AST_Undefined,function(self,compressor){if(compressor.option("unsafe")){var undef=find_variable(compressor,"undefined");if(undef){var ref=make_node(AST_SymbolRef,self,{name:"undefined",scope:undef.scope,thedef:undef});return ref.is_undefined=!0,ref}}var lhs=is_lhs(compressor.self(),compressor.parent());return lhs&&is_atomic(lhs,self)?self:make_node(AST_UnaryPrefix,self,{operator:"void",expression:make_node(AST_Number,self,{value:0})})}),OPT(AST_Infinity,function(self,compressor){var lhs=is_lhs(compressor.self(),compressor.parent());return lhs&&is_atomic(lhs,self)?self:!compressor.option("keep_infinity")||lhs&&!is_atomic(lhs,self)||find_variable(compressor,"Infinity")?make_node(AST_Binary,self,{operator:"/",left:make_node(AST_Number,self,{value:1}),right:make_node(AST_Number,self,{value:0})}):self}),OPT(AST_NaN,function(self,compressor){var lhs=is_lhs(compressor.self(),compressor.parent());return lhs&&!is_atomic(lhs,self)||find_variable(compressor,"NaN")?make_node(AST_Binary,self,{operator:"/",left:make_node(AST_Number,self,{value:0}),right:make_node(AST_Number,self,{value:0})}):self});var ASSIGN_OPS=["+","-","/","*","%",">>","<<",">>>","|","^","&"],ASSIGN_OPS_COMMUTATIVE=["*","|","^","&"];OPT(AST_Assign,function(self,compressor){return self=self.lift_sequences(compressor),"="==self.operator&&self.left instanceof AST_SymbolRef&&self.right instanceof AST_Binary&&(self.right.left instanceof AST_SymbolRef&&self.right.left.name==self.left.name&&member(self.right.operator,ASSIGN_OPS)?(self.operator=self.right.operator+"=",self.right=self.right.right):self.right.right instanceof AST_SymbolRef&&self.right.right.name==self.left.name&&member(self.right.operator,ASSIGN_OPS_COMMUTATIVE)&&!self.right.left.has_side_effects(compressor)&&(self.operator=self.right.operator+"=",self.right=self.right.left)),self}),OPT(AST_Conditional,function(self,compressor){function booleanize(node){return node.is_boolean()?node:make_node(AST_UnaryPrefix,node,{operator:"!",expression:node.negate(compressor)})}function is_true(node){return node instanceof AST_True||node instanceof AST_UnaryPrefix&&"!"==node.operator&&node.expression instanceof AST_Constant&&!node.expression.value}function is_false(node){return node instanceof AST_False||node instanceof AST_UnaryPrefix&&"!"==node.operator&&node.expression instanceof AST_Constant&&!!node.expression.value}if(!compressor.option("conditionals"))return self;if(self.condition instanceof AST_Seq){var car=self.condition.car;return self.condition=self.condition.cdr,AST_Seq.cons(car,self)}var cond=self.condition.evaluate(compressor);if(cond!==self.condition)return cond?(compressor.warn("Condition always true [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.consequent)):(compressor.warn("Condition always false [{file}:{line},{col}]",self.start),maintain_this_binding(compressor.parent(),self,self.alternative));var negated=cond.negate(compressor,first_in_statement(compressor));best_of(compressor,cond,negated)===negated&&(self=make_node(AST_Conditional,self,{condition:negated,consequent:self.alternative,alternative:self.consequent}));var condition=self.condition,consequent=self.consequent,alternative=self.alternative;return condition instanceof AST_SymbolRef&&consequent instanceof AST_SymbolRef&&condition.definition()===consequent.definition()?make_node(AST_Binary,self,{operator:"||",left:condition,right:alternative}):consequent instanceof AST_Assign&&alternative instanceof AST_Assign&&consequent.operator==alternative.operator&&consequent.left.equivalent_to(alternative.left)&&(!self.condition.has_side_effects(compressor)||"="==consequent.operator&&!consequent.left.has_side_effects(compressor))?make_node(AST_Assign,self,{operator:consequent.operator,left:consequent.left,right:make_node(AST_Conditional,self,{condition:self.condition,consequent:consequent.right,alternative:alternative.right})}):consequent instanceof AST_Call&&alternative.TYPE===consequent.TYPE&&1==consequent.args.length&&1==alternative.args.length&&consequent.expression.equivalent_to(alternative.expression)&&!consequent.expression.has_side_effects(compressor)?(consequent.args[0]=make_node(AST_Conditional,self,{condition:self.condition,consequent:consequent.args[0],alternative:alternative.args[0]}),consequent):consequent instanceof AST_Conditional&&consequent.alternative.equivalent_to(alternative)?make_node(AST_Conditional,self,{condition:make_node(AST_Binary,self,{left:self.condition,operator:"&&",right:consequent.condition}),consequent:consequent.consequent,alternative:alternative}):consequent.equivalent_to(alternative)?make_node(AST_Seq,self,{car:self.condition,cdr:consequent}).optimize(compressor):is_true(self.consequent)?is_false(self.alternative)?booleanize(self.condition):make_node(AST_Binary,self,{operator:"||",left:booleanize(self.condition),right:self.alternative}):is_false(self.consequent)?is_true(self.alternative)?booleanize(self.condition.negate(compressor)):make_node(AST_Binary,self,{operator:"&&",left:booleanize(self.condition.negate(compressor)),right:self.alternative}):is_true(self.alternative)?make_node(AST_Binary,self,{operator:"||",left:booleanize(self.condition.negate(compressor)),right:self.consequent}):is_false(self.alternative)?make_node(AST_Binary,self,{operator:"&&",left:booleanize(self.condition),right:self.consequent}):self}),OPT(AST_Boolean,function(self,compressor){if(compressor.option("booleans")){var p=compressor.parent();return p instanceof AST_Binary&&("=="==p.operator||"!="==p.operator)?(compressor.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:p.operator,value:self.value,file:p.start.file,line:p.start.line,col:p.start.col}),make_node(AST_Number,self,{value:+self.value})):make_node(AST_UnaryPrefix,self,{operator:"!",expression:make_node(AST_Number,self,{value:1-self.value})})}return self}),OPT(AST_Sub,function(self,compressor){var prop=self.property;if(prop instanceof AST_String&&compressor.option("properties")){if(prop=prop.getValue(),RESERVED_WORDS(prop)?compressor.option("screw_ie8"):is_identifier_string(prop))return make_node(AST_Dot,self,{expression:self.expression,property:prop}).optimize(compressor);var v=parseFloat(prop);isNaN(v)||v.toString()!=prop||(self.property=make_node(AST_Number,self.property,{value:v}))}var ev=self.evaluate(compressor);return ev!==self?(ev=make_node_from_constant(ev,self).optimize(compressor),best_of(compressor,ev,self)):self}),OPT(AST_Dot,function(self,compressor){var def=self.resolve_defines(compressor);if(def)return def.optimize(compressor);var prop=self.property;if(RESERVED_WORDS(prop)&&!compressor.option("screw_ie8"))return make_node(AST_Sub,self,{expression:self.expression,property:make_node(AST_String,self,{value:prop})}).optimize(compressor);if(compressor.option("unsafe_proto")&&self.expression instanceof AST_Dot&&"prototype"==self.expression.property){var exp=self.expression.expression;if(exp instanceof AST_SymbolRef&&exp.undeclared())switch(exp.name){case"Array":self.expression=make_node(AST_Array,self.expression,{elements:[]});break;case"Object":self.expression=make_node(AST_Object,self.expression,{properties:[]});break;case"String":self.expression=make_node(AST_String,self.expression,{value:""})}}var ev=self.evaluate(compressor);return ev!==self?(ev=make_node_from_constant(ev,self).optimize(compressor),best_of(compressor,ev,self)):self}),OPT(AST_Array,literals_in_boolean_context),OPT(AST_Object,literals_in_boolean_context),OPT(AST_RegExp,literals_in_boolean_context),OPT(AST_Return,function(self,compressor){return self.value&&is_undefined(self.value,compressor)&&(self.value=null),self}),OPT(AST_VarDef,function(self,compressor){var defines=compressor.option("global_defs");return defines&&HOP(defines,self.name.name)&&compressor.warn("global_defs "+self.name.name+" redefined [{file}:{line},{col}]",self.start),self})}(),function(){function raw_token(moznode){if("Literal"==moznode.type)return null!=moznode.raw?moznode.raw:moznode.value+""}function my_start_token(moznode){var loc=moznode.loc,start=loc&&loc.start,range=moznode.range;return new AST_Token({file:loc&&loc.source,line:start&&start.line,col:start&&start.column,pos:range?range[0]:moznode.start,endline:start&&start.line,endcol:start&&start.column,endpos:range?range[0]:moznode.start,raw:raw_token(moznode)})}function my_end_token(moznode){var loc=moznode.loc,end=loc&&loc.end,range=moznode.range;return new AST_Token({file:loc&&loc.source,line:end&&end.line,col:end&&end.column,pos:range?range[1]:moznode.end,endline:end&&end.line,endcol:end&&end.column,endpos:range?range[1]:moznode.end,raw:raw_token(moznode)})}function map(moztype,mytype,propmap){var moz_to_me="function From_Moz_"+moztype+"(M){\n";moz_to_me+="return new U2."+mytype.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var me_to_moz="function To_Moz_"+moztype+"(M){\n";me_to_moz+="return {\ntype: "+JSON.stringify(moztype),propmap&&propmap.split(/\s*,\s*/).forEach(function(prop){var m=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(prop);if(!m)throw new Error("Can't understand property map: "+prop);var moz=m[1],how=m[2],my=m[3];switch(moz_to_me+=",\n"+my+": ",me_to_moz+=",\n"+moz+": ",how){case"@":moz_to_me+="M."+moz+".map(from_moz)",me_to_moz+="M."+my+".map(to_moz)";break;case">":moz_to_me+="from_moz(M."+moz+")",me_to_moz+="to_moz(M."+my+")";break;case"=":moz_to_me+="M."+moz,me_to_moz+="M."+my;break;case"%":moz_to_me+="from_moz(M."+moz+").body",me_to_moz+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+prop)}}),moz_to_me+="\n})\n}",me_to_moz+="\n}\n}",moz_to_me=new Function("U2","my_start_token","my_end_token","from_moz","return("+moz_to_me+")")(exports,my_start_token,my_end_token,from_moz),me_to_moz=new Function("to_moz","to_moz_block","to_moz_scope","return("+me_to_moz+")")(to_moz,to_moz_block,to_moz_scope),MOZ_TO_ME[moztype]=moz_to_me,def_to_moz(mytype,me_to_moz)}function from_moz(node){FROM_MOZ_STACK.push(node);var ret=null!=node?MOZ_TO_ME[node.type](node):null;return FROM_MOZ_STACK.pop(),ret}function set_moz_loc(mynode,moznode,myparent){var start=mynode.start,end=mynode.end;return null!=start.pos&&null!=end.endpos&&(moznode.range=[start.pos,end.endpos]),start.line&&(moznode.loc={start:{line:start.line,column:start.col},end:end.endline?{line:end.endline,column:end.endcol}:null},start.file&&(moznode.loc.source=start.file)),moznode}function def_to_moz(mytype,handler){mytype.DEFMETHOD("to_mozilla_ast",function(){return set_moz_loc(this,handler(this))})}function to_moz(node){return null!=node?node.to_mozilla_ast():null}function to_moz_block(node){return{type:"BlockStatement",body:node.body.map(to_moz)}}function to_moz_scope(type,node){var body=node.body.map(to_moz);return node.body[0]instanceof AST_SimpleStatement&&node.body[0].body instanceof AST_String&&body.unshift(to_moz(new AST_EmptyStatement(node.body[0]))),{type:type,body:body}}var normalize_directives=function(body){for(var in_directive=!0,i=0;i<body.length;i++)in_directive&&body[i]instanceof AST_Statement&&body[i].body instanceof AST_String?body[i]=new AST_Directive({start:body[i].start,end:body[i].end,value:body[i].body.value}):!in_directive||body[i]instanceof AST_Statement&&body[i].body instanceof AST_String||(in_directive=!1);return body},MOZ_TO_ME={Program:function(M){return new AST_Toplevel({start:my_start_token(M),end:my_end_token(M),body:normalize_directives(M.body.map(from_moz))})},FunctionDeclaration:function(M){return new AST_Defun({start:my_start_token(M),end:my_end_token(M),name:from_moz(M.id),argnames:M.params.map(from_moz),body:normalize_directives(from_moz(M.body).body)})},FunctionExpression:function(M){return new AST_Function({start:my_start_token(M),end:my_end_token(M),name:from_moz(M.id),argnames:M.params.map(from_moz),body:normalize_directives(from_moz(M.body).body)})},ExpressionStatement:function(M){return new AST_SimpleStatement({start:my_start_token(M),end:my_end_token(M),body:from_moz(M.expression)})},TryStatement:function(M){var handlers=M.handlers||[M.handler];if(handlers.length>1||M.guardedHandlers&&M.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new AST_Try({start:my_start_token(M),end:my_end_token(M),body:from_moz(M.block).body,bcatch:from_moz(handlers[0]),bfinally:M.finalizer?new AST_Finally(from_moz(M.finalizer)):null})},Property:function(M){var key=M.key,args={start:my_start_token(key),end:my_end_token(M.value),key:"Identifier"==key.type?key.name:key.value,value:from_moz(M.value)};return"init"==M.kind?new AST_ObjectKeyVal(args):(args.key=new AST_SymbolAccessor({name:args.key}),args.value=new AST_Accessor(args.value),"get"==M.kind?new AST_ObjectGetter(args):"set"==M.kind?new AST_ObjectSetter(args):void 0)},ArrayExpression:function(M){return new AST_Array({start:my_start_token(M),end:my_end_token(M),elements:M.elements.map(function(elem){return null===elem?new AST_Hole:from_moz(elem)})})},ObjectExpression:function(M){return new AST_Object({start:my_start_token(M),end:my_end_token(M),properties:M.properties.map(function(prop){return prop.type="Property",from_moz(prop)})})},SequenceExpression:function(M){return AST_Seq.from_array(M.expressions.map(from_moz))},MemberExpression:function(M){return new(M.computed?AST_Sub:AST_Dot)({start:my_start_token(M),end:my_end_token(M),property:M.computed?from_moz(M.property):M.property.name,expression:from_moz(M.object)})},SwitchCase:function(M){return new(M.test?AST_Case:AST_Default)({start:my_start_token(M),end:my_end_token(M),expression:from_moz(M.test),body:M.consequent.map(from_moz)})},VariableDeclaration:function(M){return new("const"===M.kind?AST_Const:AST_Var)({start:my_start_token(M),end:my_end_token(M),definitions:M.declarations.map(from_moz)})},Literal:function(M){var val=M.value,args={start:my_start_token(M),end:my_end_token(M)};if(null===val)return new AST_Null(args);switch(typeof val){case"string":return args.value=val,new AST_String(args);case"number":return args.value=val,new AST_Number(args);case"boolean":return new(val?AST_True:AST_False)(args);default:var rx=M.regex;return rx&&rx.pattern?args.value=new RegExp(rx.pattern,rx.flags).toString():args.value=M.regex&&M.raw?M.raw:val,new AST_RegExp(args)}},Identifier:function(M){var p=FROM_MOZ_STACK[FROM_MOZ_STACK.length-2];return new("LabeledStatement"==p.type?AST_Label:"VariableDeclarator"==p.type&&p.id===M?"const"==p.kind?AST_SymbolConst:AST_SymbolVar:"FunctionExpression"==p.type?p.id===M?AST_SymbolLambda:AST_SymbolFunarg:"FunctionDeclaration"==p.type?p.id===M?AST_SymbolDefun:AST_SymbolFunarg:"CatchClause"==p.type?AST_SymbolCatch:"BreakStatement"==p.type||"ContinueStatement"==p.type?AST_LabelRef:AST_SymbolRef)({start:my_start_token(M),end:my_end_token(M),name:M.name})}};MOZ_TO_ME.UpdateExpression=MOZ_TO_ME.UnaryExpression=function(M){return new(("prefix"in M?M.prefix:"UnaryExpression"==M.type)?AST_UnaryPrefix:AST_UnaryPostfix)({start:my_start_token(M),end:my_end_token(M),operator:M.operator,expression:from_moz(M.argument)})},map("EmptyStatement",AST_EmptyStatement),map("BlockStatement",AST_BlockStatement,"body@body"),map("IfStatement",AST_If,"test>condition, consequent>body, alternate>alternative"),map("LabeledStatement",AST_LabeledStatement,"label>label, body>body"),map("BreakStatement",AST_Break,"label>label"),map("ContinueStatement",AST_Continue,"label>label"),map("WithStatement",AST_With,"object>expression, body>body"),map("SwitchStatement",AST_Switch,"discriminant>expression, cases@body"),map("ReturnStatement",AST_Return,"argument>value"),map("ThrowStatement",AST_Throw,"argument>value"),map("WhileStatement",AST_While,"test>condition, body>body"),map("DoWhileStatement",AST_Do,"test>condition, body>body"),map("ForStatement",AST_For,"init>init, test>condition, update>step, body>body"),map("ForInStatement",AST_ForIn,"left>init, right>object, body>body"),map("DebuggerStatement",AST_Debugger),map("VariableDeclarator",AST_VarDef,"id>name, init>value"),map("CatchClause",AST_Catch,"param>argname, body%body"),map("ThisExpression",AST_This),map("BinaryExpression",AST_Binary,"operator=operator, left>left, right>right"),map("LogicalExpression",AST_Binary,"operator=operator, left>left, right>right"),map("AssignmentExpression",AST_Assign,"operator=operator, left>left, right>right"),map("ConditionalExpression",AST_Conditional,"test>condition, consequent>consequent, alternate>alternative"),map("NewExpression",AST_New,"callee>expression, arguments@args"),map("CallExpression",AST_Call,"callee>expression, arguments@args"),def_to_moz(AST_Toplevel,function(M){return to_moz_scope("Program",M)}),def_to_moz(AST_Defun,function(M){return{type:"FunctionDeclaration",id:to_moz(M.name),params:M.argnames.map(to_moz),body:to_moz_scope("BlockStatement",M)}}),def_to_moz(AST_Function,function(M){return{type:"FunctionExpression",id:to_moz(M.name),params:M.argnames.map(to_moz),body:to_moz_scope("BlockStatement",M)}}),def_to_moz(AST_Directive,function(M){return{type:"ExpressionStatement",expression:{type:"Literal",value:M.value}}}),def_to_moz(AST_SimpleStatement,function(M){return{type:"ExpressionStatement",expression:to_moz(M.body)}}),def_to_moz(AST_SwitchBranch,function(M){return{type:"SwitchCase",test:to_moz(M.expression),consequent:M.body.map(to_moz)}}),def_to_moz(AST_Try,function(M){return{type:"TryStatement",block:to_moz_block(M),handler:to_moz(M.bcatch),guardedHandlers:[],finalizer:to_moz(M.bfinally)}}),def_to_moz(AST_Catch,function(M){return{type:"CatchClause",param:to_moz(M.argname),guard:null,body:to_moz_block(M)}}),def_to_moz(AST_Definitions,function(M){return{type:"VariableDeclaration",kind:M instanceof AST_Const?"const":"var",declarations:M.definitions.map(to_moz)}}),def_to_moz(AST_Seq,function(M){return{type:"SequenceExpression",expressions:M.to_array().map(to_moz)}}),def_to_moz(AST_PropAccess,function(M){var isComputed=M instanceof AST_Sub;return{type:"MemberExpression",object:to_moz(M.expression),computed:isComputed,property:isComputed?to_moz(M.property):{type:"Identifier",name:M.property}}}),def_to_moz(AST_Unary,function(M){return{type:"++"==M.operator||"--"==M.operator?"UpdateExpression":"UnaryExpression",operator:M.operator,prefix:M instanceof AST_UnaryPrefix,argument:to_moz(M.expression)}}),def_to_moz(AST_Binary,function(M){return{type:"&&"==M.operator||"||"==M.operator?"LogicalExpression":"BinaryExpression",left:to_moz(M.left),operator:M.operator,right:to_moz(M.right)}}),def_to_moz(AST_Array,function(M){return{type:"ArrayExpression",elements:M.elements.map(to_moz)}}),def_to_moz(AST_Object,function(M){return{type:"ObjectExpression",properties:M.properties.map(to_moz)}}),def_to_moz(AST_ObjectProperty,function(M){var kind,key={type:"Literal",value:M.key instanceof AST_SymbolAccessor?M.key.name:M.key};return M instanceof AST_ObjectKeyVal?kind="init":M instanceof AST_ObjectGetter?kind="get":M instanceof AST_ObjectSetter&&(kind="set"),{type:"Property",kind:kind,key:key,value:to_moz(M.value)}}),def_to_moz(AST_Symbol,function(M){var def=M.definition();return{type:"Identifier",name:def?def.mangled_name||def.name:M.name}}),def_to_moz(AST_RegExp,function(M){var value=M.value;return{type:"Literal",value:value,raw:value.toString(),regex:{pattern:value.source,flags:value.toString().match(/[gimuy]*$/)[0]}}}),def_to_moz(AST_Constant,function(M){var value=M.value;return"number"==typeof value&&(value<0||0===value&&1/value<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-value,raw:M.start.raw}}:{type:"Literal",value:value,raw:M.start.raw}}),def_to_moz(AST_Atom,function(M){return{type:"Identifier",name:String(M.value)}}),AST_Boolean.DEFMETHOD("to_mozilla_ast",AST_Constant.prototype.to_mozilla_ast),AST_Null.DEFMETHOD("to_mozilla_ast",AST_Constant.prototype.to_mozilla_ast),AST_Hole.DEFMETHOD("to_mozilla_ast",function(){return null}),AST_Block.DEFMETHOD("to_mozilla_ast",AST_BlockStatement.prototype.to_mozilla_ast),AST_Lambda.DEFMETHOD("to_mozilla_ast",AST_Function.prototype.to_mozilla_ast);var FROM_MOZ_STACK=null;AST_Node.from_mozilla_ast=function(node){var save_stack=FROM_MOZ_STACK;FROM_MOZ_STACK=[];var ast=from_moz(node);return FROM_MOZ_STACK=save_stack,ast}}(),exports.Compressor=Compressor,exports.DefaultsError=DefaultsError,exports.Dictionary=Dictionary,exports.JS_Parse_Error=JS_Parse_Error,exports.MAP=MAP,exports.OutputStream=OutputStream,exports.SourceMap=SourceMap,exports.TreeTransformer=TreeTransformer,exports.TreeWalker=TreeWalker,exports.base54=base54,exports.defaults=defaults,exports.mangle_properties=mangle_properties,exports.merge=merge,exports.parse=parse,exports.push_uniq=push_uniq,exports.string_template=string_template,exports.tokenizer=tokenizer,exports.is_identifier=is_identifier,exports.SymbolDef=SymbolDef,exports.sys=sys,exports.MOZ_SourceMap=MOZ_SourceMap,exports.UglifyJS=UglifyJS,exports.array_to_hash=array_to_hash,exports.slice=slice,exports.characters=characters,exports.member=member,exports.find_if=find_if,exports.repeat_string=repeat_string,exports.configure_error_stack=configure_error_stack,exports.DefaultsError=DefaultsError,exports.defaults=defaults,exports.merge=merge,exports.noop=noop,exports.return_false=return_false,exports.return_true=return_true,exports.return_this=return_this,exports.return_null=return_null,exports.MAP=MAP,exports.push_uniq=push_uniq,exports.string_template=string_template,exports.remove=remove,exports.mergeSort=mergeSort,exports.set_difference=set_difference,exports.set_intersection=set_intersection,exports.makePredicate=makePredicate,exports.all=all,exports.Dictionary=Dictionary,exports.HOP=HOP,exports.first_in_statement=first_in_statement,exports.DEFNODE=DEFNODE,exports.AST_Token=AST_Token,exports.AST_Node=AST_Node,exports.AST_Statement=AST_Statement,exports.AST_Debugger=AST_Debugger,exports.AST_Directive=AST_Directive,exports.AST_SimpleStatement=AST_SimpleStatement,exports.walk_body=walk_body,exports.AST_Block=AST_Block,exports.AST_BlockStatement=AST_BlockStatement,exports.AST_EmptyStatement=AST_EmptyStatement,exports.AST_StatementWithBody=AST_StatementWithBody,exports.AST_LabeledStatement=AST_LabeledStatement,exports.AST_IterationStatement=AST_IterationStatement,exports.AST_DWLoop=AST_DWLoop,exports.AST_Do=AST_Do,exports.AST_While=AST_While,exports.AST_For=AST_For,exports.AST_ForIn=AST_ForIn,exports.AST_With=AST_With,exports.AST_Scope=AST_Scope,exports.AST_Toplevel=AST_Toplevel,exports.AST_Lambda=AST_Lambda,exports.AST_Accessor=AST_Accessor,exports.AST_Function=AST_Function,exports.AST_Defun=AST_Defun,exports.AST_Jump=AST_Jump,exports.AST_Exit=AST_Exit,exports.AST_Return=AST_Return,exports.AST_Throw=AST_Throw,exports.AST_LoopControl=AST_LoopControl,exports.AST_Break=AST_Break,exports.AST_Continue=AST_Continue,exports.AST_If=AST_If,exports.AST_Switch=AST_Switch,exports.AST_SwitchBranch=AST_SwitchBranch,exports.AST_Default=AST_Default,exports.AST_Case=AST_Case,exports.AST_Try=AST_Try,exports.AST_Catch=AST_Catch,exports.AST_Finally=AST_Finally,exports.AST_Definitions=AST_Definitions,exports.AST_Var=AST_Var,exports.AST_Const=AST_Const,exports.AST_VarDef=AST_VarDef,exports.AST_Call=AST_Call,exports.AST_New=AST_New,exports.AST_Seq=AST_Seq,exports.AST_PropAccess=AST_PropAccess,exports.AST_Dot=AST_Dot,exports.AST_Sub=AST_Sub,exports.AST_Unary=AST_Unary,exports.AST_UnaryPrefix=AST_UnaryPrefix,exports.AST_UnaryPostfix=AST_UnaryPostfix,exports.AST_Binary=AST_Binary,exports.AST_Conditional=AST_Conditional,exports.AST_Assign=AST_Assign,exports.AST_Array=AST_Array,exports.AST_Object=AST_Object,exports.AST_ObjectProperty=AST_ObjectProperty,exports.AST_ObjectKeyVal=AST_ObjectKeyVal,exports.AST_ObjectSetter=AST_ObjectSetter,exports.AST_ObjectGetter=AST_ObjectGetter,exports.AST_Symbol=AST_Symbol,exports.AST_SymbolAccessor=AST_SymbolAccessor,exports.AST_SymbolDeclaration=AST_SymbolDeclaration,exports.AST_SymbolVar=AST_SymbolVar,exports.AST_SymbolConst=AST_SymbolConst,exports.AST_SymbolFunarg=AST_SymbolFunarg,exports.AST_SymbolDefun=AST_SymbolDefun,exports.AST_SymbolLambda=AST_SymbolLambda,exports.AST_SymbolCatch=AST_SymbolCatch,exports.AST_Label=AST_Label,exports.AST_SymbolRef=AST_SymbolRef,exports.AST_LabelRef=AST_LabelRef,exports.AST_This=AST_This,exports.AST_Constant=AST_Constant,exports.AST_String=AST_String,exports.AST_Number=AST_Number,exports.AST_RegExp=AST_RegExp,exports.AST_Atom=AST_Atom,exports.AST_Null=AST_Null,exports.AST_NaN=AST_NaN,exports.AST_Undefined=AST_Undefined,exports.AST_Hole=AST_Hole,exports.AST_Infinity=AST_Infinity,exports.AST_Boolean=AST_Boolean,exports.AST_False=AST_False,exports.AST_True=AST_True,exports.TreeWalker=TreeWalker,exports.KEYWORDS=KEYWORDS,exports.KEYWORDS_ATOM=KEYWORDS_ATOM,exports.RESERVED_WORDS=RESERVED_WORDS,exports.KEYWORDS_BEFORE_EXPRESSION=KEYWORDS_BEFORE_EXPRESSION,exports.OPERATOR_CHARS=OPERATOR_CHARS,exports.RE_HEX_NUMBER=RE_HEX_NUMBER,exports.RE_OCT_NUMBER=RE_OCT_NUMBER,exports.OPERATORS=OPERATORS,exports.WHITESPACE_CHARS=WHITESPACE_CHARS,exports.NEWLINE_CHARS=NEWLINE_CHARS,exports.PUNC_BEFORE_EXPRESSION=PUNC_BEFORE_EXPRESSION,exports.PUNC_CHARS=PUNC_CHARS,exports.REGEXP_MODIFIERS=REGEXP_MODIFIERS,exports.UNICODE=UNICODE,exports.is_letter=is_letter,exports.is_digit=is_digit,exports.is_alphanumeric_char=is_alphanumeric_char,exports.is_unicode_digit=is_unicode_digit,exports.is_unicode_combining_mark=is_unicode_combining_mark,exports.is_unicode_connector_punctuation=is_unicode_connector_punctuation,exports.is_identifier=is_identifier,exports.is_identifier_start=is_identifier_start,exports.is_identifier_char=is_identifier_char,exports.is_identifier_string=is_identifier_string,exports.parse_js_number=parse_js_number,exports.JS_Parse_Error=JS_Parse_Error,exports.js_error=js_error,exports.is_token=is_token,exports.EX_EOF=EX_EOF,exports.tokenizer=tokenizer,exports.UNARY_PREFIX=UNARY_PREFIX,exports.UNARY_POSTFIX=UNARY_POSTFIX,exports.ASSIGNMENT=ASSIGNMENT,exports.PRECEDENCE=PRECEDENCE,exports.STATEMENTS_WITH_LABELS=STATEMENTS_WITH_LABELS,exports.ATOMIC_START_TOKEN=ATOMIC_START_TOKEN,exports.parse=parse,exports.TreeTransformer=TreeTransformer,exports.SymbolDef=SymbolDef,exports.base54=base54,exports.EXPECT_DIRECTIVE=EXPECT_DIRECTIVE,exports.is_some_comments=is_some_comments,exports.OutputStream=OutputStream,exports.Compressor=Compressor,exports.SourceMap=SourceMap,exports.find_builtins=find_builtins,exports.mangle_properties=mangle_properties,exports.AST_Node.warn_function=function(txt){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(txt)},exports.minify=function(files,options){function addFile(file,fileUrl){var code=options.fromString?file:fs.readFileSync(file,"utf8");"inline"==inMap&&(inMap=read_source_map(code)),sourcesContent[fileUrl]=code,toplevel=UglifyJS.parse(code,{filename:fileUrl,toplevel:toplevel,bare_returns:options.parse?options.parse.bare_returns:void 0})}options=UglifyJS.defaults(options,{compress:{},fromString:!1,inSourceMap:null,mangle:{},mangleProperties:!1,nameCache:null,outFileName:null,output:null,outSourceMap:null,parse:{},sourceMapInline:!1,sourceMapUrl:null,sourceRoot:null,spidermonkey:!1,warnings:!1}),UglifyJS.base54.reset();var inMap=options.inSourceMap;"string"==typeof inMap&&"inline"!=inMap&&(inMap=JSON.parse(fs.readFileSync(inMap,"utf8")));var toplevel=null,sourcesContent={};if(options.spidermonkey){if("inline"==inMap)throw new Error("inline source map only works with built-in parser");toplevel=UglifyJS.AST_Node.from_mozilla_ast(files)}else{if(!options.fromString&&(files=UglifyJS.simple_glob(files),"inline"==inMap&&files.length>1))throw new Error("inline source map only works with singular input");[].concat(files).forEach(function(files,i){if("string"==typeof files)addFile(files,options.fromString?i:files);else for(var fileUrl in files)addFile(files[fileUrl],fileUrl)})}if(options.wrap&&(toplevel=toplevel.wrap_commonjs(options.wrap,options.exportAll)),options.compress){var compress={warnings:options.warnings};UglifyJS.merge(compress,options.compress),toplevel.figure_out_scope(options.mangle);var sq=UglifyJS.Compressor(compress);toplevel=sq.compress(toplevel)}
(options.mangleProperties||options.nameCache)&&(options.mangleProperties.cache=UglifyJS.readNameCache(options.nameCache,"props"),toplevel=UglifyJS.mangle_properties(toplevel,options.mangleProperties),UglifyJS.writeNameCache(options.nameCache,"props",options.mangleProperties.cache)),options.mangle&&(toplevel.figure_out_scope(options.mangle),toplevel.compute_char_frequency(options.mangle),toplevel.mangle_names(options.mangle));var output={max_line_len:32e3};if((options.outSourceMap||options.sourceMapInline)&&(output.source_map=UglifyJS.SourceMap({file:options.outFileName||("string"==typeof options.outSourceMap?options.outSourceMap.replace(/\.map$/i,""):null),orig:inMap,root:options.sourceRoot}),options.sourceMapIncludeSources))for(var file in sourcesContent)sourcesContent.hasOwnProperty(file)&&output.source_map.get().setSourceContent(file,sourcesContent[file]);options.output&&UglifyJS.merge(output,options.output);var stream=UglifyJS.OutputStream(output);toplevel.print(stream);var source_map=output.source_map;source_map&&(source_map+="");return options.sourceMapInline?stream+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new Buffer(source_map).toString("base64"):options.outSourceMap&&"string"==typeof options.outSourceMap&&!1!==options.sourceMapUrl&&(stream+="\n//# sourceMappingURL="+("string"==typeof options.sourceMapUrl?options.sourceMapUrl:options.outSourceMap)),{code:stream+"",map:source_map}},exports.describe_ast=function(){function doitem(ctor){out.print("AST_"+ctor.TYPE);var props=ctor.SELF_PROPS.filter(function(prop){return!/^\$/.test(prop)});props.length>0&&(out.space(),out.with_parens(function(){props.forEach(function(prop,i){i&&out.space(),out.print(prop)})})),ctor.documentation&&(out.space(),out.print_string(ctor.documentation)),ctor.SUBCLASSES.length>0&&(out.space(),out.with_block(function(){ctor.SUBCLASSES.forEach(function(ctor,i){out.indent(),doitem(ctor),out.newline()})}))}var out=UglifyJS.OutputStream({beautify:!0});return doitem(UglifyJS.AST_Node),out+""}}).call(this,require("buffer").Buffer)},{buffer:41,"source-map":451,util:457}],453:[function(require,module,exports){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":454,punycode:400,querystring:403}],454:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],455:[function(require,module,exports){(function(global){function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=deprecate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],456:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],457:[function(require,module,exports){arguments[4][11][0].apply(exports,arguments)},{"./support/isBuffer":456,_process:371,dup:11,inherits:231}],458:[function(require,module,exports){module.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}],459:[function(require,module,exports){"use strict";function reallyParse(source){return acorn.parse(source,{ecmaVersion:6,allowReturnOutsideFunction:!0})}function addWith(obj,src,exclude){obj+="",src+="",exclude=exclude||[],exclude=exclude.concat(detect(obj).map(function(global){return global.name}));var vars=detect(src).map(function(global){return global.name}).filter(function(v){return-1===exclude.indexOf(v)&&"undefined"!==v&&"this"!==v});if(0===vars.length)return src;var declareLocal="",local="locals_for_with",result="result_of_with";if(/^[a-zA-Z0-9$_]+$/.test(obj))local=obj;else{for(;-1!=vars.indexOf(local)||-1!=exclude.indexOf(local);)local+="_";declareLocal="var "+local+" = ("+obj+")"}for(;-1!=vars.indexOf(result)||-1!=exclude.indexOf(result);)result+="_";var inputVars=vars.map(function(v){return JSON.stringify(v)+" in "+local+"?"+local+"."+v+":typeof "+v+'!=="undefined"?'+v+":undefined"});return src="(function ("+vars.join(", ")+") {"+src+"}.call(this"+inputVars.map(function(v){return","+v}).join("")+"))",";"+declareLocal+";"+unwrapReturns(src,result)+";"}function unwrapReturns(src,result){function source(node){return src.slice(node.start,node.end).join("")}function replace(node,str){for(var i=node.start;i<node.end;i++)src[i]="";src[node.start]=str}var ref,originalSource=src,hasReturn=!1,ast=reallyParse(src);if(src=src.split(""),1!==(ref=ast.body).length||"ExpressionStatement"!==(ref=ref[0]).type||"CallExpression"!==(ref=ref.expression).type||"MemberExpression"!==(ref=ref.callee).type||!1!==ref.computed||"call"!==ref.property.name||"FunctionExpression"!==(ref=ref.object).type)throw new Error("AST does not seem to represent a self-calling function");var fn=ref;return walk.recursive(ast,null,{Function:function(node,st,c){node===fn&&c(node.body,st,"ScopeBody")},ReturnStatement:function(node){hasReturn=!0,replace(node,"return {value: ("+(node.argument?source(node.argument):"undefined")+")};")}}),hasReturn?"var "+result+"="+src.join("")+";if ("+result+") return "+result+".value":originalSource}var detect=require("acorn-globals"),acorn=require("acorn"),walk=require("acorn/dist/walk");module.exports=addWith},{acorn:4,"acorn-globals":1,"acorn/dist/walk":5}],460:[function(require,module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],461:[function(require,module,exports){function renderPug(pugText,outputEl){var renderResult="";try{renderResult=pug.render(pugText,{pretty:!0}),outputEl.classList.remove("error")}catch(e){renderResult=e.message,outputEl.classList.add("error")}outputEl.value=renderResult.trim()}function textareaEnableTabIndent(textarea){textarea.onkeydown=function(e){if(9==e.keyCode||9==e.which){e.preventDefault();var oldStart=this.selectionStart,before=this.value.substring(0,this.selectionStart),selected=this.value.substring(this.selectionStart,this.selectionEnd),after=this.value.substring(this.selectionEnd);this.value=before+"  "+selected+after,this.selectionEnd=oldStart+2}}}const pug=require("pug");!function(){const inputEl=document.querySelector("#source textarea"),outputEl=document.querySelector("#result textarea");inputEl.addEventListener("input",function(ev){renderPug(ev.target.value,outputEl)}),textareaEnableTabIndent(inputEl)}()},{pug:399}]},{},[461]);
